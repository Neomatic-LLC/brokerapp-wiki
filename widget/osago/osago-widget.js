(function(un,Nn){typeof exports=="object"&&typeof module<"u"?Nn(exports):typeof define=="function"&&define.amd?define(["exports"],Nn):(un=typeof globalThis<"u"?globalThis:un||self,Nn(un.OsagoWidget={}))})(this,function(un){"use strict";var WR=Object.defineProperty;var XR=(un,Nn,dr)=>Nn in un?WR(un,Nn,{enumerable:!0,configurable:!0,writable:!0,value:dr}):un[Nn]=dr;var H=(un,Nn,dr)=>XR(un,typeof Nn!="symbol"?Nn+"":Nn,dr);var LN;function Nn(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var dr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Da(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Yp={exports:{}},Io={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UN=Symbol.for("react.transitional.element"),$N=Symbol.for("react.fragment");function Zp(e,t,n){var r=null;if(n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),"key"in t){n={};for(var i in t)i!=="key"&&(n[i]=t[i])}else n=t;return t=n.ref,{$$typeof:UN,type:e,key:r,ref:t!==void 0?t:null,props:n}}Io.Fragment=$N,Io.jsx=Zp,Io.jsxs=Zp,Yp.exports=Io;var c=Yp.exports,Qp={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dd=Symbol.for("react.transitional.element"),PN=Symbol.for("react.portal"),FN=Symbol.for("react.fragment"),BN=Symbol.for("react.strict_mode"),VN=Symbol.for("react.profiler"),qN=Symbol.for("react.consumer"),HN=Symbol.for("react.context"),YN=Symbol.for("react.forward_ref"),ZN=Symbol.for("react.suspense"),QN=Symbol.for("react.memo"),Gp=Symbol.for("react.lazy"),GN=Symbol.for("react.activity"),Wp=Symbol.iterator;function WN(e){return e===null||typeof e!="object"?null:(e=Wp&&e[Wp]||e["@@iterator"],typeof e=="function"?e:null)}var Xp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kp=Object.assign,Jp={};function Ta(e,t,n){this.props=e,this.context=t,this.refs=Jp,this.updater=n||Xp}Ta.prototype.isReactComponent={},Ta.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},Ta.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function eg(){}eg.prototype=Ta.prototype;function fd(e,t,n){this.props=e,this.context=t,this.refs=Jp,this.updater=n||Xp}var hd=fd.prototype=new eg;hd.constructor=fd,Kp(hd,Ta.prototype),hd.isPureReactComponent=!0;var tg=Array.isArray;function md(){}var ut={H:null,A:null,T:null,S:null},ng=Object.prototype.hasOwnProperty;function pd(e,t,n){var r=n.ref;return{$$typeof:dd,type:e,key:t,ref:r!==void 0?r:null,props:n}}function XN(e,t){return pd(e.type,t,e.props)}function gd(e){return typeof e=="object"&&e!==null&&e.$$typeof===dd}function KN(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var rg=/\/+/g;function vd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?KN(""+e.key):t.toString(36)}function JN(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(md,md):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function _a(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case dd:case PN:s=!0;break;case Gp:return s=e._init,_a(s(e._payload),t,n,r,i)}}if(s)return i=i(e),s=r===""?"."+vd(e,0):r,tg(i)?(n="",s!=null&&(n=s.replace(rg,"$&/")+"/"),_a(i,t,n,"",function(u){return u})):i!=null&&(gd(i)&&(i=XN(i,n+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(rg,"$&/")+"/")+s)),t.push(i)),1;s=0;var l=r===""?".":r+":";if(tg(e))for(var o=0;o<e.length;o++)r=e[o],a=l+vd(r,o),s+=_a(r,t,n,a,i);else if(o=WN(e),typeof o=="function")for(e=o.call(e),o=0;!(r=e.next()).done;)r=r.value,a=l+vd(r,o++),s+=_a(r,t,n,a,i);else if(a==="object"){if(typeof e.then=="function")return _a(JN(e),t,n,r,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function Ro(e,t,n){if(e==null)return e;var r=[],i=0;return _a(e,r,"","",function(a){return t.call(n,a,i++)}),r}function eE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ig=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},tE={map:Ro,forEach:function(e,t,n){Ro(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ro(e,function(){t++}),t},toArray:function(e){return Ro(e,function(t){return t})||[]},only:function(e){if(!gd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Re.Activity=GN,Re.Children=tE,Re.Component=Ta,Re.Fragment=FN,Re.Profiler=VN,Re.PureComponent=fd,Re.StrictMode=BN,Re.Suspense=ZN,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ut,Re.__COMPILER_RUNTIME={__proto__:null,c:function(e){return ut.H.useMemoCache(e)}},Re.cache=function(e){return function(){return e.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var r=Kp({},e.props),i=e.key;if(t!=null)for(a in t.key!==void 0&&(i=""+t.key),t)!ng.call(t,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&t.ref===void 0||(r[a]=t[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];r.children=s}return pd(e.type,i,r)},Re.createContext=function(e){return e={$$typeof:HN,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:qN,_context:e},e},Re.createElement=function(e,t,n){var r,i={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=""+t.key),t)ng.call(t,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),o=0;o<s;o++)l[o]=arguments[o+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return pd(e,a,i)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(e){return{$$typeof:YN,render:e}},Re.isValidElement=gd,Re.lazy=function(e){return{$$typeof:Gp,_payload:{_status:-1,_result:e},_init:eE}},Re.memo=function(e,t){return{$$typeof:QN,type:e,compare:t===void 0?null:t}},Re.startTransition=function(e){var t=ut.T,n={};ut.T=n;try{var r=e(),i=ut.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(md,ig)}catch(a){ig(a)}finally{t!==null&&n.types!==null&&(t.types=n.types),ut.T=t}},Re.unstable_useCacheRefresh=function(){return ut.H.useCacheRefresh()},Re.use=function(e){return ut.H.use(e)},Re.useActionState=function(e,t,n){return ut.H.useActionState(e,t,n)},Re.useCallback=function(e,t){return ut.H.useCallback(e,t)},Re.useContext=function(e){return ut.H.useContext(e)},Re.useDebugValue=function(){},Re.useDeferredValue=function(e,t){return ut.H.useDeferredValue(e,t)},Re.useEffect=function(e,t){return ut.H.useEffect(e,t)},Re.useEffectEvent=function(e){return ut.H.useEffectEvent(e)},Re.useId=function(){return ut.H.useId()},Re.useImperativeHandle=function(e,t,n){return ut.H.useImperativeHandle(e,t,n)},Re.useInsertionEffect=function(e,t){return ut.H.useInsertionEffect(e,t)},Re.useLayoutEffect=function(e,t){return ut.H.useLayoutEffect(e,t)},Re.useMemo=function(e,t){return ut.H.useMemo(e,t)},Re.useOptimistic=function(e,t){return ut.H.useOptimistic(e,t)},Re.useReducer=function(e,t,n){return ut.H.useReducer(e,t,n)},Re.useRef=function(e){return ut.H.useRef(e)},Re.useState=function(e){return ut.H.useState(e)},Re.useSyncExternalStore=function(e,t,n){return ut.H.useSyncExternalStore(e,t,n)},Re.useTransition=function(){return ut.H.useTransition()},Re.version="19.2.0",Qp.exports=Re;var E=Qp.exports;const ze=Da(E),nE=Nn({__proto__:null,default:ze},[E]);var ag={exports:{}},zo={},sg={exports:{}},lg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,O){var A=I.length;I.push(O);e:for(;0<A;){var B=A-1>>>1,U=I[B];if(0<i(U,O))I[B]=O,I[A]=U,A=B;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var O=I[0],A=I.pop();if(A!==O){I[0]=A;e:for(var B=0,U=I.length,L=U>>>1;B<L;){var le=2*(B+1)-1,z=I[le],K=le+1,ie=I[K];if(0>i(z,A))K<U&&0>i(ie,z)?(I[B]=ie,I[K]=A,B=K):(I[B]=z,I[le]=A,B=le);else if(K<U&&0>i(ie,A))I[B]=ie,I[K]=A,B=K;else break e}}return O}function i(I,O){var A=I.sortIndex-O.sortIndex;return A!==0?A:I.id-O.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var o=[],u=[],d=1,m=null,f=3,h=!1,g=!1,w=!1,S=!1,v=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function x(I){for(var O=n(u);O!==null;){if(O.callback===null)r(u);else if(O.startTime<=I)r(u),O.sortIndex=O.expirationTime,t(o,O);else break;O=n(u)}}function C(I){if(w=!1,x(I),!g)if(n(o)!==null)g=!0,V||(V=!0,X());else{var O=n(u);O!==null&&Y(C,O.startTime-I)}}var V=!1,D=-1,k=5,M=-1;function _(){return S?!0:!(e.unstable_now()-M<k)}function G(){if(S=!1,V){var I=e.unstable_now();M=I;var O=!0;try{e:{g=!1,w&&(w=!1,p(D),D=-1),h=!0;var A=f;try{t:{for(x(I),m=n(o);m!==null&&!(m.expirationTime>I&&_());){var B=m.callback;if(typeof B=="function"){m.callback=null,f=m.priorityLevel;var U=B(m.expirationTime<=I);if(I=e.unstable_now(),typeof U=="function"){m.callback=U,x(I),O=!0;break t}m===n(o)&&r(o),x(I)}else r(o);m=n(o)}if(m!==null)O=!0;else{var L=n(u);L!==null&&Y(C,L.startTime-I),O=!1}}break e}finally{m=null,f=A,h=!1}O=void 0}}finally{O?X():V=!1}}}var X;if(typeof y=="function")X=function(){y(G)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,P=J.port2;J.port1.onmessage=G,X=function(){P.postMessage(null)}}else X=function(){v(G,0)};function Y(I,O){D=v(function(){I(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(I){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var A=f;f=O;try{return I()}finally{f=A}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(I,O){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var A=f;f=I;try{return O()}finally{f=A}},e.unstable_scheduleCallback=function(I,O,A){var B=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?B+A:B):A=B,I){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=A+U,I={id:d++,callback:O,priorityLevel:I,startTime:A,expirationTime:U,sortIndex:-1},A>B?(I.sortIndex=A,t(u,I),n(o)===null&&I===n(u)&&(w?(p(D),D=-1):w=!0,Y(C,A-B))):(I.sortIndex=U,t(o,I),g||h||(g=!0,V||(V=!0,X()))),I},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(I){var O=f;return function(){var A=f;f=O;try{return I.apply(this,arguments)}finally{f=A}}}})(lg),sg.exports=lg;var rE=sg.exports,og={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iE=E;function cg(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Jr(){}var ln={d:{f:Jr,r:function(){throw Error(cg(522))},D:Jr,C:Jr,L:Jr,m:Jr,X:Jr,S:Jr,M:Jr},p:0,findDOMNode:null},aE=Symbol.for("react.portal");function sE(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:aE,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}var Gs=iE.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Lo(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ln,sn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(cg(299));return sE(e,t,null,n)},sn.flushSync=function(e){var t=Gs.T,n=ln.p;try{if(Gs.T=null,ln.p=2,e)return e()}finally{Gs.T=t,ln.p=n,ln.d.f()}},sn.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,ln.d.C(e,t))},sn.prefetchDNS=function(e){typeof e=="string"&&ln.d.D(e)},sn.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,r=Lo(n,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,a=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?ln.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):n==="script"&&ln.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:typeof t.nonce=="string"?t.nonce:void 0})}},sn.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Lo(t.as,t.crossOrigin);ln.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&ln.d.M(e)},sn.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,r=Lo(n,t.crossOrigin);ln.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}},sn.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Lo(t.as,t.crossOrigin);ln.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else ln.d.m(e)},sn.requestFormReset=function(e){ln.d.r(e)},sn.unstable_batchedUpdates=function(e,t){return e(t)},sn.useFormState=function(e,t,n){return Gs.H.useFormState(e,t,n)},sn.useFormStatus=function(){return Gs.H.useHostTransitionStatus()},sn.version="19.2.0";function ug(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ug)}catch(e){console.error(e)}}ug(),og.exports=sn;var yd=og.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ut=rE,dg=E,lE=yd;function ne(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function fg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ws(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function hg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function mg(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function pg(e){if(Ws(e)!==e)throw Error(ne(188))}function oE(e){var t=e.alternate;if(!t){if(t=Ws(e),t===null)throw Error(ne(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return pg(i),e;if(a===r)return pg(i),t;a=a.sibling}throw Error(ne(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(ne(189))}}if(n.alternate!==r)throw Error(ne(190))}if(n.tag!==3)throw Error(ne(188));return n.stateNode.current===n?e:t}function gg(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=gg(e),t!==null)return t;e=e.sibling}return null}var dt=Object.assign,cE=Symbol.for("react.element"),Uo=Symbol.for("react.transitional.element"),Xs=Symbol.for("react.portal"),Oa=Symbol.for("react.fragment"),vg=Symbol.for("react.strict_mode"),bd=Symbol.for("react.profiler"),yg=Symbol.for("react.consumer"),_r=Symbol.for("react.context"),wd=Symbol.for("react.forward_ref"),Sd=Symbol.for("react.suspense"),xd=Symbol.for("react.suspense_list"),Nd=Symbol.for("react.memo"),ei=Symbol.for("react.lazy"),Ed=Symbol.for("react.activity"),uE=Symbol.for("react.memo_cache_sentinel"),bg=Symbol.iterator;function Ks(e){return e===null||typeof e!="object"?null:(e=bg&&e[bg]||e["@@iterator"],typeof e=="function"?e:null)}var dE=Symbol.for("react.client.reference");function Dd(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===dE?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Oa:return"Fragment";case bd:return"Profiler";case vg:return"StrictMode";case Sd:return"Suspense";case xd:return"SuspenseList";case Ed:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Xs:return"Portal";case _r:return e.displayName||"Context";case yg:return(e._context.displayName||"Context")+".Consumer";case wd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Nd:return t=e.displayName||null,t!==null?t:Dd(e.type)||"Memo";case ei:t=e._payload,e=e._init;try{return Dd(e(t))}catch{}}return null}var Js=Array.isArray,je=dg.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ge=lE.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Pi={pending:!1,data:null,method:null,action:null},Td=[],Ca=-1;function fr(e){return{current:e}}function qt(e){0>Ca||(e.current=Td[Ca],Td[Ca]=null,Ca--)}function lt(e,t){Ca++,Td[Ca]=e.current,e.current=t}var hr=fr(null),el=fr(null),ti=fr(null),$o=fr(null);function Po(e,t){switch(lt(ti,t),lt(el,e),lt(hr,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?qb(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=qb(t),e=Hb(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}qt(hr),lt(hr,e)}function ja(){qt(hr),qt(el),qt(ti)}function _d(e){e.memoizedState!==null&&lt($o,e);var t=hr.current,n=Hb(t,e.type);t!==n&&(lt(el,e),lt(hr,n))}function Fo(e){el.current===e&&(qt(hr),qt(el)),$o.current===e&&(qt($o),Vl._currentValue=Pi)}var Od,wg;function Fi(e){if(Od===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Od=t&&t[1]||"",wg=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Od+e+wg}var Cd=!1;function jd(e,t){if(!e||Cd)return"";Cd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(h){var f=h}Reflect.construct(e,[],m)}else{try{m.call()}catch(h){f=h}e.call(m.prototype)}}else{try{throw Error()}catch(h){f=h}(m=e())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(h){if(h&&f&&typeof h.stack=="string")return[h.stack,f.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],l=a[1];if(s&&l){var o=s.split(`
`),u=l.split(`
`);for(i=r=0;r<o.length&&!o[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===o.length||i===u.length)for(r=o.length-1,i=u.length-1;1<=r&&0<=i&&o[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(o[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||o[r]!==u[i]){var d=`
`+o[r].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=r&&0<=i);break}}}finally{Cd=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Fi(n):""}function fE(e,t){switch(e.tag){case 26:case 27:case 5:return Fi(e.type);case 16:return Fi("Lazy");case 13:return e.child!==t&&t!==null?Fi("Suspense Fallback"):Fi("Suspense");case 19:return Fi("SuspenseList");case 0:case 15:return jd(e.type,!1);case 11:return jd(e.type.render,!1);case 1:return jd(e.type,!0);case 31:return Fi("Activity");default:return""}}function Sg(e){try{var t="",n=null;do t+=fE(e,n),n=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Ad=Object.prototype.hasOwnProperty,Md=Ut.unstable_scheduleCallback,kd=Ut.unstable_cancelCallback,hE=Ut.unstable_shouldYield,mE=Ut.unstable_requestPaint,En=Ut.unstable_now,pE=Ut.unstable_getCurrentPriorityLevel,xg=Ut.unstable_ImmediatePriority,Ng=Ut.unstable_UserBlockingPriority,Bo=Ut.unstable_NormalPriority,gE=Ut.unstable_LowPriority,Eg=Ut.unstable_IdlePriority,vE=Ut.log,yE=Ut.unstable_setDisableYieldValue,tl=null,Dn=null;function ni(e){if(typeof vE=="function"&&yE(e),Dn&&typeof Dn.setStrictMode=="function")try{Dn.setStrictMode(tl,e)}catch{}}var Tn=Math.clz32?Math.clz32:SE,bE=Math.log,wE=Math.LN2;function SE(e){return e>>>=0,e===0?32:31-(bE(e)/wE|0)|0}var Vo=256,qo=262144,Ho=4194304;function Bi(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Yo(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,a=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var l=r&134217727;return l!==0?(r=l&~a,r!==0?i=Bi(r):(s&=l,s!==0?i=Bi(s):n||(n=l&~e,n!==0&&(i=Bi(n))))):(l=r&~a,l!==0?i=Bi(l):s!==0?i=Bi(s):n||(n=r&~e,n!==0&&(i=Bi(n)))),i===0?0:t!==0&&t!==i&&!(t&a)&&(a=i&-i,n=t&-t,a>=n||a===32&&(n&4194048)!==0)?t:i}function nl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function xE(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dg(){var e=Ho;return Ho<<=1,!(Ho&62914560)&&(Ho=4194304),e}function Id(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function rl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function NE(e,t,n,r,i,a){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,o=e.expirationTimes,u=e.hiddenUpdates;for(n=s&~n;0<n;){var d=31-Tn(n),m=1<<d;l[d]=0,o[d]=-1;var f=u[d];if(f!==null)for(u[d]=null,d=0;d<f.length;d++){var h=f[d];h!==null&&(h.lane&=-536870913)}n&=~m}r!==0&&Tg(e,r,0),a!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=a&~(s&~t))}function Tg(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Tn(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function _g(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Tn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Og(e,t){var n=t&-t;return n=n&42?1:Rd(n),n&(e.suspendedLanes|t)?0:n}function Rd(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function zd(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Cg(){var e=Ge.p;return e!==0?e:(e=window.event,e===void 0?32:m0(e.type))}function jg(e,t){var n=Ge.p;try{return Ge.p=e,t()}finally{Ge.p=n}}var ri=Math.random().toString(36).slice(2),Gt="__reactFiber$"+ri,dn="__reactProps$"+ri,Aa="__reactContainer$"+ri,Ld="__reactEvents$"+ri,EE="__reactListeners$"+ri,DE="__reactHandles$"+ri,Ag="__reactResources$"+ri,il="__reactMarker$"+ri;function Ud(e){delete e[Gt],delete e[dn],delete e[Ld],delete e[EE],delete e[DE]}function Ma(e){var t=e[Gt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Aa]||n[Gt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Kb(e);e!==null;){if(n=e[Gt])return n;e=Kb(e)}return t}e=n,n=e.parentNode}return null}function ka(e){if(e=e[Gt]||e[Aa]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function al(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(ne(33))}function Ia(e){var t=e[Ag];return t||(t=e[Ag]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ht(e){e[il]=!0}var Mg=new Set,kg={};function Vi(e,t){Ra(e,t),Ra(e+"Capture",t)}function Ra(e,t){for(kg[e]=t,e=0;e<t.length;e++)Mg.add(t[e])}var TE=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ig={},Rg={};function _E(e){return Ad.call(Rg,e)?!0:Ad.call(Ig,e)?!1:TE.test(e)?Rg[e]=!0:(Ig[e]=!0,!1)}function Zo(e,t,n){if(_E(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Qo(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Or(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}function Fn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function OE(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $d(e){if(!e._valueTracker){var t=zg(e)?"checked":"value";e._valueTracker=OE(e,t,""+e[t])}}function Lg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=zg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Go(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var CE=/[\n"\\]/g;function Bn(e){return e.replace(CE,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Pd(e,t,n,r,i,a,s,l){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Fn(t)):e.value!==""+Fn(t)&&(e.value=""+Fn(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?Fd(e,s,Fn(t)):n!=null?Fd(e,s,Fn(n)):r!=null&&e.removeAttribute("value"),i==null&&a!=null&&(e.defaultChecked=!!a),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+Fn(l):e.removeAttribute("name")}function Ug(e,t,n,r,i,a,s,l){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.type=a),t!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||t!=null)){$d(e);return}n=n!=null?""+Fn(n):"",t=t!=null?""+Fn(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=l?e.checked:!!r,e.defaultChecked=!!r,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s),$d(e)}function Fd(e,t,n){t==="number"&&Go(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function za(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Fn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function $g(e,t,n){if(t!=null&&(t=""+Fn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Fn(n):""}function Pg(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(ne(92));if(Js(r)){if(1<r.length)throw Error(ne(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=Fn(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r),$d(e)}function La(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var jE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fg(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||jE.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Bg(e,t,n){if(t!=null&&typeof t!="object")throw Error(ne(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Fg(e,i,r)}else for(var a in t)t.hasOwnProperty(a)&&Fg(e,a,t[a])}function Bd(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var AE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ME=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wo(e){return ME.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Cr(){}var Vd=null;function qd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ua=null,$a=null;function Vg(e){var t=ka(e);if(t&&(e=t.stateNode)){var n=e[dn]||null;e:switch(e=t.stateNode,t.type){case"input":if(Pd(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Bn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[dn]||null;if(!i)throw Error(ne(90));Pd(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&Lg(r)}break e;case"textarea":$g(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&za(e,!!n.multiple,t,!1)}}}var Hd=!1;function qg(e,t,n){if(Hd)return e(t,n);Hd=!0;try{var r=e(t);return r}finally{if(Hd=!1,(Ua!==null||$a!==null)&&(Lc(),Ua&&(t=Ua,e=$a,$a=Ua=null,Vg(t),e)))for(t=0;t<e.length;t++)Vg(e[t])}}function sl(e,t){var n=e.stateNode;if(n===null)return null;var r=n[dn]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ne(231,t,typeof n));return n}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yd=!1;if(jr)try{var ll={};Object.defineProperty(ll,"passive",{get:function(){Yd=!0}}),window.addEventListener("test",ll,ll),window.removeEventListener("test",ll,ll)}catch{Yd=!1}var ii=null,Zd=null,Xo=null;function Hg(){if(Xo)return Xo;var e,t=Zd,n=t.length,r,i="value"in ii?ii.value:ii.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[a-r];r++);return Xo=i.slice(e,1<r?1-r:void 0)}function Ko(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Jo(){return!0}function Yg(){return!1}function fn(e){function t(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Jo:Yg,this.isPropagationStopped=Yg,this}return dt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Jo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Jo)},persist:function(){},isPersistent:Jo}),t}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ec=fn(qi),ol=dt({},qi,{view:0,detail:0}),kE=fn(ol),Qd,Gd,cl,tc=dt({},ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cl&&(cl&&e.type==="mousemove"?(Qd=e.screenX-cl.screenX,Gd=e.screenY-cl.screenY):Gd=Qd=0,cl=e),Qd)},movementY:function(e){return"movementY"in e?e.movementY:Gd}}),Zg=fn(tc),IE=dt({},tc,{dataTransfer:0}),RE=fn(IE),zE=dt({},ol,{relatedTarget:0}),Wd=fn(zE),LE=dt({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),UE=fn(LE),$E=dt({},qi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),PE=fn($E),FE=dt({},qi,{data:0}),Qg=fn(FE),BE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qE[e])?!!t[e]:!1}function Xd(){return HE}var YE=dt({},ol,{key:function(e){if(e.key){var t=BE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ko(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?VE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xd,charCode:function(e){return e.type==="keypress"?Ko(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ko(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ZE=fn(YE),QE=dt({},tc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gg=fn(QE),GE=dt({},ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xd}),WE=fn(GE),XE=dt({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),KE=fn(XE),JE=dt({},tc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),eD=fn(JE),tD=dt({},qi,{newState:0,oldState:0}),nD=fn(tD),rD=[9,13,27,32],Kd=jr&&"CompositionEvent"in window,ul=null;jr&&"documentMode"in document&&(ul=document.documentMode);var iD=jr&&"TextEvent"in window&&!ul,Wg=jr&&(!Kd||ul&&8<ul&&11>=ul),Xg=" ",Kg=!1;function Jg(e,t){switch(e){case"keyup":return rD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ev(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pa=!1;function aD(e,t){switch(e){case"compositionend":return ev(t);case"keypress":return t.which!==32?null:(Kg=!0,Xg);case"textInput":return e=t.data,e===Xg&&Kg?null:e;default:return null}}function sD(e,t){if(Pa)return e==="compositionend"||!Kd&&Jg(e,t)?(e=Hg(),Xo=Zd=ii=null,Pa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wg&&t.locale!=="ko"?null:t.data;default:return null}}var lD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!lD[e.type]:t==="textarea"}function nv(e,t,n,r){Ua?$a?$a.push(r):$a=[r]:Ua=r,t=qc(t,"onChange"),0<t.length&&(n=new ec("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var dl=null,fl=null;function oD(e){Ub(e,0)}function nc(e){var t=al(e);if(Lg(t))return e}function rv(e,t){if(e==="change")return t}var iv=!1;if(jr){var Jd;if(jr){var ef="oninput"in document;if(!ef){var av=document.createElement("div");av.setAttribute("oninput","return;"),ef=typeof av.oninput=="function"}Jd=ef}else Jd=!1;iv=Jd&&(!document.documentMode||9<document.documentMode)}function sv(){dl&&(dl.detachEvent("onpropertychange",lv),fl=dl=null)}function lv(e){if(e.propertyName==="value"&&nc(fl)){var t=[];nv(t,fl,e,qd(e)),qg(oD,t)}}function cD(e,t,n){e==="focusin"?(sv(),dl=t,fl=n,dl.attachEvent("onpropertychange",lv)):e==="focusout"&&sv()}function uD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nc(fl)}function dD(e,t){if(e==="click")return nc(t)}function fD(e,t){if(e==="input"||e==="change")return nc(t)}function hD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _n=typeof Object.is=="function"?Object.is:hD;function hl(e,t){if(_n(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ad.call(t,i)||!_n(e[i],t[i]))return!1}return!0}function ov(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cv(e,t){var n=ov(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ov(n)}}function uv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?uv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dv(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Go(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Go(e.document)}return t}function tf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var mD=jr&&"documentMode"in document&&11>=document.documentMode,Fa=null,nf=null,ml=null,rf=!1;function fv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rf||Fa==null||Fa!==Go(r)||(r=Fa,"selectionStart"in r&&tf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ml&&hl(ml,r)||(ml=r,r=qc(nf,"onSelect"),0<r.length&&(t=new ec("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Fa)))}function Hi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ba={animationend:Hi("Animation","AnimationEnd"),animationiteration:Hi("Animation","AnimationIteration"),animationstart:Hi("Animation","AnimationStart"),transitionrun:Hi("Transition","TransitionRun"),transitionstart:Hi("Transition","TransitionStart"),transitioncancel:Hi("Transition","TransitionCancel"),transitionend:Hi("Transition","TransitionEnd")},af={},hv={};jr&&(hv=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function Yi(e){if(af[e])return af[e];if(!Ba[e])return e;var t=Ba[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in hv)return af[e]=t[n];return e}var mv=Yi("animationend"),pv=Yi("animationiteration"),gv=Yi("animationstart"),pD=Yi("transitionrun"),gD=Yi("transitionstart"),vD=Yi("transitioncancel"),vv=Yi("transitionend"),yv=new Map,sf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sf.push("scrollEnd");function rr(e,t){yv.set(e,t),Vi(t,[e])}var rc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Vn=[],Va=0,lf=0;function ic(){for(var e=Va,t=lf=Va=0;t<e;){var n=Vn[t];Vn[t++]=null;var r=Vn[t];Vn[t++]=null;var i=Vn[t];Vn[t++]=null;var a=Vn[t];if(Vn[t++]=null,r!==null&&i!==null){var s=r.pending;s===null?i.next=i:(i.next=s.next,s.next=i),r.pending=i}a!==0&&bv(n,i,a)}}function ac(e,t,n,r){Vn[Va++]=e,Vn[Va++]=t,Vn[Va++]=n,Vn[Va++]=r,lf|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function of(e,t,n,r){return ac(e,t,n,r),sc(e)}function Zi(e,t){return ac(e,null,null,t),sc(e)}function bv(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=e.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(i=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,i&&t!==null&&(i=31-Tn(n),e=a.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),a):null}function sc(e){if(50<zl)throw zl=0,vh=null,Error(ne(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var qa={};function yD(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(e,t,n,r){return new yD(e,t,n,r)}function cf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ar(e,t){var n=e.alternate;return n===null?(n=On(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function wv(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function lc(e,t,n,r,i,a){var s=0;if(r=e,typeof e=="function")cf(e)&&(s=1);else if(typeof e=="string")s=N1(e,n,hr.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ed:return e=On(31,n,t,i),e.elementType=Ed,e.lanes=a,e;case Oa:return Qi(n.children,i,a,t);case vg:s=8,i|=24;break;case bd:return e=On(12,n,t,i|2),e.elementType=bd,e.lanes=a,e;case Sd:return e=On(13,n,t,i),e.elementType=Sd,e.lanes=a,e;case xd:return e=On(19,n,t,i),e.elementType=xd,e.lanes=a,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _r:s=10;break e;case yg:s=9;break e;case wd:s=11;break e;case Nd:s=14;break e;case ei:s=16,r=null;break e}s=29,n=Error(ne(130,e===null?"null":typeof e,"")),r=null}return t=On(s,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Qi(e,t,n,r){return e=On(7,e,r,t),e.lanes=n,e}function uf(e,t,n){return e=On(6,e,null,t),e.lanes=n,e}function Sv(e){var t=On(18,null,null,0);return t.stateNode=e,t}function df(e,t,n){return t=On(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var xv=new WeakMap;function qn(e,t){if(typeof e=="object"&&e!==null){var n=xv.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Sg(t)},xv.set(e,t),t)}return{value:e,source:t,stack:Sg(t)}}var Ha=[],Ya=0,oc=null,pl=0,Hn=[],Yn=0,ai=null,mr=1,pr="";function Mr(e,t){Ha[Ya++]=pl,Ha[Ya++]=oc,oc=e,pl=t}function Nv(e,t,n){Hn[Yn++]=mr,Hn[Yn++]=pr,Hn[Yn++]=ai,ai=e;var r=mr;e=pr;var i=32-Tn(r)-1;r&=~(1<<i),n+=1;var a=32-Tn(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,mr=1<<32-Tn(t)+i|n<<i|r,pr=a+e}else mr=1<<a|n<<i|r,pr=e}function ff(e){e.return!==null&&(Mr(e,1),Nv(e,1,0))}function hf(e){for(;e===oc;)oc=Ha[--Ya],Ha[Ya]=null,pl=Ha[--Ya],Ha[Ya]=null;for(;e===ai;)ai=Hn[--Yn],Hn[Yn]=null,pr=Hn[--Yn],Hn[Yn]=null,mr=Hn[--Yn],Hn[Yn]=null}function Ev(e,t){Hn[Yn++]=mr,Hn[Yn++]=pr,Hn[Yn++]=ai,mr=t.id,pr=t.overflow,ai=e}var Wt=null,ft=null,He=!1,si=null,Zn=!1,mf=Error(ne(519));function li(e){var t=Error(ne(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gl(qn(t,e)),mf}function Dv(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Gt]=e,t[dn]=r,n){case"dialog":Be("cancel",t),Be("close",t);break;case"iframe":case"object":case"embed":Be("load",t);break;case"video":case"audio":for(n=0;n<Ul.length;n++)Be(Ul[n],t);break;case"source":Be("error",t);break;case"img":case"image":case"link":Be("error",t),Be("load",t);break;case"details":Be("toggle",t);break;case"input":Be("invalid",t),Ug(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Be("invalid",t);break;case"textarea":Be("invalid",t),Pg(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||Bb(t.textContent,n)?(r.popover!=null&&(Be("beforetoggle",t),Be("toggle",t)),r.onScroll!=null&&Be("scroll",t),r.onScrollEnd!=null&&Be("scrollend",t),r.onClick!=null&&(t.onclick=Cr),t=!0):t=!1,t||li(e,!0)}function Tv(e){for(Wt=e.return;Wt;)switch(Wt.tag){case 5:case 31:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:Wt=Wt.return}}function Za(e){if(e!==Wt)return!1;if(!He)return Tv(e),He=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Mh(e.type,e.memoizedProps)),n=!n),n&&ft&&li(e),Tv(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ne(317));ft=Xb(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ne(317));ft=Xb(e)}else t===27?(t=ft,Si(e.type)?(e=Lh,Lh=null,ft=e):ft=t):ft=Wt?Gn(e.stateNode.nextSibling):null;return!0}function Gi(){ft=Wt=null,He=!1}function pf(){var e=si;return e!==null&&(gn===null?gn=e:gn.push.apply(gn,e),si=null),e}function gl(e){si===null?si=[e]:si.push(e)}var gf=fr(null),Wi=null,kr=null;function oi(e,t,n){lt(gf,t._currentValue),t._currentValue=n}function Ir(e){e._currentValue=gf.current,qt(gf)}function vf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function yf(e,t,n,r){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){var s=i.child;a=a.firstContext;e:for(;a!==null;){var l=a;a=i;for(var o=0;o<t.length;o++)if(l.context===t[o]){a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),vf(a.return,n,e),r||(s=null);break e}a=l.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error(ne(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),vf(s,n,e),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function Qa(e,t,n,r){e=null;for(var i=t,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error(ne(387));if(s=s.memoizedProps,s!==null){var l=i.type;_n(i.pendingProps.value,s.value)||(e!==null?e.push(l):e=[l])}}else if(i===$o.current){if(s=i.alternate,s===null)throw Error(ne(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(Vl):e=[Vl])}i=i.return}e!==null&&yf(t,e,n,r),t.flags|=262144}function cc(e){for(e=e.firstContext;e!==null;){if(!_n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Xi(e){Wi=e,kr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Xt(e){return _v(Wi,e)}function uc(e,t){return Wi===null&&Xi(e),_v(e,t)}function _v(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},kr===null){if(e===null)throw Error(ne(308));kr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else kr=kr.next=t;return n}var bD=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},wD=Ut.unstable_scheduleCallback,SD=Ut.unstable_NormalPriority,_t={$$typeof:_r,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bf(){return{controller:new bD,data:new Map,refCount:0}}function vl(e){e.refCount--,e.refCount===0&&wD(SD,function(){e.controller.abort()})}var yl=null,wf=0,Ga=0,Wa=null;function xD(e,t){if(yl===null){var n=yl=[];wf=0,Ga=Nh(),Wa={status:"pending",value:void 0,then:function(r){n.push(r)}}}return wf++,t.then(Ov,Ov),t}function Ov(){if(--wf===0&&yl!==null){Wa!==null&&(Wa.status="fulfilled");var e=yl;yl=null,Ga=0,Wa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ND(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var Cv=je.S;je.S=function(e,t){fb=En(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&xD(e,t),Cv!==null&&Cv(e,t)};var Ki=fr(null);function Sf(){var e=Ki.current;return e!==null?e:it.pooledCache}function dc(e,t){t===null?lt(Ki,Ki.current):lt(Ki,t.pool)}function jv(){var e=Sf();return e===null?null:{parent:_t._currentValue,pool:e}}var Xa=Error(ne(460)),xf=Error(ne(474)),fc=Error(ne(542)),hc={then:function(){}};function Av(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Mv(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Cr,Cr),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Iv(e),e;default:if(typeof t.status=="string")t.then(Cr,Cr);else{if(e=it,e!==null&&100<e.shellSuspendCounter)throw Error(ne(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=r}},function(r){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Iv(e),e}throw ea=t,Xa}}function Ji(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ea=n,Xa):n}}var ea=null;function kv(){if(ea===null)throw Error(ne(459));var e=ea;return ea=null,e}function Iv(e){if(e===Xa||e===fc)throw Error(ne(483))}var Ka=null,bl=0;function mc(e){var t=bl;return bl+=1,Ka===null&&(Ka=[]),Mv(Ka,e,t)}function wl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function pc(e,t){throw t.$$typeof===cE?Error(ne(525)):(e=Object.prototype.toString.call(t),Error(ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Rv(e){function t(v,p){if(e){var y=v.deletions;y===null?(v.deletions=[p],v.flags|=16):y.push(p)}}function n(v,p){if(!e)return null;for(;p!==null;)t(v,p),p=p.sibling;return null}function r(v){for(var p=new Map;v!==null;)v.key!==null?p.set(v.key,v):p.set(v.index,v),v=v.sibling;return p}function i(v,p){return v=Ar(v,p),v.index=0,v.sibling=null,v}function a(v,p,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<p?(v.flags|=67108866,p):y):(v.flags|=67108866,p)):(v.flags|=1048576,p)}function s(v){return e&&v.alternate===null&&(v.flags|=67108866),v}function l(v,p,y,x){return p===null||p.tag!==6?(p=uf(y,v.mode,x),p.return=v,p):(p=i(p,y),p.return=v,p)}function o(v,p,y,x){var C=y.type;return C===Oa?d(v,p,y.props.children,x,y.key):p!==null&&(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ei&&Ji(C)===p.type)?(p=i(p,y.props),wl(p,y),p.return=v,p):(p=lc(y.type,y.key,y.props,null,v.mode,x),wl(p,y),p.return=v,p)}function u(v,p,y,x){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=df(y,v.mode,x),p.return=v,p):(p=i(p,y.children||[]),p.return=v,p)}function d(v,p,y,x,C){return p===null||p.tag!==7?(p=Qi(y,v.mode,x,C),p.return=v,p):(p=i(p,y),p.return=v,p)}function m(v,p,y){if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return p=uf(""+p,v.mode,y),p.return=v,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Uo:return y=lc(p.type,p.key,p.props,null,v.mode,y),wl(y,p),y.return=v,y;case Xs:return p=df(p,v.mode,y),p.return=v,p;case ei:return p=Ji(p),m(v,p,y)}if(Js(p)||Ks(p))return p=Qi(p,v.mode,y,null),p.return=v,p;if(typeof p.then=="function")return m(v,mc(p),y);if(p.$$typeof===_r)return m(v,uc(v,p),y);pc(v,p)}return null}function f(v,p,y,x){var C=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return C!==null?null:l(v,p,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Uo:return y.key===C?o(v,p,y,x):null;case Xs:return y.key===C?u(v,p,y,x):null;case ei:return y=Ji(y),f(v,p,y,x)}if(Js(y)||Ks(y))return C!==null?null:d(v,p,y,x,null);if(typeof y.then=="function")return f(v,p,mc(y),x);if(y.$$typeof===_r)return f(v,p,uc(v,y),x);pc(v,y)}return null}function h(v,p,y,x,C){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return v=v.get(y)||null,l(p,v,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Uo:return v=v.get(x.key===null?y:x.key)||null,o(p,v,x,C);case Xs:return v=v.get(x.key===null?y:x.key)||null,u(p,v,x,C);case ei:return x=Ji(x),h(v,p,y,x,C)}if(Js(x)||Ks(x))return v=v.get(y)||null,d(p,v,x,C,null);if(typeof x.then=="function")return h(v,p,y,mc(x),C);if(x.$$typeof===_r)return h(v,p,y,uc(p,x),C);pc(p,x)}return null}function g(v,p,y,x){for(var C=null,V=null,D=p,k=p=0,M=null;D!==null&&k<y.length;k++){D.index>k?(M=D,D=null):M=D.sibling;var _=f(v,D,y[k],x);if(_===null){D===null&&(D=M);break}e&&D&&_.alternate===null&&t(v,D),p=a(_,p,k),V===null?C=_:V.sibling=_,V=_,D=M}if(k===y.length)return n(v,D),He&&Mr(v,k),C;if(D===null){for(;k<y.length;k++)D=m(v,y[k],x),D!==null&&(p=a(D,p,k),V===null?C=D:V.sibling=D,V=D);return He&&Mr(v,k),C}for(D=r(D);k<y.length;k++)M=h(D,v,k,y[k],x),M!==null&&(e&&M.alternate!==null&&D.delete(M.key===null?k:M.key),p=a(M,p,k),V===null?C=M:V.sibling=M,V=M);return e&&D.forEach(function(G){return t(v,G)}),He&&Mr(v,k),C}function w(v,p,y,x){if(y==null)throw Error(ne(151));for(var C=null,V=null,D=p,k=p=0,M=null,_=y.next();D!==null&&!_.done;k++,_=y.next()){D.index>k?(M=D,D=null):M=D.sibling;var G=f(v,D,_.value,x);if(G===null){D===null&&(D=M);break}e&&D&&G.alternate===null&&t(v,D),p=a(G,p,k),V===null?C=G:V.sibling=G,V=G,D=M}if(_.done)return n(v,D),He&&Mr(v,k),C;if(D===null){for(;!_.done;k++,_=y.next())_=m(v,_.value,x),_!==null&&(p=a(_,p,k),V===null?C=_:V.sibling=_,V=_);return He&&Mr(v,k),C}for(D=r(D);!_.done;k++,_=y.next())_=h(D,v,k,_.value,x),_!==null&&(e&&_.alternate!==null&&D.delete(_.key===null?k:_.key),p=a(_,p,k),V===null?C=_:V.sibling=_,V=_);return e&&D.forEach(function(X){return t(v,X)}),He&&Mr(v,k),C}function S(v,p,y,x){if(typeof y=="object"&&y!==null&&y.type===Oa&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Uo:e:{for(var C=y.key;p!==null;){if(p.key===C){if(C=y.type,C===Oa){if(p.tag===7){n(v,p.sibling),x=i(p,y.props.children),x.return=v,v=x;break e}}else if(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ei&&Ji(C)===p.type){n(v,p.sibling),x=i(p,y.props),wl(x,y),x.return=v,v=x;break e}n(v,p);break}else t(v,p);p=p.sibling}y.type===Oa?(x=Qi(y.props.children,v.mode,x,y.key),x.return=v,v=x):(x=lc(y.type,y.key,y.props,null,v.mode,x),wl(x,y),x.return=v,v=x)}return s(v);case Xs:e:{for(C=y.key;p!==null;){if(p.key===C)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(v,p.sibling),x=i(p,y.children||[]),x.return=v,v=x;break e}else{n(v,p);break}else t(v,p);p=p.sibling}x=df(y,v.mode,x),x.return=v,v=x}return s(v);case ei:return y=Ji(y),S(v,p,y,x)}if(Js(y))return g(v,p,y,x);if(Ks(y)){if(C=Ks(y),typeof C!="function")throw Error(ne(150));return y=C.call(y),w(v,p,y,x)}if(typeof y.then=="function")return S(v,p,mc(y),x);if(y.$$typeof===_r)return S(v,p,uc(v,y),x);pc(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,p!==null&&p.tag===6?(n(v,p.sibling),x=i(p,y),x.return=v,v=x):(n(v,p),x=uf(y,v.mode,x),x.return=v,v=x),s(v)):n(v,p)}return function(v,p,y,x){try{bl=0;var C=S(v,p,y,x);return Ka=null,C}catch(D){if(D===Xa||D===fc)throw D;var V=On(29,D,null,v.mode);return V.lanes=x,V.return=v,V}finally{}}}var ta=Rv(!0),zv=Rv(!1),ci=!1;function Nf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ef(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ui(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function di(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,We&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=sc(e),bv(e,null,n),t}return ac(e,r,t,n),sc(e)}function Sl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_g(e,n)}}function Df(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Tf=!1;function xl(){if(Tf){var e=Wa;if(e!==null)throw e}}function Nl(e,t,n,r){Tf=!1;var i=e.updateQueue;ci=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var o=l,u=o.next;o.next=null,s===null?a=u:s.next=u,s=o;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=o))}if(a!==null){var m=i.baseState;s=0,d=u=o=null,l=a;do{var f=l.lane&-536870913,h=f!==l.lane;if(h?(Ve&f)===f:(r&f)===f){f!==0&&f===Ga&&(Tf=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var g=e,w=l;f=t;var S=n;switch(w.tag){case 1:if(g=w.payload,typeof g=="function"){m=g.call(S,m,f);break e}m=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=w.payload,f=typeof g=="function"?g.call(S,m,f):g,f==null)break e;m=dt({},m,f);break e;case 2:ci=!0}}f=l.callback,f!==null&&(e.flags|=64,h&&(e.flags|=8192),h=i.callbacks,h===null?i.callbacks=[f]:h.push(f))}else h={lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=h,o=m):d=d.next=h,s|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);d===null&&(o=m),i.baseState=o,i.firstBaseUpdate=u,i.lastBaseUpdate=d,a===null&&(i.shared.lanes=0),gi|=s,e.lanes=s,e.memoizedState=m}}function Lv(e,t){if(typeof e!="function")throw Error(ne(191,e));e.call(t)}function Uv(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Lv(n[e],t)}var Ja=fr(null),gc=fr(0);function $v(e,t){e=Vr,lt(gc,e),lt(Ja,t),Vr=e|t.baseLanes}function _f(){lt(gc,Vr),lt(Ja,Ja.current)}function Of(){Vr=gc.current,qt(Ja),qt(gc)}var Cn=fr(null),Qn=null;function fi(e){var t=e.alternate;lt(Nt,Nt.current&1),lt(Cn,e),Qn===null&&(t===null||Ja.current!==null||t.memoizedState!==null)&&(Qn=e)}function Cf(e){lt(Nt,Nt.current),lt(Cn,e),Qn===null&&(Qn=e)}function Pv(e){e.tag===22?(lt(Nt,Nt.current),lt(Cn,e),Qn===null&&(Qn=e)):hi()}function hi(){lt(Nt,Nt.current),lt(Cn,Cn.current)}function jn(e){qt(Cn),Qn===e&&(Qn=null),qt(Nt)}var Nt=fr(0);function vc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Rh(n)||zh(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Rr=0,Ue=null,nt=null,Ot=null,yc=!1,es=!1,na=!1,bc=0,El=0,ts=null,ED=0;function yt(){throw Error(ne(321))}function jf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_n(e[n],t[n]))return!1;return!0}function Af(e,t,n,r,i,a){return Rr=a,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,je.H=e===null||e.memoizedState===null?Ny:Yf,na=!1,a=n(r,i),na=!1,es&&(a=Bv(t,n,r,i)),Fv(e),a}function Fv(e){je.H=_l;var t=nt!==null&&nt.next!==null;if(Rr=0,Ot=nt=Ue=null,yc=!1,El=0,ts=null,t)throw Error(ne(300));e===null||Ct||(e=e.dependencies,e!==null&&cc(e)&&(Ct=!0))}function Bv(e,t,n,r){Ue=e;var i=0;do{if(es&&(ts=null),El=0,es=!1,25<=i)throw Error(ne(301));if(i+=1,Ot=nt=null,e.updateQueue!=null){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}je.H=Ey,a=t(n,r)}while(es);return a}function DD(){var e=je.H,t=e.useState()[0];return t=typeof t.then=="function"?Dl(t):t,e=e.useState()[0],(nt!==null?nt.memoizedState:null)!==e&&(Ue.flags|=1024),t}function Mf(){var e=bc!==0;return bc=0,e}function kf(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function If(e){if(yc){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}yc=!1}Rr=0,Ot=nt=Ue=null,es=!1,El=bc=0,ts=null}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Ue.memoizedState=Ot=e:Ot=Ot.next=e,Ot}function Et(){if(nt===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=nt.next;var t=Ot===null?Ue.memoizedState:Ot.next;if(t!==null)Ot=t,nt=e;else{if(e===null)throw Ue.alternate===null?Error(ne(467)):Error(ne(310));nt=e,e={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Ot===null?Ue.memoizedState=Ot=e:Ot=Ot.next=e}return Ot}function wc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dl(e){var t=El;return El+=1,ts===null&&(ts=[]),e=Mv(ts,e,t),t=Ue,(Ot===null?t.memoizedState:Ot.next)===null&&(t=t.alternate,je.H=t===null||t.memoizedState===null?Ny:Yf),e}function Sc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Dl(e);if(e.$$typeof===_r)return Xt(e)}throw Error(ne(438,String(e)))}function Rf(e){var t=null,n=Ue.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=Ue.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=wc(),Ue.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=uE;return t.index++,n}function zr(e,t){return typeof t=="function"?t(e):t}function xc(e){var t=Et();return zf(t,nt,e)}function zf(e,t,n){var r=e.queue;if(r===null)throw Error(ne(311));r.lastRenderedReducer=n;var i=e.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}t.baseQueue=i=a,r.pending=null}if(a=e.baseState,i===null)e.memoizedState=a;else{t=i.next;var l=s=null,o=null,u=t,d=!1;do{var m=u.lane&-536870913;if(m!==u.lane?(Ve&m)===m:(Rr&m)===m){var f=u.revertLane;if(f===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),m===Ga&&(d=!0);else if((Rr&f)===f){u=u.next,f===Ga&&(d=!0);continue}else m={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(l=o=m,s=a):o=o.next=m,Ue.lanes|=f,gi|=f;m=u.action,na&&n(a,m),a=u.hasEagerState?u.eagerState:n(a,m)}else f={lane:m,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(l=o=f,s=a):o=o.next=f,Ue.lanes|=m,gi|=m;u=u.next}while(u!==null&&u!==t);if(o===null?s=a:o.next=l,!_n(a,e.memoizedState)&&(Ct=!0,d&&(n=Wa,n!==null)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=o,r.lastRenderedState=a}return i===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Lf(e){var t=Et(),n=t.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);_n(a,t.memoizedState)||(Ct=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Vv(e,t,n){var r=Ue,i=Et(),a=He;if(a){if(n===void 0)throw Error(ne(407));n=n()}else n=t();var s=!_n((nt||i).memoizedState,n);if(s&&(i.memoizedState=n,Ct=!0),i=i.queue,Pf(Yv.bind(null,r,i,e),[e]),i.getSnapshot!==t||s||Ot!==null&&Ot.memoizedState.tag&1){if(r.flags|=2048,ns(9,{destroy:void 0},Hv.bind(null,r,i,n,t),null),it===null)throw Error(ne(349));a||Rr&127||qv(r,t,n)}return n}function qv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ue.updateQueue,t===null?(t=wc(),Ue.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Hv(e,t,n,r){t.value=n,t.getSnapshot=r,Zv(t)&&Qv(e)}function Yv(e,t,n){return n(function(){Zv(t)&&Qv(e)})}function Zv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_n(e,n)}catch{return!0}}function Qv(e){var t=Zi(e,2);t!==null&&vn(t,e,2)}function Uf(e){var t=on();if(typeof e=="function"){var n=e;if(e=n(),na){ni(!0);try{n()}finally{ni(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:e},t}function Gv(e,t,n,r){return e.baseState=n,zf(e,nt,typeof r=="function"?r:zr)}function TD(e,t,n,r,i){if(Dc(e))throw Error(ne(485));if(e=t.action,e!==null){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};je.T!==null?n(!0):a.isTransition=!1,r(a),n=t.pending,n===null?(a.next=t.pending=a,Wv(t,a)):(a.next=n.next,t.pending=n.next=a)}}function Wv(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=je.T,s={};je.T=s;try{var l=n(i,r),o=je.S;o!==null&&o(s,l),Xv(e,t,l)}catch(u){$f(e,t,u)}finally{a!==null&&s.types!==null&&(a.types=s.types),je.T=a}}else try{a=n(i,r),Xv(e,t,a)}catch(u){$f(e,t,u)}}function Xv(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){Kv(e,t,r)},function(r){return $f(e,t,r)}):Kv(e,t,n)}function Kv(e,t,n){t.status="fulfilled",t.value=n,Jv(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Wv(e,n)))}function $f(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,Jv(t),t=t.next;while(t!==r)}e.action=null}function Jv(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ey(e,t){return t}function ty(e,t){if(He){var n=it.formState;if(n!==null){e:{var r=Ue;if(He){if(ft){t:{for(var i=ft,a=Zn;i.nodeType!==8;){if(!a){i=null;break t}if(i=Gn(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){ft=Gn(i.nextSibling),r=i.data==="F!";break e}}li(r)}r=!1}r&&(t=n[0])}}return n=on(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ey,lastRenderedState:t},n.queue=r,n=wy.bind(null,Ue,r),r.dispatch=n,r=Uf(!1),a=Hf.bind(null,Ue,!1,r.queue),r=on(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=TD.bind(null,Ue,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function ny(e){var t=Et();return ry(t,nt,e)}function ry(e,t,n){if(t=zf(e,t,ey)[0],e=xc(zr)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=Dl(t)}catch(s){throw s===Xa?fc:s}else r=t;t=Et();var i=t.queue,a=i.dispatch;return n!==t.memoizedState&&(Ue.flags|=2048,ns(9,{destroy:void 0},_D.bind(null,i,n),null)),[r,a,e]}function _D(e,t){e.action=t}function iy(e){var t=Et(),n=nt;if(n!==null)return ry(t,n,e);Et(),t=t.memoizedState,n=Et();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function ns(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=Ue.updateQueue,t===null&&(t=wc(),Ue.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ay(){return Et().memoizedState}function Nc(e,t,n,r){var i=on();Ue.flags|=e,i.memoizedState=ns(1|t,{destroy:void 0},n,r===void 0?null:r)}function Ec(e,t,n,r){var i=Et();r=r===void 0?null:r;var a=i.memoizedState.inst;nt!==null&&r!==null&&jf(r,nt.memoizedState.deps)?i.memoizedState=ns(t,a,n,r):(Ue.flags|=e,i.memoizedState=ns(1|t,a,n,r))}function sy(e,t){Nc(8390656,8,e,t)}function Pf(e,t){Ec(2048,8,e,t)}function OD(e){Ue.flags|=4;var t=Ue.updateQueue;if(t===null)t=wc(),Ue.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function ly(e){var t=Et().memoizedState;return OD({ref:t,nextImpl:e}),function(){if(We&2)throw Error(ne(440));return t.impl.apply(void 0,arguments)}}function oy(e,t){return Ec(4,2,e,t)}function cy(e,t){return Ec(4,4,e,t)}function uy(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function dy(e,t,n){n=n!=null?n.concat([e]):null,Ec(4,4,uy.bind(null,t,e),n)}function Ff(){}function fy(e,t){var n=Et();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&jf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function hy(e,t){var n=Et();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&jf(t,r[1]))return r[0];if(r=e(),na){ni(!0);try{e()}finally{ni(!1)}}return n.memoizedState=[r,t],r}function Bf(e,t,n){return n===void 0||Rr&1073741824&&!(Ve&261930)?e.memoizedState=t:(e.memoizedState=n,e=mb(),Ue.lanes|=e,gi|=e,n)}function my(e,t,n,r){return _n(n,t)?n:Ja.current!==null?(e=Bf(e,n,r),_n(e,t)||(Ct=!0),e):!(Rr&42)||Rr&1073741824&&!(Ve&261930)?(Ct=!0,e.memoizedState=n):(e=mb(),Ue.lanes|=e,gi|=e,t)}function py(e,t,n,r,i){var a=Ge.p;Ge.p=a!==0&&8>a?a:8;var s=je.T,l={};je.T=l,Hf(e,!1,t,n);try{var o=i(),u=je.S;if(u!==null&&u(l,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var d=ND(o,r);Tl(e,t,d,kn(e))}else Tl(e,t,r,kn(e))}catch(m){Tl(e,t,{then:function(){},status:"rejected",reason:m},kn())}finally{Ge.p=a,s!==null&&l.types!==null&&(s.types=l.types),je.T=s}}function CD(){}function Vf(e,t,n,r){if(e.tag!==5)throw Error(ne(476));var i=gy(e).queue;py(e,i,t,Pi,n===null?CD:function(){return vy(e),n(r)})}function gy(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Pi,baseState:Pi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:Pi},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function vy(e){var t=gy(e);t.next===null&&(t=e.alternate.memoizedState),Tl(e,t.next.queue,{},kn())}function qf(){return Xt(Vl)}function yy(){return Et().memoizedState}function by(){return Et().memoizedState}function jD(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=kn();e=ui(n);var r=di(t,e,n);r!==null&&(vn(r,t,n),Sl(r,t,n)),t={cache:bf()},e.payload=t;return}t=t.return}}function AD(e,t,n){var r=kn();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Dc(e)?Sy(t,n):(n=of(e,t,n,r),n!==null&&(vn(n,e,r),xy(n,t,r)))}function wy(e,t,n){var r=kn();Tl(e,t,n,r)}function Tl(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Dc(e))Sy(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,l=a(s,n);if(i.hasEagerState=!0,i.eagerState=l,_n(l,s))return ac(e,t,i,0),it===null&&ic(),!1}catch{}finally{}if(n=of(e,t,i,r),n!==null)return vn(n,e,r),xy(n,t,r),!0}return!1}function Hf(e,t,n,r){if(r={lane:2,revertLane:Nh(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Dc(e)){if(t)throw Error(ne(479))}else t=of(e,n,r,2),t!==null&&vn(t,e,2)}function Dc(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function Sy(e,t){es=yc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function xy(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_g(e,n)}}var _l={readContext:Xt,use:Sc,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};_l.useEffectEvent=yt;var Ny={readContext:Xt,use:Sc,useCallback:function(e,t){return on().memoizedState=[e,t===void 0?null:t],e},useContext:Xt,useEffect:sy,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Nc(4194308,4,uy.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Nc(4194308,4,e,t)},useInsertionEffect:function(e,t){Nc(4,2,e,t)},useMemo:function(e,t){var n=on();t=t===void 0?null:t;var r=e();if(na){ni(!0);try{e()}finally{ni(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=on();if(n!==void 0){var i=n(t);if(na){ni(!0);try{n(t)}finally{ni(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=AD.bind(null,Ue,e),[r.memoizedState,e]},useRef:function(e){var t=on();return e={current:e},t.memoizedState=e},useState:function(e){e=Uf(e);var t=e.queue,n=wy.bind(null,Ue,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ff,useDeferredValue:function(e,t){var n=on();return Bf(n,e,t)},useTransition:function(){var e=Uf(!1);return e=py.bind(null,Ue,e.queue,!0,!1),on().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Ue,i=on();if(He){if(n===void 0)throw Error(ne(407));n=n()}else{if(n=t(),it===null)throw Error(ne(349));Ve&127||qv(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,sy(Yv.bind(null,r,a,e),[e]),r.flags|=2048,ns(9,{destroy:void 0},Hv.bind(null,r,a,n,t),null),n},useId:function(){var e=on(),t=it.identifierPrefix;if(He){var n=pr,r=mr;n=(r&~(1<<32-Tn(r)-1)).toString(32)+n,t="_"+t+"R_"+n,n=bc++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=ED++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:qf,useFormState:ty,useActionState:ty,useOptimistic:function(e){var t=on();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Hf.bind(null,Ue,!0,n),n.dispatch=t,[e,t]},useMemoCache:Rf,useCacheRefresh:function(){return on().memoizedState=jD.bind(null,Ue)},useEffectEvent:function(e){var t=on(),n={impl:e};return t.memoizedState=n,function(){if(We&2)throw Error(ne(440));return n.impl.apply(void 0,arguments)}}},Yf={readContext:Xt,use:Sc,useCallback:fy,useContext:Xt,useEffect:Pf,useImperativeHandle:dy,useInsertionEffect:oy,useLayoutEffect:cy,useMemo:hy,useReducer:xc,useRef:ay,useState:function(){return xc(zr)},useDebugValue:Ff,useDeferredValue:function(e,t){var n=Et();return my(n,nt.memoizedState,e,t)},useTransition:function(){var e=xc(zr)[0],t=Et().memoizedState;return[typeof e=="boolean"?e:Dl(e),t]},useSyncExternalStore:Vv,useId:yy,useHostTransitionStatus:qf,useFormState:ny,useActionState:ny,useOptimistic:function(e,t){var n=Et();return Gv(n,nt,e,t)},useMemoCache:Rf,useCacheRefresh:by};Yf.useEffectEvent=ly;var Ey={readContext:Xt,use:Sc,useCallback:fy,useContext:Xt,useEffect:Pf,useImperativeHandle:dy,useInsertionEffect:oy,useLayoutEffect:cy,useMemo:hy,useReducer:Lf,useRef:ay,useState:function(){return Lf(zr)},useDebugValue:Ff,useDeferredValue:function(e,t){var n=Et();return nt===null?Bf(n,e,t):my(n,nt.memoizedState,e,t)},useTransition:function(){var e=Lf(zr)[0],t=Et().memoizedState;return[typeof e=="boolean"?e:Dl(e),t]},useSyncExternalStore:Vv,useId:yy,useHostTransitionStatus:qf,useFormState:iy,useActionState:iy,useOptimistic:function(e,t){var n=Et();return nt!==null?Gv(n,nt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Rf,useCacheRefresh:by};Ey.useEffectEvent=ly;function Zf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:dt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Qf={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=kn(),i=ui(r);i.payload=t,n!=null&&(i.callback=n),t=di(e,i,r),t!==null&&(vn(t,e,r),Sl(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=kn(),i=ui(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=di(e,i,r),t!==null&&(vn(t,e,r),Sl(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=kn(),r=ui(n);r.tag=2,t!=null&&(r.callback=t),t=di(e,r,n),t!==null&&(vn(t,e,n),Sl(t,e,n))}};function Dy(e,t,n,r,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!hl(n,r)||!hl(i,a):!0}function Ty(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Qf.enqueueReplaceState(t,t.state,null)}function ra(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=dt({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function _y(e){rc(e)}function Oy(e){console.error(e)}function Cy(e){rc(e)}function Tc(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function jy(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Gf(e,t,n){return n=ui(n),n.tag=3,n.payload={element:null},n.callback=function(){Tc(e,t)},n}function Ay(e){return e=ui(e),e.tag=3,e}function My(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){jy(t,n,r)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){jy(t,n,r),typeof i!="function"&&(vi===null?vi=new Set([this]):vi.add(this));var l=r.stack;this.componentDidCatch(r.value,{componentStack:l!==null?l:""})})}function MD(e,t,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&Qa(t,n,i,!0),n=Cn.current,n!==null){switch(n.tag){case 31:case 13:return Qn===null?Uc():n.alternate===null&&bt===0&&(bt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===hc?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),wh(e,r,i)),!1;case 22:return n.flags|=65536,r===hc?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),wh(e,r,i)),!1}throw Error(ne(435,n.tag))}return wh(e,r,i),Uc(),!1}if(He)return t=Cn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==mf&&(e=Error(ne(422),{cause:r}),gl(qn(e,n)))):(r!==mf&&(t=Error(ne(423),{cause:r}),gl(qn(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,r=qn(r,n),i=Gf(e.stateNode,r,i),Df(e,i),bt!==4&&(bt=2)),!1;var a=Error(ne(520),{cause:r});if(a=qn(a,n),Rl===null?Rl=[a]:Rl.push(a),bt!==4&&(bt=2),t===null)return!0;r=qn(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=Gf(n.stateNode,r,e),Df(n,e),!1;case 1:if(t=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(vi===null||!vi.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,i=Ay(i),My(i,e,n,r),Df(n,i),!1}n=n.return}while(n!==null);return!1}var Wf=Error(ne(461)),Ct=!1;function Kt(e,t,n,r){t.child=e===null?zv(t,null,n,r):ta(t,e.child,n,r)}function ky(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}else s=r;return Xi(t),r=Af(e,t,n,s,a,i),l=Mf(),e!==null&&!Ct?(kf(e,t,i),Lr(e,t,i)):(He&&l&&ff(t),t.flags|=1,Kt(e,t,r,i),t.child)}function Iy(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!cf(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,Ry(e,t,a,r,i)):(e=lc(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!ih(e,i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:hl,n(s,r)&&e.ref===t.ref)return Lr(e,t,i)}return t.flags|=1,e=Ar(a,r),e.ref=t.ref,e.return=t,t.child=e}function Ry(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(hl(a,r)&&e.ref===t.ref)if(Ct=!1,t.pendingProps=r=a,ih(e,i))e.flags&131072&&(Ct=!0);else return t.lanes=e.lanes,Lr(e,t,i)}return Xf(e,t,n,r,i)}function zy(e,t,n,r){var i=r.children,a=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(t.flags&128){if(a=a!==null?a.baseLanes|n:n,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return Ly(e,t,a,n,r)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&dc(t,a!==null?a.cachePool:null),a!==null?$v(t,a):_f(),Pv(t);else return r=t.lanes=536870912,Ly(e,t,a!==null?a.baseLanes|n:n,n,r)}else a!==null?(dc(t,a.cachePool),$v(t,a),hi(),t.memoizedState=null):(e!==null&&dc(t,null),_f(),hi());return Kt(e,t,i,n),t.child}function Ol(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ly(e,t,n,r,i){var a=Sf();return a=a===null?null:{parent:_t._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&dc(t,null),_f(),Pv(t),e!==null&&Qa(e,t,r,!0),t.childLanes=i,null}function _c(e,t){return t=Cc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Uy(e,t,n){return ta(t,e.child,null,n),e=_c(t,t.pendingProps),e.flags|=2,jn(t),t.memoizedState=null,e}function kD(e,t,n){var r=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(He){if(r.mode==="hidden")return e=_c(t,r),t.lanes=536870912,Ol(null,e);if(Cf(t),(e=ft)?(e=Wb(e,Zn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ai!==null?{id:mr,overflow:pr}:null,retryLane:536870912,hydrationErrors:null},n=Sv(e),n.return=t,t.child=n,Wt=t,ft=null)):e=null,e===null)throw li(t);return t.lanes=536870912,null}return _c(t,r)}var a=e.memoizedState;if(a!==null){var s=a.dehydrated;if(Cf(t),i)if(t.flags&256)t.flags&=-257,t=Uy(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(ne(558));else if(Ct||Qa(e,t,n,!1),i=(n&e.childLanes)!==0,Ct||i){if(r=it,r!==null&&(s=Og(r,n),s!==0&&s!==a.retryLane))throw a.retryLane=s,Zi(e,s),vn(r,e,s),Wf;Uc(),t=Uy(e,t,n)}else e=a.treeContext,ft=Gn(s.nextSibling),Wt=t,He=!0,si=null,Zn=!1,e!==null&&Ev(t,e),t=_c(t,r),t.flags|=4096;return t}return e=Ar(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Oc(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(ne(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Xf(e,t,n,r,i){return Xi(t),n=Af(e,t,n,r,void 0,i),r=Mf(),e!==null&&!Ct?(kf(e,t,i),Lr(e,t,i)):(He&&r&&ff(t),t.flags|=1,Kt(e,t,n,i),t.child)}function $y(e,t,n,r,i,a){return Xi(t),t.updateQueue=null,n=Bv(t,r,n,i),Fv(e),r=Mf(),e!==null&&!Ct?(kf(e,t,a),Lr(e,t,a)):(He&&r&&ff(t),t.flags|=1,Kt(e,t,n,a),t.child)}function Py(e,t,n,r,i){if(Xi(t),t.stateNode===null){var a=qa,s=n.contextType;typeof s=="object"&&s!==null&&(a=Xt(s)),a=new n(r,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Qf,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=r,a.state=t.memoizedState,a.refs={},Nf(t),s=n.contextType,a.context=typeof s=="object"&&s!==null?Xt(s):qa,a.state=t.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Zf(t,n,s,r),a.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&Qf.enqueueReplaceState(a,a.state,null),Nl(t,r,a,i),xl(),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){a=t.stateNode;var l=t.memoizedProps,o=ra(n,l);a.props=o;var u=a.context,d=n.contextType;s=qa,typeof d=="object"&&d!==null&&(s=Xt(d));var m=n.getDerivedStateFromProps;d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l||u!==s)&&Ty(t,a,r,s),ci=!1;var f=t.memoizedState;a.state=f,Nl(t,r,a,i),xl(),u=t.memoizedState,l||f!==u||ci?(typeof m=="function"&&(Zf(t,n,m,r),u=t.memoizedState),(o=ci||Dy(t,n,o,r,f,u,s))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=s,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ef(e,t),s=t.memoizedProps,d=ra(n,s),a.props=d,m=t.pendingProps,f=a.context,u=n.contextType,o=qa,typeof u=="object"&&u!==null&&(o=Xt(u)),l=n.getDerivedStateFromProps,(u=typeof l=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==m||f!==o)&&Ty(t,a,r,o),ci=!1,f=t.memoizedState,a.state=f,Nl(t,r,a,i),xl();var h=t.memoizedState;s!==m||f!==h||ci||e!==null&&e.dependencies!==null&&cc(e.dependencies)?(typeof l=="function"&&(Zf(t,n,l,r),h=t.memoizedState),(d=ci||Dy(t,n,d,r,f,h,o)||e!==null&&e.dependencies!==null&&cc(e.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,h,o),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,h,o)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=o,r=d):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Oc(e,t),r=(t.flags&128)!==0,a||r?(a=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:a.render(),t.flags|=1,e!==null&&r?(t.child=ta(t,e.child,null,i),t.child=ta(t,null,n,i)):Kt(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Lr(e,t,i),e}function Fy(e,t,n,r){return Gi(),t.flags|=256,Kt(e,t,n,r),t.child}var Kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jf(e){return{baseLanes:e,cachePool:jv()}}function eh(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Mn),e}function By(e,t,n){var r=t.pendingProps,i=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(Nt.current&2)!==0),s&&(i=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(He){if(i?fi(t):hi(),(e=ft)?(e=Wb(e,Zn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ai!==null?{id:mr,overflow:pr}:null,retryLane:536870912,hydrationErrors:null},n=Sv(e),n.return=t,t.child=n,Wt=t,ft=null)):e=null,e===null)throw li(t);return zh(e)?t.lanes=32:t.lanes=536870912,null}var l=r.children;return r=r.fallback,i?(hi(),i=t.mode,l=Cc({mode:"hidden",children:l},i),r=Qi(r,i,n,null),l.return=t,r.return=t,l.sibling=r,t.child=l,r=t.child,r.memoizedState=Jf(n),r.childLanes=eh(e,s,n),t.memoizedState=Kf,Ol(null,r)):(fi(t),th(t,l))}var o=e.memoizedState;if(o!==null&&(l=o.dehydrated,l!==null)){if(a)t.flags&256?(fi(t),t.flags&=-257,t=nh(e,t,n)):t.memoizedState!==null?(hi(),t.child=e.child,t.flags|=128,t=null):(hi(),l=r.fallback,i=t.mode,r=Cc({mode:"visible",children:r.children},i),l=Qi(l,i,n,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,ta(t,e.child,null,n),r=t.child,r.memoizedState=Jf(n),r.childLanes=eh(e,s,n),t.memoizedState=Kf,t=Ol(null,r));else if(fi(t),zh(l)){if(s=l.nextSibling&&l.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(ne(419)),r.stack="",r.digest=s,gl({value:r,source:null,stack:null}),t=nh(e,t,n)}else if(Ct||Qa(e,t,n,!1),s=(n&e.childLanes)!==0,Ct||s){if(s=it,s!==null&&(r=Og(s,n),r!==0&&r!==o.retryLane))throw o.retryLane=r,Zi(e,r),vn(s,e,r),Wf;Rh(l)||Uc(),t=nh(e,t,n)}else Rh(l)?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,ft=Gn(l.nextSibling),Wt=t,He=!0,si=null,Zn=!1,e!==null&&Ev(t,e),t=th(t,r.children),t.flags|=4096);return t}return i?(hi(),l=r.fallback,i=t.mode,o=e.child,u=o.sibling,r=Ar(o,{mode:"hidden",children:r.children}),r.subtreeFlags=o.subtreeFlags&65011712,u!==null?l=Ar(u,l):(l=Qi(l,i,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,Ol(null,r),r=t.child,l=e.child.memoizedState,l===null?l=Jf(n):(i=l.cachePool,i!==null?(o=_t._currentValue,i=i.parent!==o?{parent:o,pool:o}:i):i=jv(),l={baseLanes:l.baseLanes|n,cachePool:i}),r.memoizedState=l,r.childLanes=eh(e,s,n),t.memoizedState=Kf,Ol(e.child,r)):(fi(t),n=e.child,e=n.sibling,n=Ar(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function th(e,t){return t=Cc({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Cc(e,t){return e=On(22,e,null,t),e.lanes=0,e}function nh(e,t,n){return ta(t,e.child,null,n),e=th(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Vy(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),vf(e.return,t,n)}function rh(e,t,n,r,i,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.treeForkCount=a)}function qy(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var s=Nt.current,l=(s&2)!==0;if(l?(s=s&1|2,t.flags|=128):s&=1,lt(Nt,s),Kt(e,t,r,n),r=He?pl:0,!l&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vy(e,n,t);else if(e.tag===19)Vy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&vc(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rh(t,!1,i,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&vc(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rh(t,!0,n,null,a,r);break;case"together":rh(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Lr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),gi|=t.lanes,!(n&t.childLanes))if(e!==null){if(Qa(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(ne(153));if(t.child!==null){for(e=t.child,n=Ar(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ar(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ih(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&cc(e)))}function ID(e,t,n){switch(t.tag){case 3:Po(t,t.stateNode.containerInfo),oi(t,_t,e.memoizedState.cache),Gi();break;case 27:case 5:_d(t);break;case 4:Po(t,t.stateNode.containerInfo);break;case 10:oi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Cf(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(fi(t),t.flags|=128,null):n&t.child.childLanes?By(e,t,n):(fi(t),e=Lr(e,t,n),e!==null?e.sibling:null);fi(t);break;case 19:var i=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(Qa(e,t,n,!1),r=(n&t.childLanes)!==0),i){if(r)return qy(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),lt(Nt,Nt.current),r)break;return null;case 22:return t.lanes=0,zy(e,t,n,t.pendingProps);case 24:oi(t,_t,e.memoizedState.cache)}return Lr(e,t,n)}function Hy(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ct=!0;else{if(!ih(e,n)&&!(t.flags&128))return Ct=!1,ID(e,t,n);Ct=!!(e.flags&131072)}else Ct=!1,He&&t.flags&1048576&&Nv(t,pl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=Ji(t.elementType),t.type=e,typeof e=="function")cf(e)?(r=ra(e,r),t.tag=1,t=Py(null,t,e,r,n)):(t.tag=0,t=Xf(null,t,e,r,n));else{if(e!=null){var i=e.$$typeof;if(i===wd){t.tag=11,t=ky(null,t,e,r,n);break e}else if(i===Nd){t.tag=14,t=Iy(null,t,e,r,n);break e}}throw t=Dd(e)||e,Error(ne(306,t,""))}}return t;case 0:return Xf(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,i=ra(r,t.pendingProps),Py(e,t,r,i,n);case 3:e:{if(Po(t,t.stateNode.containerInfo),e===null)throw Error(ne(387));r=t.pendingProps;var a=t.memoizedState;i=a.element,Ef(e,t),Nl(t,r,null,n);var s=t.memoizedState;if(r=s.cache,oi(t,_t,r),r!==a.cache&&yf(t,[_t],n,!0),xl(),r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){t=Fy(e,t,r,n);break e}else if(r!==i){i=qn(Error(ne(424)),t),gl(i),t=Fy(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ft=Gn(e.firstChild),Wt=t,He=!0,si=null,Zn=!0,n=zv(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Gi(),r===i){t=Lr(e,t,n);break e}Kt(e,t,r,n)}t=t.child}return t;case 26:return Oc(e,t),e===null?(n=n0(t.type,null,t.pendingProps,null))?t.memoizedState=n:He||(n=t.type,e=t.pendingProps,r=Hc(ti.current).createElement(n),r[Gt]=t,r[dn]=e,Jt(r,n,e),Ht(r),t.stateNode=r):t.memoizedState=n0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return _d(t),e===null&&He&&(r=t.stateNode=Jb(t.type,t.pendingProps,ti.current),Wt=t,Zn=!0,i=ft,Si(t.type)?(Lh=i,ft=Gn(r.firstChild)):ft=i),Kt(e,t,t.pendingProps.children,n),Oc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&He&&((i=r=ft)&&(r=u1(r,t.type,t.pendingProps,Zn),r!==null?(t.stateNode=r,Wt=t,ft=Gn(r.firstChild),Zn=!1,i=!0):i=!1),i||li(t)),_d(t),i=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,r=a.children,Mh(i,a)?r=null:s!==null&&Mh(i,s)&&(t.flags|=32),t.memoizedState!==null&&(i=Af(e,t,DD,null,null,n),Vl._currentValue=i),Oc(e,t),Kt(e,t,r,n),t.child;case 6:return e===null&&He&&((e=n=ft)&&(n=d1(n,t.pendingProps,Zn),n!==null?(t.stateNode=n,Wt=t,ft=null,e=!0):e=!1),e||li(t)),null;case 13:return By(e,t,n);case 4:return Po(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ta(t,null,r,n):Kt(e,t,r,n),t.child;case 11:return ky(e,t,t.type,t.pendingProps,n);case 7:return Kt(e,t,t.pendingProps,n),t.child;case 8:return Kt(e,t,t.pendingProps.children,n),t.child;case 12:return Kt(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,oi(t,t.type,r.value),Kt(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Xi(t),i=Xt(i),r=r(i),t.flags|=1,Kt(e,t,r,n),t.child;case 14:return Iy(e,t,t.type,t.pendingProps,n);case 15:return Ry(e,t,t.type,t.pendingProps,n);case 19:return qy(e,t,n);case 31:return kD(e,t,n);case 22:return zy(e,t,n,t.pendingProps);case 24:return Xi(t),r=Xt(_t),e===null?(i=Sf(),i===null&&(i=it,a=bf(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:r,cache:i},Nf(t),oi(t,_t,i)):(e.lanes&n&&(Ef(e,t),Nl(t,null,null,n),xl()),i=e.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),oi(t,_t,r)):(r=a.cache,oi(t,_t,r),r!==i.cache&&yf(t,[_t],n,!0))),Kt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(ne(156,t.tag))}function Ur(e){e.flags|=4}function ah(e,t,n,r,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(yb())e.flags|=8192;else throw ea=hc,xf}else e.flags&=-16777217}function Yy(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!l0(t))if(yb())e.flags|=8192;else throw ea=hc,xf}function jc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Dg():536870912,e.lanes|=t,ss|=t)}function Cl(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function RD(e,t,n){var r=t.pendingProps;switch(hf(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(t),null;case 1:return ht(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ir(_t),ja(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Za(t)?Ur(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,pf())),ht(t),null;case 26:var i=t.type,a=t.memoizedState;return e===null?(Ur(t),a!==null?(ht(t),Yy(t,a)):(ht(t),ah(t,i,null,r,n))):a?a!==e.memoizedState?(Ur(t),ht(t),Yy(t,a)):(ht(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&Ur(t),ht(t),ah(t,i,e,r,n)),null;case 27:if(Fo(t),n=ti.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Ur(t);else{if(!r){if(t.stateNode===null)throw Error(ne(166));return ht(t),null}e=hr.current,Za(t)?Dv(t):(e=Jb(i,r,n),t.stateNode=e,Ur(t))}return ht(t),null;case 5:if(Fo(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Ur(t);else{if(!r){if(t.stateNode===null)throw Error(ne(166));return ht(t),null}if(a=hr.current,Za(t))Dv(t);else{var s=Hc(ti.current);switch(a){case 1:a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":a=s.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof r.is=="string"?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a=typeof r.is=="string"?s.createElement(i,{is:r.is}):s.createElement(i)}}a[Gt]=t,a[dn]=r;e:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)a.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=a;e:switch(Jt(a,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ur(t)}}return ht(t),ah(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Ur(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ne(166));if(e=ti.current,Za(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,i=Wt,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Gt]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||Bb(e.nodeValue,n)),e||li(t,!0)}else e=Hc(e).createTextNode(r),e[Gt]=t,t.stateNode=e}return ht(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=Za(t),n!==null){if(e===null){if(!r)throw Error(ne(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ne(557));e[Gt]=t}else Gi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ht(t),e=!1}else n=pf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(jn(t),t):(jn(t),null);if(t.flags&128)throw Error(ne(558))}return ht(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=Za(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(ne(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ne(317));i[Gt]=t}else Gi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ht(t),i=!1}else i=pf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(jn(t),t):(jn(t),null)}return jn(t),t.flags&128?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool),a=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),jc(t,t.updateQueue),ht(t),null);case 4:return ja(),e===null&&_h(t.stateNode.containerInfo),ht(t),null;case 10:return Ir(t.type),ht(t),null;case 19:if(qt(Nt),r=t.memoizedState,r===null)return ht(t),null;if(i=(t.flags&128)!==0,a=r.rendering,a===null)if(i)Cl(r,!1);else{if(bt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=vc(e),a!==null){for(t.flags|=128,Cl(r,!1),e=a.updateQueue,t.updateQueue=e,jc(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)wv(n,e),n=n.sibling;return lt(Nt,Nt.current&1|2),He&&Mr(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&En()>Rc&&(t.flags|=128,i=!0,Cl(r,!1),t.lanes=4194304)}else{if(!i)if(e=vc(a),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,jc(t,e),Cl(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!He)return ht(t),null}else 2*En()-r.renderingStartTime>Rc&&n!==536870912&&(t.flags|=128,i=!0,Cl(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(e=r.last,e!==null?e.sibling=a:t.child=a,r.last=a)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=En(),e.sibling=null,n=Nt.current,lt(Nt,i?n&1|2:n&1),He&&Mr(t,r.treeForkCount),e):(ht(t),null);case 22:case 23:return jn(t),Of(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(ht(t),t.subtreeFlags&6&&(t.flags|=8192)):ht(t),n=t.updateQueue,n!==null&&jc(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&qt(Ki),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ir(_t),ht(t),null;case 25:return null;case 30:return null}throw Error(ne(156,t.tag))}function zD(e,t){switch(hf(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ir(_t),ja(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Fo(t),null;case 31:if(t.memoizedState!==null){if(jn(t),t.alternate===null)throw Error(ne(340));Gi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(jn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ne(340));Gi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qt(Nt),null;case 4:return ja(),null;case 10:return Ir(t.type),null;case 22:case 23:return jn(t),Of(),e!==null&&qt(Ki),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ir(_t),null;case 25:return null;default:return null}}function Zy(e,t){switch(hf(t),t.tag){case 3:Ir(_t),ja();break;case 26:case 27:case 5:Fo(t);break;case 4:ja();break;case 31:t.memoizedState!==null&&jn(t);break;case 13:jn(t);break;case 19:qt(Nt);break;case 10:Ir(t.type);break;case 22:case 23:jn(t),Of(),e!==null&&qt(Ki);break;case 24:Ir(_t)}}function jl(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(l){Je(t,t.return,l)}}function mi(e,t,n){try{var r=t.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var a=i.next;r=a;do{if((r.tag&e)===e){var s=r.inst,l=s.destroy;if(l!==void 0){s.destroy=void 0,i=t;var o=n,u=l;try{u()}catch(d){Je(i,o,d)}}}r=r.next}while(r!==a)}}catch(d){Je(t,t.return,d)}}function Qy(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Uv(t,n)}catch(r){Je(e,e.return,r)}}}function Gy(e,t,n){n.props=ra(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Je(e,t,r)}}function Al(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(i){Je(e,t,i)}}function gr(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){Je(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Je(e,t,i)}else n.current=null}function Wy(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Je(e,e.return,i)}}function sh(e,t,n){try{var r=e.stateNode;i1(r,e.type,n,t),r[dn]=t}catch(i){Je(e,e.return,i)}}function Xy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Si(e.type)||e.tag===4}function lh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Si(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function oh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Cr));else if(r!==4&&(r===27&&Si(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(oh(e,t,n),e=e.sibling;e!==null;)oh(e,t,n),e=e.sibling}function Ac(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&Si(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Ac(e,t,n),e=e.sibling;e!==null;)Ac(e,t,n),e=e.sibling}function Ky(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Jt(t,r,n),t[Gt]=e,t[dn]=n}catch(a){Je(e,e.return,a)}}var $r=!1,jt=!1,ch=!1,Jy=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function LD(e,t){if(e=e.containerInfo,jh=Kc,e=dv(e),tf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,l=-1,o=-1,u=0,d=0,m=e,f=null;t:for(;;){for(var h;m!==n||i!==0&&m.nodeType!==3||(l=s+i),m!==a||r!==0&&m.nodeType!==3||(o=s+r),m.nodeType===3&&(s+=m.nodeValue.length),(h=m.firstChild)!==null;)f=m,m=h;for(;;){if(m===e)break t;if(f===n&&++u===i&&(l=s),f===a&&++d===r&&(o=s),(h=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=h}n=l===-1||o===-1?null:{start:l,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ah={focusedElem:e,selectionRange:n},Kc=!1,Yt=t;Yt!==null;)if(t=Yt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Yt=e;else for(;Yt!==null;){switch(t=Yt,a=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&a!==null){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var g=ra(n.type,i);e=r.getSnapshotBeforeUpdate(g,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(w){Je(n,n.return,w)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Ih(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ih(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(ne(163))}if(e=t.sibling,e!==null){e.return=t.return,Yt=e;break}Yt=t.return}}function eb(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Fr(e,n),r&4&&jl(5,n);break;case 1:if(Fr(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(s){Je(n,n.return,s)}else{var i=ra(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){Je(n,n.return,s)}}r&64&&Qy(n),r&512&&Al(n,n.return);break;case 3:if(Fr(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Uv(e,t)}catch(s){Je(n,n.return,s)}}break;case 27:t===null&&r&4&&Ky(n);case 26:case 5:Fr(e,n),t===null&&r&4&&Wy(n),r&512&&Al(n,n.return);break;case 12:Fr(e,n);break;case 31:Fr(e,n),r&4&&rb(e,n);break;case 13:Fr(e,n),r&4&&ib(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=YD.bind(null,n),f1(e,n))));break;case 22:if(r=n.memoizedState!==null||$r,!r){t=t!==null&&t.memoizedState!==null||jt,i=$r;var a=jt;$r=r,(jt=t)&&!a?Br(e,n,(n.subtreeFlags&8772)!==0):Fr(e,n),$r=i,jt=a}break;case 30:break;default:Fr(e,n)}}function tb(e){var t=e.alternate;t!==null&&(e.alternate=null,tb(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ud(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var pt=null,hn=!1;function Pr(e,t,n){for(n=n.child;n!==null;)nb(e,t,n),n=n.sibling}function nb(e,t,n){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(tl,n)}catch{}switch(n.tag){case 26:jt||gr(n,t),Pr(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:jt||gr(n,t);var r=pt,i=hn;Si(n.type)&&(pt=n.stateNode,hn=!1),Pr(e,t,n),Pl(n.stateNode),pt=r,hn=i;break;case 5:jt||gr(n,t);case 6:if(r=pt,i=hn,pt=null,Pr(e,t,n),pt=r,hn=i,pt!==null)if(hn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(n.stateNode)}catch(a){Je(n,t,a)}else try{pt.removeChild(n.stateNode)}catch(a){Je(n,t,a)}break;case 18:pt!==null&&(hn?(e=pt,Qb(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ms(e)):Qb(pt,n.stateNode));break;case 4:r=pt,i=hn,pt=n.stateNode.containerInfo,hn=!0,Pr(e,t,n),pt=r,hn=i;break;case 0:case 11:case 14:case 15:mi(2,n,t),jt||mi(4,n,t),Pr(e,t,n);break;case 1:jt||(gr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&Gy(n,t,r)),Pr(e,t,n);break;case 21:Pr(e,t,n);break;case 22:jt=(r=jt)||n.memoizedState!==null,Pr(e,t,n),jt=r;break;default:Pr(e,t,n)}}function rb(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ms(e)}catch(n){Je(t,t.return,n)}}}function ib(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ms(e)}catch(n){Je(t,t.return,n)}}function UD(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Jy),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Jy),t;default:throw Error(ne(435,e.tag))}}function Mc(e,t){var n=UD(e);t.forEach(function(r){if(!n.has(r)){n.add(r);var i=ZD.bind(null,e,r);r.then(i,i)}})}function mn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],a=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 27:if(Si(l.type)){pt=l.stateNode,hn=!1;break e}break;case 5:pt=l.stateNode,hn=!1;break e;case 3:case 4:pt=l.stateNode.containerInfo,hn=!0;break e}l=l.return}if(pt===null)throw Error(ne(160));nb(a,s,i),pt=null,hn=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)ab(t,e),t=t.sibling}var ir=null;function ab(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mn(t,e),pn(e),r&4&&(mi(3,e,e.return),jl(3,e),mi(5,e,e.return));break;case 1:mn(t,e),pn(e),r&512&&(jt||n===null||gr(n,n.return)),r&64&&$r&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=ir;if(mn(t,e),pn(e),r&512&&(jt||n===null||gr(n,n.return)),r&4){var a=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":a=i.getElementsByTagName("title")[0],(!a||a[il]||a[Gt]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),Jt(a,r,n),a[Gt]=e,Ht(a),r=a;break e;case"link":var s=a0("link","href",i).get(r+(n.href||""));if(s){for(var l=0;l<s.length;l++)if(a=s[l],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(l,1);break t}}a=i.createElement(r),Jt(a,r,n),i.head.appendChild(a);break;case"meta":if(s=a0("meta","content",i).get(r+(n.content||""))){for(l=0;l<s.length;l++)if(a=s[l],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(l,1);break t}}a=i.createElement(r),Jt(a,r,n),i.head.appendChild(a);break;default:throw Error(ne(468,r))}a[Gt]=e,Ht(a),r=a}e.stateNode=r}else s0(i,e.type,e.stateNode);else e.stateNode=i0(i,r,e.memoizedProps);else a!==r?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,r===null?s0(i,e.type,e.stateNode):i0(i,r,e.memoizedProps)):r===null&&e.stateNode!==null&&sh(e,e.memoizedProps,n.memoizedProps)}break;case 27:mn(t,e),pn(e),r&512&&(jt||n===null||gr(n,n.return)),n!==null&&r&4&&sh(e,e.memoizedProps,n.memoizedProps);break;case 5:if(mn(t,e),pn(e),r&512&&(jt||n===null||gr(n,n.return)),e.flags&32){i=e.stateNode;try{La(i,"")}catch(g){Je(e,e.return,g)}}r&4&&e.stateNode!=null&&(i=e.memoizedProps,sh(e,i,n!==null?n.memoizedProps:i)),r&1024&&(ch=!0);break;case 6:if(mn(t,e),pn(e),r&4){if(e.stateNode===null)throw Error(ne(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(g){Je(e,e.return,g)}}break;case 3:if(Qc=null,i=ir,ir=Yc(t.containerInfo),mn(t,e),ir=i,pn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ms(t.containerInfo)}catch(g){Je(e,e.return,g)}ch&&(ch=!1,sb(e));break;case 4:r=ir,ir=Yc(e.stateNode.containerInfo),mn(t,e),pn(e),ir=r;break;case 12:mn(t,e),pn(e);break;case 31:mn(t,e),pn(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Mc(e,r)));break;case 13:mn(t,e),pn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Ic=En()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Mc(e,r)));break;case 22:i=e.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,u=$r,d=jt;if($r=u||i,jt=d||o,mn(t,e),jt=d,$r=u,pn(e),r&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||o||$r||jt||ia(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){o=n=t;try{if(a=o.stateNode,i)s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{l=o.stateNode;var m=o.memoizedProps.style,f=m!=null&&m.hasOwnProperty("display")?m.display:null;l.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(g){Je(o,o.return,g)}}}else if(t.tag===6){if(n===null){o=t;try{o.stateNode.nodeValue=i?"":o.memoizedProps}catch(g){Je(o,o.return,g)}}}else if(t.tag===18){if(n===null){o=t;try{var h=o.stateNode;i?Gb(h,!0):Gb(o.stateNode,!1)}catch(g){Je(o,o.return,g)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Mc(e,n))));break;case 19:mn(t,e),pn(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Mc(e,r)));break;case 30:break;case 21:break;default:mn(t,e),pn(e)}}function pn(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(Xy(r)){n=r;break}r=r.return}if(n==null)throw Error(ne(160));switch(n.tag){case 27:var i=n.stateNode,a=lh(e);Ac(e,a,i);break;case 5:var s=n.stateNode;n.flags&32&&(La(s,""),n.flags&=-33);var l=lh(e);Ac(e,l,s);break;case 3:case 4:var o=n.stateNode.containerInfo,u=lh(e);oh(e,u,o);break;default:throw Error(ne(161))}}catch(d){Je(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function sb(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;sb(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Fr(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)eb(e,t.alternate,t),t=t.sibling}function ia(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:mi(4,t,t.return),ia(t);break;case 1:gr(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Gy(t,t.return,n),ia(t);break;case 27:Pl(t.stateNode);case 26:case 5:gr(t,t.return),ia(t);break;case 22:t.memoizedState===null&&ia(t);break;case 30:ia(t);break;default:ia(t)}e=e.sibling}}function Br(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,i=e,a=t,s=a.flags;switch(a.tag){case 0:case 11:case 15:Br(i,a,n),jl(4,a);break;case 1:if(Br(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){Je(r,r.return,u)}if(r=a,i=r.updateQueue,i!==null){var l=r.stateNode;try{var o=i.shared.hiddenCallbacks;if(o!==null)for(i.shared.hiddenCallbacks=null,i=0;i<o.length;i++)Lv(o[i],l)}catch(u){Je(r,r.return,u)}}n&&s&64&&Qy(a),Al(a,a.return);break;case 27:Ky(a);case 26:case 5:Br(i,a,n),n&&r===null&&s&4&&Wy(a),Al(a,a.return);break;case 12:Br(i,a,n);break;case 31:Br(i,a,n),n&&s&4&&rb(i,a);break;case 13:Br(i,a,n),n&&s&4&&ib(i,a);break;case 22:a.memoizedState===null&&Br(i,a,n),Al(a,a.return);break;case 30:break;default:Br(i,a,n)}t=t.sibling}}function uh(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&vl(n))}function dh(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&vl(e))}function ar(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)lb(e,t,n,r),t=t.sibling}function lb(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:ar(e,t,n,r),i&2048&&jl(9,t);break;case 1:ar(e,t,n,r);break;case 3:ar(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&vl(e)));break;case 12:if(i&2048){ar(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,l=a.onPostCommit;typeof l=="function"&&l(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){Je(t,t.return,o)}}else ar(e,t,n,r);break;case 31:ar(e,t,n,r);break;case 13:ar(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,s=t.alternate,t.memoizedState!==null?a._visibility&2?ar(e,t,n,r):Ml(e,t):a._visibility&2?ar(e,t,n,r):(a._visibility|=2,rs(e,t,n,r,(t.subtreeFlags&10256)!==0||!1)),i&2048&&uh(s,t);break;case 24:ar(e,t,n,r),i&2048&&dh(t.alternate,t);break;default:ar(e,t,n,r)}}function rs(e,t,n,r,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var a=e,s=t,l=n,o=r,u=s.flags;switch(s.tag){case 0:case 11:case 15:rs(a,s,l,o,i),jl(8,s);break;case 23:break;case 22:var d=s.stateNode;s.memoizedState!==null?d._visibility&2?rs(a,s,l,o,i):Ml(a,s):(d._visibility|=2,rs(a,s,l,o,i)),i&&u&2048&&uh(s.alternate,s);break;case 24:rs(a,s,l,o,i),i&&u&2048&&dh(s.alternate,s);break;default:rs(a,s,l,o,i)}t=t.sibling}}function Ml(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Ml(n,r),i&2048&&uh(r.alternate,r);break;case 24:Ml(n,r),i&2048&&dh(r.alternate,r);break;default:Ml(n,r)}t=t.sibling}}var kl=8192;function is(e,t,n){if(e.subtreeFlags&kl)for(e=e.child;e!==null;)ob(e,t,n),e=e.sibling}function ob(e,t,n){switch(e.tag){case 26:is(e,t,n),e.flags&kl&&e.memoizedState!==null&&E1(n,ir,e.memoizedState,e.memoizedProps);break;case 5:is(e,t,n);break;case 3:case 4:var r=ir;ir=Yc(e.stateNode.containerInfo),is(e,t,n),ir=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=kl,kl=16777216,is(e,t,n),kl=r):is(e,t,n));break;default:is(e,t,n)}}function cb(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Il(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];Yt=r,db(r,e)}cb(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ub(e),e=e.sibling}function ub(e){switch(e.tag){case 0:case 11:case 15:Il(e),e.flags&2048&&mi(9,e,e.return);break;case 3:Il(e);break;case 12:Il(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,kc(e)):Il(e);break;default:Il(e)}}function kc(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];Yt=r,db(r,e)}cb(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:mi(8,t,t.return),kc(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,kc(t));break;default:kc(t)}e=e.sibling}}function db(e,t){for(;Yt!==null;){var n=Yt;switch(n.tag){case 0:case 11:case 15:mi(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:vl(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Yt=r;else e:for(n=e;Yt!==null;){r=Yt;var i=r.sibling,a=r.return;if(tb(r),r===n){Yt=null;break e}if(i!==null){i.return=a,Yt=i;break e}Yt=a}}}var $D={getCacheForType:function(e){var t=Xt(_t),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Xt(_t).controller.signal}},PD=typeof WeakMap=="function"?WeakMap:Map,We=0,it=null,Fe=null,Ve=0,Ke=0,An=null,pi=!1,as=!1,fh=!1,Vr=0,bt=0,gi=0,aa=0,hh=0,Mn=0,ss=0,Rl=null,gn=null,mh=!1,Ic=0,fb=0,Rc=1/0,zc=null,vi=null,$t=0,yi=null,ls=null,qr=0,ph=0,gh=null,hb=null,zl=0,vh=null;function kn(){return We&2&&Ve!==0?Ve&-Ve:je.T!==null?Nh():Cg()}function mb(){if(Mn===0)if(!(Ve&536870912)||He){var e=qo;qo<<=1,!(qo&3932160)&&(qo=262144),Mn=e}else Mn=536870912;return e=Cn.current,e!==null&&(e.flags|=32),Mn}function vn(e,t,n){(e===it&&(Ke===2||Ke===9)||e.cancelPendingCommit!==null)&&(os(e,0),bi(e,Ve,Mn,!1)),rl(e,n),(!(We&2)||e!==it)&&(e===it&&(!(We&2)&&(aa|=n),bt===4&&bi(e,Ve,Mn,!1)),vr(e))}function pb(e,t,n){if(We&6)throw Error(ne(327));var r=!n&&(t&127)===0&&(t&e.expiredLanes)===0||nl(e,t),i=r?VD(e,t):bh(e,t,!0),a=r;do{if(i===0){as&&!r&&bi(e,t,0,!1);break}else{if(n=e.current.alternate,a&&!FD(n)){i=bh(e,t,!1),a=!1;continue}if(i===2){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;e:{var l=e;i=Rl;var o=l.current.memoizedState.isDehydrated;if(o&&(os(l,s).flags|=256),s=bh(l,s,!1),s!==2){if(fh&&!o){l.errorRecoveryDisabledLanes|=a,aa|=a,i=4;break e}a=gn,gn=i,a!==null&&(gn===null?gn=a:gn.push.apply(gn,a))}i=s}if(a=!1,i!==2)continue}}if(i===1){os(e,0),bi(e,t,0,!0);break}e:{switch(r=e,a=i,a){case 0:case 1:throw Error(ne(345));case 4:if((t&4194048)!==t)break;case 6:bi(r,t,Mn,!pi);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(ne(329))}if((t&62914560)===t&&(i=Ic+300-En(),10<i)){if(bi(r,t,Mn,!pi),Yo(r,0,!0)!==0)break e;qr=t,r.timeoutHandle=Yb(gb.bind(null,r,n,gn,zc,mh,t,Mn,aa,ss,pi,a,"Throttled",-0,0),i);break e}gb(r,n,gn,zc,mh,t,Mn,aa,ss,pi,a,null,-0,0)}}break}while(!0);vr(e)}function gb(e,t,n,r,i,a,s,l,o,u,d,m,f,h){if(e.timeoutHandle=-1,m=t.subtreeFlags,m&8192||(m&16785408)===16785408){m={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Cr},ob(t,a,m);var g=(a&62914560)===a?Ic-En():(a&4194048)===a?fb-En():0;if(g=D1(m,g),g!==null){qr=a,e.cancelPendingCommit=g(Eb.bind(null,e,t,a,n,r,i,s,l,o,d,m,null,f,h)),bi(e,a,s,!u);return}}Eb(e,t,a,n,r,i,s,l,o)}function FD(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!_n(a(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bi(e,t,n,r){t&=~hh,t&=~aa,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-Tn(i),s=1<<a;r[a]=-1,i&=~s}n!==0&&Tg(e,n,t)}function Lc(){return We&6?!0:(Ll(0),!1)}function yh(){if(Fe!==null){if(Ke===0)var e=Fe.return;else e=Fe,kr=Wi=null,If(e),Ka=null,bl=0,e=Fe;for(;e!==null;)Zy(e.alternate,e),e=e.return;Fe=null}}function os(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,l1(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),qr=0,yh(),it=e,Fe=n=Ar(e.current,null),Ve=t,Ke=0,An=null,pi=!1,as=nl(e,t),fh=!1,ss=Mn=hh=aa=gi=bt=0,gn=Rl=null,mh=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-Tn(r),a=1<<i;t|=e[i],r&=~a}return Vr=t,ic(),n}function vb(e,t){Ue=null,je.H=_l,t===Xa||t===fc?(t=kv(),Ke=3):t===xf?(t=kv(),Ke=4):Ke=t===Wf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,An=t,Fe===null&&(bt=1,Tc(e,qn(t,e.current)))}function yb(){var e=Cn.current;return e===null?!0:(Ve&4194048)===Ve?Qn===null:(Ve&62914560)===Ve||Ve&536870912?e===Qn:!1}function bb(){var e=je.H;return je.H=_l,e===null?_l:e}function wb(){var e=je.A;return je.A=$D,e}function Uc(){bt=4,pi||(Ve&4194048)!==Ve&&Cn.current!==null||(as=!0),!(gi&134217727)&&!(aa&134217727)||it===null||bi(it,Ve,Mn,!1)}function bh(e,t,n){var r=We;We|=2;var i=bb(),a=wb();(it!==e||Ve!==t)&&(zc=null,os(e,t)),t=!1;var s=bt;e:do try{if(Ke!==0&&Fe!==null){var l=Fe,o=An;switch(Ke){case 8:yh(),s=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(t=!0);var u=Ke;if(Ke=0,An=null,cs(e,l,o,u),n&&as){s=0;break e}break;default:u=Ke,Ke=0,An=null,cs(e,l,o,u)}}BD(),s=bt;break}catch(d){vb(e,d)}while(!0);return t&&e.shellSuspendCounter++,kr=Wi=null,We=r,je.H=i,je.A=a,Fe===null&&(it=null,Ve=0,ic()),s}function BD(){for(;Fe!==null;)Sb(Fe)}function VD(e,t){var n=We;We|=2;var r=bb(),i=wb();it!==e||Ve!==t?(zc=null,Rc=En()+500,os(e,t)):as=nl(e,t);e:do try{if(Ke!==0&&Fe!==null){t=Fe;var a=An;t:switch(Ke){case 1:Ke=0,An=null,cs(e,t,a,1);break;case 2:case 9:if(Av(a)){Ke=0,An=null,xb(t);break}t=function(){Ke!==2&&Ke!==9||it!==e||(Ke=7),vr(e)},a.then(t,t);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Av(a)?(Ke=0,An=null,xb(t)):(Ke=0,An=null,cs(e,t,a,7));break;case 5:var s=null;switch(Fe.tag){case 26:s=Fe.memoizedState;case 5:case 27:var l=Fe;if(s?l0(s):l.stateNode.complete){Ke=0,An=null;var o=l.sibling;if(o!==null)Fe=o;else{var u=l.return;u!==null?(Fe=u,$c(u)):Fe=null}break t}}Ke=0,An=null,cs(e,t,a,5);break;case 6:Ke=0,An=null,cs(e,t,a,6);break;case 8:yh(),bt=6;break e;default:throw Error(ne(462))}}qD();break}catch(d){vb(e,d)}while(!0);return kr=Wi=null,je.H=r,je.A=i,We=n,Fe!==null?0:(it=null,Ve=0,ic(),bt)}function qD(){for(;Fe!==null&&!hE();)Sb(Fe)}function Sb(e){var t=Hy(e.alternate,e,Vr);e.memoizedProps=e.pendingProps,t===null?$c(e):Fe=t}function xb(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=$y(n,t,t.pendingProps,t.type,void 0,Ve);break;case 11:t=$y(n,t,t.pendingProps,t.type.render,t.ref,Ve);break;case 5:If(t);default:Zy(n,t),t=Fe=wv(t,Vr),t=Hy(n,t,Vr)}e.memoizedProps=e.pendingProps,t===null?$c(e):Fe=t}function cs(e,t,n,r){kr=Wi=null,If(t),Ka=null,bl=0;var i=t.return;try{if(MD(e,i,t,n,Ve)){bt=1,Tc(e,qn(n,e.current)),Fe=null;return}}catch(a){if(i!==null)throw Fe=i,a;bt=1,Tc(e,qn(n,e.current)),Fe=null;return}t.flags&32768?(He||r===1?e=!0:as||Ve&536870912?e=!1:(pi=e=!0,(r===2||r===9||r===3||r===6)&&(r=Cn.current,r!==null&&r.tag===13&&(r.flags|=16384))),Nb(t,e)):$c(t)}function $c(e){var t=e;do{if(t.flags&32768){Nb(t,pi);return}e=t.return;var n=RD(t.alternate,t,Vr);if(n!==null){Fe=n;return}if(t=t.sibling,t!==null){Fe=t;return}Fe=t=e}while(t!==null);bt===0&&(bt=5)}function Nb(e,t){do{var n=zD(e.alternate,e);if(n!==null){n.flags&=32767,Fe=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Fe=e;return}Fe=e=n}while(e!==null);bt=6,Fe=null}function Eb(e,t,n,r,i,a,s,l,o){e.cancelPendingCommit=null;do Pc();while($t!==0);if(We&6)throw Error(ne(327));if(t!==null){if(t===e.current)throw Error(ne(177));if(a=t.lanes|t.childLanes,a|=lf,NE(e,n,a,s,l,o),e===it&&(Fe=it=null,Ve=0),ls=t,yi=e,qr=n,ph=a,gh=i,hb=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,QD(Bo,function(){return Cb(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,t.subtreeFlags&13878||r){r=je.T,je.T=null,i=Ge.p,Ge.p=2,s=We,We|=4;try{LD(e,t,n)}finally{We=s,Ge.p=i,je.T=r}}$t=1,Db(),Tb(),_b()}}function Db(){if($t===1){$t=0;var e=yi,t=ls,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=je.T,je.T=null;var r=Ge.p;Ge.p=2;var i=We;We|=4;try{ab(t,e);var a=Ah,s=dv(e.containerInfo),l=a.focusedElem,o=a.selectionRange;if(s!==l&&l&&l.ownerDocument&&uv(l.ownerDocument.documentElement,l)){if(o!==null&&tf(l)){var u=o.start,d=o.end;if(d===void 0&&(d=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(d,l.value.length);else{var m=l.ownerDocument||document,f=m&&m.defaultView||window;if(f.getSelection){var h=f.getSelection(),g=l.textContent.length,w=Math.min(o.start,g),S=o.end===void 0?w:Math.min(o.end,g);!h.extend&&w>S&&(s=S,S=w,w=s);var v=cv(l,w),p=cv(l,S);if(v&&p&&(h.rangeCount!==1||h.anchorNode!==v.node||h.anchorOffset!==v.offset||h.focusNode!==p.node||h.focusOffset!==p.offset)){var y=m.createRange();y.setStart(v.node,v.offset),h.removeAllRanges(),w>S?(h.addRange(y),h.extend(p.node,p.offset)):(y.setEnd(p.node,p.offset),h.addRange(y))}}}}for(m=[],h=l;h=h.parentNode;)h.nodeType===1&&m.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<m.length;l++){var x=m[l];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}Kc=!!jh,Ah=jh=null}finally{We=i,Ge.p=r,je.T=n}}e.current=t,$t=2}}function Tb(){if($t===2){$t=0;var e=yi,t=ls,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=je.T,je.T=null;var r=Ge.p;Ge.p=2;var i=We;We|=4;try{eb(e,t.alternate,t)}finally{We=i,Ge.p=r,je.T=n}}$t=3}}function _b(){if($t===4||$t===3){$t=0,mE();var e=yi,t=ls,n=qr,r=hb;t.subtreeFlags&10256||t.flags&10256?$t=5:($t=0,ls=yi=null,Ob(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(vi=null),zd(n),t=t.stateNode,Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(tl,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=je.T,i=Ge.p,Ge.p=2,je.T=null;try{for(var a=e.onRecoverableError,s=0;s<r.length;s++){var l=r[s];a(l.value,{componentStack:l.stack})}}finally{je.T=t,Ge.p=i}}qr&3&&Pc(),vr(e),i=e.pendingLanes,n&261930&&i&42?e===vh?zl++:(zl=0,vh=e):zl=0,Ll(0)}}function Ob(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,vl(t)))}function Pc(){return Db(),Tb(),_b(),Cb()}function Cb(){if($t!==5)return!1;var e=yi,t=ph;ph=0;var n=zd(qr),r=je.T,i=Ge.p;try{Ge.p=32>n?32:n,je.T=null,n=gh,gh=null;var a=yi,s=qr;if($t=0,ls=yi=null,qr=0,We&6)throw Error(ne(331));var l=We;if(We|=4,ub(a.current),lb(a,a.current,s,n),We=l,Ll(0,!1),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(tl,a)}catch{}return!0}finally{Ge.p=i,je.T=r,Ob(e,t)}}function jb(e,t,n){t=qn(n,t),t=Gf(e.stateNode,t,2),e=di(e,t,2),e!==null&&(rl(e,2),vr(e))}function Je(e,t,n){if(e.tag===3)jb(e,e,n);else for(;t!==null;){if(t.tag===3){jb(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vi===null||!vi.has(r))){e=qn(n,e),n=Ay(2),r=di(t,n,2),r!==null&&(My(n,r,t,e),rl(r,2),vr(r));break}}t=t.return}}function wh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new PD;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(fh=!0,i.add(n),e=HD.bind(null,e,t,n),t.then(e,e))}function HD(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,it===e&&(Ve&n)===n&&(bt===4||bt===3&&(Ve&62914560)===Ve&&300>En()-Ic?!(We&2)&&os(e,0):hh|=n,ss===Ve&&(ss=0)),vr(e)}function Ab(e,t){t===0&&(t=Dg()),e=Zi(e,t),e!==null&&(rl(e,t),vr(e))}function YD(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ab(e,n)}function ZD(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(ne(314))}r!==null&&r.delete(t),Ab(e,n)}function QD(e,t){return Md(e,t)}var Fc=null,us=null,Sh=!1,Bc=!1,xh=!1,wi=0;function vr(e){e!==us&&e.next===null&&(us===null?Fc=us=e:us=us.next=e),Bc=!0,Sh||(Sh=!0,WD())}function Ll(e,t){if(!xh&&Bc){xh=!0;do for(var n=!1,r=Fc;r!==null;){if(e!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var s=r.suspendedLanes,l=r.pingedLanes;a=(1<<31-Tn(42|e)+1)-1,a&=i&~(s&~l),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,Rb(r,a))}else a=Ve,a=Yo(r,r===it?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||nl(r,a)||(n=!0,Rb(r,a));r=r.next}while(n);xh=!1}}function GD(){Mb()}function Mb(){Bc=Sh=!1;var e=0;wi!==0&&s1()&&(e=wi);for(var t=En(),n=null,r=Fc;r!==null;){var i=r.next,a=kb(r,t);a===0?(r.next=null,n===null?Fc=i:n.next=i,i===null&&(us=n)):(n=r,(e!==0||a&3)&&(Bc=!0)),r=i}$t!==0&&$t!==5||Ll(e),wi!==0&&(wi=0)}function kb(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var s=31-Tn(a),l=1<<s,o=i[s];o===-1?(!(l&n)||l&r)&&(i[s]=xE(l,t)):o<=t&&(e.expiredLanes|=l),a&=~l}if(t=it,n=Ve,n=Yo(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(Ke===2||Ke===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&kd(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||nl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&kd(r),zd(n)){case 2:case 8:n=Ng;break;case 32:n=Bo;break;case 268435456:n=Eg;break;default:n=Bo}return r=Ib.bind(null,e),n=Md(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&kd(r),e.callbackPriority=2,e.callbackNode=null,2}function Ib(e,t){if($t!==0&&$t!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Pc()&&e.callbackNode!==n)return null;var r=Ve;return r=Yo(e,e===it?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(pb(e,r,t),kb(e,En()),e.callbackNode!=null&&e.callbackNode===n?Ib.bind(null,e):null)}function Rb(e,t){if(Pc())return null;pb(e,t,!0)}function WD(){o1(function(){We&6?Md(xg,GD):Mb()})}function Nh(){if(wi===0){var e=Ga;e===0&&(e=Vo,Vo<<=1,!(Vo&261888)&&(Vo=256)),wi=e}return wi}function zb(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Wo(""+e)}function Lb(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function XD(e,t,n,r,i){if(t==="submit"&&n&&n.stateNode===i){var a=zb((i[dn]||null).action),s=r.submitter;s&&(t=(t=s[dn]||null)?zb(t.formAction):s.getAttribute("formAction"),t!==null&&(a=t,s=null));var l=new ec("action","action",null,r,i);e.push({event:l,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(wi!==0){var o=s?Lb(i,s):new FormData(i);Vf(n,{pending:!0,data:o,method:i.method,action:a},null,o)}}else typeof a=="function"&&(l.preventDefault(),o=s?Lb(i,s):new FormData(i),Vf(n,{pending:!0,data:o,method:i.method,action:a},a,o))},currentTarget:i}]})}}for(var Eh=0;Eh<sf.length;Eh++){var Dh=sf[Eh],KD=Dh.toLowerCase(),JD=Dh[0].toUpperCase()+Dh.slice(1);rr(KD,"on"+JD)}rr(mv,"onAnimationEnd"),rr(pv,"onAnimationIteration"),rr(gv,"onAnimationStart"),rr("dblclick","onDoubleClick"),rr("focusin","onFocus"),rr("focusout","onBlur"),rr(pD,"onTransitionRun"),rr(gD,"onTransitionStart"),rr(vD,"onTransitionCancel"),rr(vv,"onTransitionEnd"),Ra("onMouseEnter",["mouseout","mouseover"]),Ra("onMouseLeave",["mouseout","mouseover"]),Ra("onPointerEnter",["pointerout","pointerover"]),Ra("onPointerLeave",["pointerout","pointerover"]),Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ul));function Ub(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],o=l.instance,u=l.currentTarget;if(l=l.listener,o!==a&&i.isPropagationStopped())break e;a=l,i.currentTarget=u;try{a(i)}catch(d){rc(d)}i.currentTarget=null,a=o}else for(s=0;s<r.length;s++){if(l=r[s],o=l.instance,u=l.currentTarget,l=l.listener,o!==a&&i.isPropagationStopped())break e;a=l,i.currentTarget=u;try{a(i)}catch(d){rc(d)}i.currentTarget=null,a=o}}}}function Be(e,t){var n=t[Ld];n===void 0&&(n=t[Ld]=new Set);var r=e+"__bubble";n.has(r)||($b(t,e,2,!1),n.add(r))}function Th(e,t,n){var r=0;t&&(r|=4),$b(n,e,r,t)}var Vc="_reactListening"+Math.random().toString(36).slice(2);function _h(e){if(!e[Vc]){e[Vc]=!0,Mg.forEach(function(n){n!=="selectionchange"&&(e1.has(n)||Th(n,!1,e),Th(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vc]||(t[Vc]=!0,Th("selectionchange",!1,t))}}function $b(e,t,n,r){switch(m0(t)){case 2:var i=O1;break;case 8:i=C1;break;default:i=Bh}n=i.bind(null,t,n,e),i=void 0,!Yd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Oh(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i)break;if(s===4)for(s=r.return;s!==null;){var o=s.tag;if((o===3||o===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;l!==null;){if(s=Ma(l),s===null)return;if(o=s.tag,o===5||o===6||o===26||o===27){r=a=s;continue e}l=l.parentNode}}r=r.return}qg(function(){var u=a,d=qd(n),m=[];e:{var f=yv.get(e);if(f!==void 0){var h=ec,g=e;switch(e){case"keypress":if(Ko(n)===0)break e;case"keydown":case"keyup":h=ZE;break;case"focusin":g="focus",h=Wd;break;case"focusout":g="blur",h=Wd;break;case"beforeblur":case"afterblur":h=Wd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Zg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=RE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=WE;break;case mv:case pv:case gv:h=UE;break;case vv:h=KE;break;case"scroll":case"scrollend":h=kE;break;case"wheel":h=eD;break;case"copy":case"cut":case"paste":h=PE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Gg;break;case"toggle":case"beforetoggle":h=nD}var w=(t&4)!==0,S=!w&&(e==="scroll"||e==="scrollend"),v=w?f!==null?f+"Capture":null:f;w=[];for(var p=u,y;p!==null;){var x=p;if(y=x.stateNode,x=x.tag,x!==5&&x!==26&&x!==27||y===null||v===null||(x=sl(p,v),x!=null&&w.push($l(p,x,y))),S)break;p=p.return}0<w.length&&(f=new h(f,g,null,n,d),m.push({event:f,listeners:w}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&n!==Vd&&(g=n.relatedTarget||n.fromElement)&&(Ma(g)||g[Aa]))break e;if((h||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,h?(g=n.relatedTarget||n.toElement,h=u,g=g?Ma(g):null,g!==null&&(S=Ws(g),w=g.tag,g!==S||w!==5&&w!==27&&w!==6)&&(g=null)):(h=null,g=u),h!==g)){if(w=Zg,x="onMouseLeave",v="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(w=Gg,x="onPointerLeave",v="onPointerEnter",p="pointer"),S=h==null?f:al(h),y=g==null?f:al(g),f=new w(x,p+"leave",h,n,d),f.target=S,f.relatedTarget=y,x=null,Ma(d)===u&&(w=new w(v,p+"enter",g,n,d),w.target=y,w.relatedTarget=S,x=w),S=x,h&&g)t:{for(w=t1,v=h,p=g,y=0,x=v;x;x=w(x))y++;x=0;for(var C=p;C;C=w(C))x++;for(;0<y-x;)v=w(v),y--;for(;0<x-y;)p=w(p),x--;for(;y--;){if(v===p||p!==null&&v===p.alternate){w=v;break t}v=w(v),p=w(p)}w=null}else w=null;h!==null&&Pb(m,f,h,w,!1),g!==null&&S!==null&&Pb(m,S,g,w,!0)}}e:{if(f=u?al(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var V=rv;else if(tv(f))if(iv)V=fD;else{V=uD;var D=cD}else h=f.nodeName,!h||h.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?u&&Bd(u.elementType)&&(V=rv):V=dD;if(V&&(V=V(e,u))){nv(m,V,n,d);break e}D&&D(e,f,u),e==="focusout"&&u&&f.type==="number"&&u.memoizedProps.value!=null&&Fd(f,"number",f.value)}switch(D=u?al(u):window,e){case"focusin":(tv(D)||D.contentEditable==="true")&&(Fa=D,nf=u,ml=null);break;case"focusout":ml=nf=Fa=null;break;case"mousedown":rf=!0;break;case"contextmenu":case"mouseup":case"dragend":rf=!1,fv(m,n,d);break;case"selectionchange":if(mD)break;case"keydown":case"keyup":fv(m,n,d)}var k;if(Kd)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Pa?Jg(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(Wg&&n.locale!=="ko"&&(Pa||M!=="onCompositionStart"?M==="onCompositionEnd"&&Pa&&(k=Hg()):(ii=d,Zd="value"in ii?ii.value:ii.textContent,Pa=!0)),D=qc(u,M),0<D.length&&(M=new Qg(M,e,null,n,d),m.push({event:M,listeners:D}),k?M.data=k:(k=ev(n),k!==null&&(M.data=k)))),(k=iD?aD(e,n):sD(e,n))&&(M=qc(u,"onBeforeInput"),0<M.length&&(D=new Qg("onBeforeInput","beforeinput",null,n,d),m.push({event:D,listeners:M}),D.data=k)),XD(m,e,u,n,d)}Ub(m,t)})}function $l(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qc(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=sl(e,n),i!=null&&r.unshift($l(e,i,a)),i=sl(e,t),i!=null&&r.push($l(e,i,a))),e.tag===3)return r;e=e.return}return[]}function t1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Pb(e,t,n,r,i){for(var a=t._reactName,s=[];n!==null&&n!==r;){var l=n,o=l.alternate,u=l.stateNode;if(l=l.tag,o!==null&&o===r)break;l!==5&&l!==26&&l!==27||u===null||(o=u,i?(u=sl(n,a),u!=null&&s.unshift($l(n,u,o))):i||(u=sl(n,a),u!=null&&s.push($l(n,u,o)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var n1=/\r\n?/g,r1=/\u0000|\uFFFD/g;function Fb(e){return(typeof e=="string"?e:""+e).replace(n1,`
`).replace(r1,"")}function Bb(e,t){return t=Fb(t),Fb(e)===t}function rt(e,t,n,r,i,a){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||La(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&La(e,""+r);break;case"className":Qo(e,"class",r);break;case"tabIndex":Qo(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Qo(e,n,r);break;case"style":Bg(e,r,a);break;case"data":if(t!=="object"){Qo(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Wo(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(t!=="input"&&rt(e,t,"name",i.name,i,null),rt(e,t,"formEncType",i.formEncType,i,null),rt(e,t,"formMethod",i.formMethod,i,null),rt(e,t,"formTarget",i.formTarget,i,null)):(rt(e,t,"encType",i.encType,i,null),rt(e,t,"method",i.method,i,null),rt(e,t,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Wo(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=Cr);break;case"onScroll":r!=null&&Be("scroll",e);break;case"onScrollEnd":r!=null&&Be("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(ne(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(ne(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=Wo(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Be("beforetoggle",e),Be("toggle",e),Zo(e,"popover",r);break;case"xlinkActuate":Or(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Or(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Or(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Or(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Or(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Or(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Or(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Or(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Or(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Zo(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=AE.get(n)||n,Zo(e,n,r))}}function Ch(e,t,n,r,i,a){switch(n){case"style":Bg(e,r,a);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(ne(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(ne(60));e.innerHTML=n}}break;case"children":typeof r=="string"?La(e,r):(typeof r=="number"||typeof r=="bigint")&&La(e,""+r);break;case"onScroll":r!=null&&Be("scroll",e);break;case"onScrollEnd":r!=null&&Be("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Cr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kg.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),a=e[dn]||null,a=a!=null?a[n]:null,typeof a=="function"&&e.removeEventListener(t,a,i),typeof r=="function")){typeof a!="function"&&a!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):Zo(e,n,r)}}}function Jt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",e),Be("load",e);var r=!1,i=!1,a;for(a in n)if(n.hasOwnProperty(a)){var s=n[a];if(s!=null)switch(a){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(ne(137,t));default:rt(e,t,a,s,n,null)}}i&&rt(e,t,"srcSet",n.srcSet,n,null),r&&rt(e,t,"src",n.src,n,null);return;case"input":Be("invalid",e);var l=a=s=i=null,o=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case"name":i=d;break;case"type":s=d;break;case"checked":o=d;break;case"defaultChecked":u=d;break;case"value":a=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(ne(137,t));break;default:rt(e,t,r,d,n,null)}}Ug(e,a,l,o,u,s,i,!1);return;case"select":Be("invalid",e),r=s=a=null;for(i in n)if(n.hasOwnProperty(i)&&(l=n[i],l!=null))switch(i){case"value":a=l;break;case"defaultValue":s=l;break;case"multiple":r=l;default:rt(e,t,i,l,n,null)}t=a,n=s,e.multiple=!!r,t!=null?za(e,!!r,t,!1):n!=null&&za(e,!!r,n,!0);return;case"textarea":Be("invalid",e),a=i=r=null;for(s in n)if(n.hasOwnProperty(s)&&(l=n[s],l!=null))switch(s){case"value":r=l;break;case"defaultValue":i=l;break;case"children":a=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(ne(91));break;default:rt(e,t,s,l,n,null)}Pg(e,r,i,a);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(r=n[o],r!=null))switch(o){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:rt(e,t,o,r,n,null)}return;case"dialog":Be("beforetoggle",e),Be("toggle",e),Be("cancel",e),Be("close",e);break;case"iframe":case"object":Be("load",e);break;case"video":case"audio":for(r=0;r<Ul.length;r++)Be(Ul[r],e);break;case"image":Be("error",e),Be("load",e);break;case"details":Be("toggle",e);break;case"embed":case"source":case"link":Be("error",e),Be("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(ne(137,t));default:rt(e,t,u,r,n,null)}return;default:if(Bd(t)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&Ch(e,t,d,r,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(r=n[l],r!=null&&rt(e,t,l,r,n,null))}function i1(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,l=null,o=null,u=null,d=null;for(h in n){var m=n[h];if(n.hasOwnProperty(h)&&m!=null)switch(h){case"checked":break;case"value":break;case"defaultValue":o=m;default:r.hasOwnProperty(h)||rt(e,t,h,null,r,m)}}for(var f in r){var h=r[f];if(m=n[f],r.hasOwnProperty(f)&&(h!=null||m!=null))switch(f){case"type":a=h;break;case"name":i=h;break;case"checked":u=h;break;case"defaultChecked":d=h;break;case"value":s=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(ne(137,t));break;default:h!==m&&rt(e,t,f,h,r,m)}}Pd(e,s,l,o,u,d,a,i);return;case"select":h=s=l=f=null;for(a in n)if(o=n[a],n.hasOwnProperty(a)&&o!=null)switch(a){case"value":break;case"multiple":h=o;default:r.hasOwnProperty(a)||rt(e,t,a,null,r,o)}for(i in r)if(a=r[i],o=n[i],r.hasOwnProperty(i)&&(a!=null||o!=null))switch(i){case"value":f=a;break;case"defaultValue":l=a;break;case"multiple":s=a;default:a!==o&&rt(e,t,i,a,r,o)}t=l,n=s,r=h,f!=null?za(e,!!n,f,!1):!!r!=!!n&&(t!=null?za(e,!!n,t,!0):za(e,!!n,n?[]:"",!1));return;case"textarea":h=f=null;for(l in n)if(i=n[l],n.hasOwnProperty(l)&&i!=null&&!r.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:rt(e,t,l,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(i!=null||a!=null))switch(s){case"value":f=i;break;case"defaultValue":h=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(ne(91));break;default:i!==a&&rt(e,t,s,i,r,a)}$g(e,f,h);return;case"option":for(var g in n)if(f=n[g],n.hasOwnProperty(g)&&f!=null&&!r.hasOwnProperty(g))switch(g){case"selected":e.selected=!1;break;default:rt(e,t,g,null,r,f)}for(o in r)if(f=r[o],h=n[o],r.hasOwnProperty(o)&&f!==h&&(f!=null||h!=null))switch(o){case"selected":e.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:rt(e,t,o,f,r,h)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var w in n)f=n[w],n.hasOwnProperty(w)&&f!=null&&!r.hasOwnProperty(w)&&rt(e,t,w,null,r,f);for(u in r)if(f=r[u],h=n[u],r.hasOwnProperty(u)&&f!==h&&(f!=null||h!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(ne(137,t));break;default:rt(e,t,u,f,r,h)}return;default:if(Bd(t)){for(var S in n)f=n[S],n.hasOwnProperty(S)&&f!==void 0&&!r.hasOwnProperty(S)&&Ch(e,t,S,void 0,r,f);for(d in r)f=r[d],h=n[d],!r.hasOwnProperty(d)||f===h||f===void 0&&h===void 0||Ch(e,t,d,f,r,h);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&f!=null&&!r.hasOwnProperty(v)&&rt(e,t,v,null,r,f);for(m in r)f=r[m],h=n[m],!r.hasOwnProperty(m)||f===h||f==null&&h==null||rt(e,t,m,f,r,h)}function Vb(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function a1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,s=i.initiatorType,l=i.duration;if(a&&l&&Vb(s)){for(s=0,l=i.responseEnd,r+=1;r<n.length;r++){var o=n[r],u=o.startTime;if(u>l)break;var d=o.transferSize,m=o.initiatorType;d&&Vb(m)&&(o=o.responseEnd,s+=d*(o<l?1:(l-u)/(o-u)))}if(--r,t+=8*(a+s)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var jh=null,Ah=null;function Hc(e){return e.nodeType===9?e:e.ownerDocument}function qb(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hb(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Mh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var kh=null;function s1(){var e=window.event;return e&&e.type==="popstate"?e===kh?!1:(kh=e,!0):(kh=null,!1)}var Yb=typeof setTimeout=="function"?setTimeout:void 0,l1=typeof clearTimeout=="function"?clearTimeout:void 0,Zb=typeof Promise=="function"?Promise:void 0,o1=typeof queueMicrotask=="function"?queueMicrotask:typeof Zb<"u"?function(e){return Zb.resolve(null).then(e).catch(c1)}:Yb;function c1(e){setTimeout(function(){throw e})}function Si(e){return e==="head"}function Qb(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(r===0){e.removeChild(i),ms(t);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")Pl(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Pl(n);for(var a=n.firstChild;a;){var s=a.nextSibling,l=a.nodeName;a[il]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=s}}else n==="body"&&Pl(e.ownerDocument.body);n=i}while(n);ms(t)}function Gb(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=r}while(n)}function Ih(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ih(n),Ud(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function u1(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[il])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(a=e.getAttribute("rel"),a==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(a=e.getAttribute("src"),(a!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===a)return e}else return e;if(e=Gn(e.nextSibling),e===null)break}return null}function d1(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Gn(e.nextSibling),e===null))return null;return e}function Wb(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Gn(e.nextSibling),e===null))return null;return e}function Rh(e){return e.data==="$?"||e.data==="$~"}function zh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function f1(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Gn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Lh=null;function Xb(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Gn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Kb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Jb(e,t,n){switch(t=Hc(n),e){case"html":if(e=t.documentElement,!e)throw Error(ne(452));return e;case"head":if(e=t.head,!e)throw Error(ne(453));return e;case"body":if(e=t.body,!e)throw Error(ne(454));return e;default:throw Error(ne(451))}}function Pl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ud(e)}var Wn=new Map,e0=new Set;function Yc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Hr=Ge.d;Ge.d={f:h1,r:m1,D:p1,C:g1,L:v1,m:y1,X:w1,S:b1,M:S1};function h1(){var e=Hr.f(),t=Lc();return e||t}function m1(e){var t=ka(e);t!==null&&t.tag===5&&t.type==="form"?vy(t):Hr.r(e)}var ds=typeof document>"u"?null:document;function t0(e,t,n){var r=ds;if(r&&typeof t=="string"&&t){var i=Bn(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),e0.has(i)||(e0.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement("link"),Jt(t,"link",e),Ht(t),r.head.appendChild(t)))}}function p1(e){Hr.D(e),t0("dns-prefetch",e,null)}function g1(e,t){Hr.C(e,t),t0("preconnect",e,t)}function v1(e,t,n){Hr.L(e,t,n);var r=ds;if(r&&e&&t){var i='link[rel="preload"][as="'+Bn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Bn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Bn(n.imageSizes)+'"]')):i+='[href="'+Bn(e)+'"]';var a=i;switch(t){case"style":a=fs(e);break;case"script":a=hs(e)}Wn.has(a)||(e=dt({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Wn.set(a,e),r.querySelector(i)!==null||t==="style"&&r.querySelector(Fl(a))||t==="script"&&r.querySelector(Bl(a))||(t=r.createElement("link"),Jt(t,"link",e),Ht(t),r.head.appendChild(t)))}}function y1(e,t){Hr.m(e,t);var n=ds;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+Bn(r)+'"][href="'+Bn(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=hs(e)}if(!Wn.has(a)&&(e=dt({rel:"modulepreload",href:e},t),Wn.set(a,e),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Bl(a)))return}r=n.createElement("link"),Jt(r,"link",e),Ht(r),n.head.appendChild(r)}}}function b1(e,t,n){Hr.S(e,t,n);var r=ds;if(r&&e){var i=Ia(r).hoistableStyles,a=fs(e);t=t||"default";var s=i.get(a);if(!s){var l={loading:0,preload:null};if(s=r.querySelector(Fl(a)))l.loading=5;else{e=dt({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Wn.get(a))&&Uh(e,n);var o=s=r.createElement("link");Ht(o),Jt(o,"link",e),o._p=new Promise(function(u,d){o.onload=u,o.onerror=d}),o.addEventListener("load",function(){l.loading|=1}),o.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Zc(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:l},i.set(a,s)}}}function w1(e,t){Hr.X(e,t);var n=ds;if(n&&e){var r=Ia(n).hoistableScripts,i=hs(e),a=r.get(i);a||(a=n.querySelector(Bl(i)),a||(e=dt({src:e,async:!0},t),(t=Wn.get(i))&&$h(e,t),a=n.createElement("script"),Ht(a),Jt(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function S1(e,t){Hr.M(e,t);var n=ds;if(n&&e){var r=Ia(n).hoistableScripts,i=hs(e),a=r.get(i);a||(a=n.querySelector(Bl(i)),a||(e=dt({src:e,async:!0,type:"module"},t),(t=Wn.get(i))&&$h(e,t),a=n.createElement("script"),Ht(a),Jt(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function n0(e,t,n,r){var i=(i=ti.current)?Yc(i):null;if(!i)throw Error(ne(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=fs(n.href),n=Ia(i).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=fs(n.href);var a=Ia(i).hoistableStyles,s=a.get(e);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(e,s),(a=i.querySelector(Fl(e)))&&!a._p&&(s.instance=a,s.state.loading=5),Wn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Wn.set(e,n),a||x1(i,e,n,s.state))),t&&r===null)throw Error(ne(528,""));return s}if(t&&r!==null)throw Error(ne(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=hs(n),n=Ia(i).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(ne(444,e))}}function fs(e){return'href="'+Bn(e)+'"'}function Fl(e){return'link[rel="stylesheet"]['+e+"]"}function r0(e){return dt({},e,{"data-precedence":e.precedence,precedence:null})}function x1(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),Jt(t,"link",n),Ht(t),e.head.appendChild(t))}function hs(e){return'[src="'+Bn(e)+'"]'}function Bl(e){return"script[async]"+e}function i0(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Bn(n.href)+'"]');if(r)return t.instance=r,Ht(r),r;var i=dt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),Ht(r),Jt(r,"style",i),Zc(r,n.precedence,e),t.instance=r;case"stylesheet":i=fs(n.href);var a=e.querySelector(Fl(i));if(a)return t.state.loading|=4,t.instance=a,Ht(a),a;r=r0(n),(i=Wn.get(i))&&Uh(r,i),a=(e.ownerDocument||e).createElement("link"),Ht(a);var s=a;return s._p=new Promise(function(l,o){s.onload=l,s.onerror=o}),Jt(a,"link",r),t.state.loading|=4,Zc(a,n.precedence,e),t.instance=a;case"script":return a=hs(n.src),(i=e.querySelector(Bl(a)))?(t.instance=i,Ht(i),i):(r=n,(i=Wn.get(a))&&(r=dt({},n),$h(r,i)),e=e.ownerDocument||e,i=e.createElement("script"),Ht(i),Jt(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(ne(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,Zc(r,n.precedence,e));return t.instance}function Zc(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var l=r[s];if(l.dataset.precedence===t)a=l;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Uh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function $h(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Qc=null;function a0(e,t,n){if(Qc===null){var r=new Map,i=Qc=new Map;i.set(n,r)}else i=Qc,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[il]||a[Gt]||e==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(t)||"";s=e+s;var l=r.get(s);l?l.push(a):r.set(s,[a])}}return r}function s0(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function N1(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function l0(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function E1(e,t,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=fs(r.href),a=t.querySelector(Fl(i));if(a){t=a._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Gc.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,Ht(a);return}a=t.ownerDocument||t,r=r0(r),(i=Wn.get(i))&&Uh(r,i),a=a.createElement("link"),Ht(a);var s=a;s._p=new Promise(function(l,o){s.onload=l,s.onerror=o}),Jt(a,"link",r),n.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Gc.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Ph=0;function D1(e,t){return e.stylesheets&&e.count===0&&Xc(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&Xc(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4+t);0<e.imgBytes&&Ph===0&&(Ph=62500*a1());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Xc(e,e.stylesheets),e.unsuspend)){var a=e.unsuspend;e.unsuspend=null,a()}},(e.imgBytes>Ph?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function Gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Wc=null;function Xc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Wc=new Map,t.forEach(T1,e),Wc=null,Gc.call(e))}function T1(e,t){if(!(t.state.loading&4)){var n=Wc.get(e);if(n)var r=n.get(null);else{n=new Map,Wc.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}i=t.instance,s=i.getAttribute("data-precedence"),a=n.get(s)||r,a===r&&n.set(null,i),n.set(s,i),this.count++,r=Gc.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Vl={$$typeof:_r,Provider:null,Consumer:null,_currentValue:Pi,_currentValue2:Pi,_threadCount:0};function _1(e,t,n,r,i,a,s,l,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Id(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Id(0),this.hiddenUpdates=Id(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function o0(e,t,n,r,i,a,s,l,o,u,d,m){return e=new _1(e,t,n,s,o,u,d,m,l),t=1,a===!0&&(t|=24),a=On(3,null,null,t),e.current=a,a.stateNode=e,t=bf(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},Nf(a),e}function c0(e){return e?(e=qa,e):qa}function u0(e,t,n,r,i,a){i=c0(i),r.context===null?r.context=i:r.pendingContext=i,r=ui(t),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=di(e,r,t),n!==null&&(vn(n,e,t),Sl(n,e,t))}function d0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Fh(e,t){d0(e,t),(e=e.alternate)&&d0(e,t)}function f0(e){if(e.tag===13||e.tag===31){var t=Zi(e,67108864);t!==null&&vn(t,e,67108864),Fh(e,67108864)}}function h0(e){if(e.tag===13||e.tag===31){var t=kn();t=Rd(t);var n=Zi(e,t);n!==null&&vn(n,e,t),Fh(e,t)}}var Kc=!0;function O1(e,t,n,r){var i=je.T;je.T=null;var a=Ge.p;try{Ge.p=2,Bh(e,t,n,r)}finally{Ge.p=a,je.T=i}}function C1(e,t,n,r){var i=je.T;je.T=null;var a=Ge.p;try{Ge.p=8,Bh(e,t,n,r)}finally{Ge.p=a,je.T=i}}function Bh(e,t,n,r){if(Kc){var i=Vh(r);if(i===null)Oh(e,t,r,Jc,n),p0(e,r);else if(A1(i,e,t,n,r))r.stopPropagation();else if(p0(e,r),t&4&&-1<j1.indexOf(e)){for(;i!==null;){var a=ka(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=Bi(a.pendingLanes);if(s!==0){var l=a;for(l.pendingLanes|=2,l.entangledLanes|=2;s;){var o=1<<31-Tn(s);l.entanglements[1]|=o,s&=~o}vr(a),!(We&6)&&(Rc=En()+500,Ll(0))}}break;case 31:case 13:l=Zi(a,2),l!==null&&vn(l,a,2),Lc(),Fh(a,2)}if(a=Vh(r),a===null&&Oh(e,t,r,Jc,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Oh(e,t,r,null,n)}}function Vh(e){return e=qd(e),qh(e)}var Jc=null;function qh(e){if(Jc=null,e=Ma(e),e!==null){var t=Ws(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=hg(t),e!==null)return e;e=null}else if(n===31){if(e=mg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Jc=e,null}function m0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pE()){case xg:return 2;case Ng:return 8;case Bo:case gE:return 32;case Eg:return 268435456;default:return 32}default:return 32}}var Hh=!1,xi=null,Ni=null,Ei=null,ql=new Map,Hl=new Map,Di=[],j1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function p0(e,t){switch(e){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":Ni=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":ql.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(t.pointerId)}}function Yl(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=ka(t),t!==null&&f0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function A1(e,t,n,r,i){switch(t){case"focusin":return xi=Yl(xi,e,t,n,r,i),!0;case"dragenter":return Ni=Yl(Ni,e,t,n,r,i),!0;case"mouseover":return Ei=Yl(Ei,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return ql.set(a,Yl(ql.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Hl.set(a,Yl(Hl.get(a)||null,e,t,n,r,i)),!0}return!1}function g0(e){var t=Ma(e.target);if(t!==null){var n=Ws(t);if(n!==null){if(t=n.tag,t===13){if(t=hg(n),t!==null){e.blockedOn=t,jg(e.priority,function(){h0(n)});return}}else if(t===31){if(t=mg(n),t!==null){e.blockedOn=t,jg(e.priority,function(){h0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function eu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Vh(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Vd=r,n.target.dispatchEvent(r),Vd=null}else return t=ka(n),t!==null&&f0(t),e.blockedOn=n,!1;t.shift()}return!0}function v0(e,t,n){eu(e)&&n.delete(t)}function M1(){Hh=!1,xi!==null&&eu(xi)&&(xi=null),Ni!==null&&eu(Ni)&&(Ni=null),Ei!==null&&eu(Ei)&&(Ei=null),ql.forEach(v0),Hl.forEach(v0)}function tu(e,t){e.blockedOn===t&&(e.blockedOn=null,Hh||(Hh=!0,Ut.unstable_scheduleCallback(Ut.unstable_NormalPriority,M1)))}var nu=null;function y0(e){nu!==e&&(nu=e,Ut.unstable_scheduleCallback(Ut.unstable_NormalPriority,function(){nu===e&&(nu=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!="function"){if(qh(r||n)===null)continue;break}var a=ka(n);a!==null&&(e.splice(t,3),t-=3,Vf(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function ms(e){function t(o){return tu(o,e)}xi!==null&&tu(xi,e),Ni!==null&&tu(Ni,e),Ei!==null&&tu(Ei,e),ql.forEach(t),Hl.forEach(t);for(var n=0;n<Di.length;n++){var r=Di[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Di.length&&(n=Di[0],n.blockedOn===null);)g0(n),n.blockedOn===null&&Di.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[dn]||null;if(typeof a=="function")s||y0(n);else if(s){var l=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[dn]||null)l=s.formAction;else if(qh(i)!==null)continue}else l=s.action;typeof l=="function"?n[r+1]=l:(n.splice(r,3),r-=3),y0(n)}}}function b0(){function e(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(s){return i=s})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function Yh(e){this._internalRoot=e}ru.prototype.render=Yh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ne(409));var n=t.current,r=kn();u0(n,r,e,t,null,null)},ru.prototype.unmount=Yh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;u0(e.current,2,null,e,null,null),Lc(),t[Aa]=null}};function ru(e){this._internalRoot=e}ru.prototype.unstable_scheduleHydration=function(e){if(e){var t=Cg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Di.length&&t!==0&&t<Di[n].priority;n++);Di.splice(n,0,e),n===0&&g0(e)}};var w0=dg.version;if(w0!=="19.2.0")throw Error(ne(527,w0,"19.2.0"));Ge.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ne(188)):(e=Object.keys(e).join(","),Error(ne(268,e)));return e=oE(t),e=e!==null?gg(e):null,e=e===null?null:e.stateNode,e};var k1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:je,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{tl=iu.inject(k1),Dn=iu}catch{}}zo.createRoot=function(e,t){if(!fg(e))throw Error(ne(299));var n=!1,r="",i=_y,a=Oy,s=Cy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=o0(e,1,!1,null,null,n,r,null,i,a,s,b0),e[Aa]=t.current,_h(e),new Yh(t)},zo.hydrateRoot=function(e,t,n){if(!fg(e))throw Error(ne(299));var r=!1,i="",a=_y,s=Oy,l=Cy,o=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(o=n.formState)),t=o0(e,1,!0,t,n??null,r,i,o,a,s,l,b0),t.context=c0(null),n=t.current,r=kn(),r=Rd(r),i=ui(r),i.callback=null,di(n,i,r),n=r,t.current.lanes=n,rl(t,n),vr(t),e[Aa]=t.current,_h(e),new ru(t)},zo.version="19.2.0";function S0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(S0)}catch(e){console.error(e)}}S0(),ag.exports=zo;var I1=ag.exports;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function au(){return au=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},au.apply(this,arguments)}var Ti;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ti||(Ti={}));function R1(e){e===void 0&&(e={});let{initialEntries:t=["/"],initialIndex:n,v5Compat:r=!1}=e,i;i=t.map((h,g)=>d(h,typeof h=="string"?null:h.state,g===0?"default":void 0));let a=o(n??i.length-1),s=Ti.Pop,l=null;function o(h){return Math.min(Math.max(h,0),i.length-1)}function u(){return i[a]}function d(h,g,w){g===void 0&&(g=null);let S=L1(i?u().pathname:"/",h,g,w);return Zh(S.pathname.charAt(0)==="/","relative pathnames are not supported in memory history: "+JSON.stringify(h)),S}function m(h){return typeof h=="string"?h:U1(h)}return{get index(){return a},get action(){return s},get location(){return u()},createHref:m,createURL(h){return new URL(m(h),"http://localhost")},encodeLocation(h){let g=typeof h=="string"?sa(h):h;return{pathname:g.pathname||"",search:g.search||"",hash:g.hash||""}},push(h,g){s=Ti.Push;let w=d(h,g);a+=1,i.splice(a,i.length,w),r&&l&&l({action:s,location:w,delta:1})},replace(h,g){s=Ti.Replace;let w=d(h,g);i[a]=w,r&&l&&l({action:s,location:w,delta:0})},go(h){s=Ti.Pop;let g=o(a+h),w=i[g];a=g,l&&l({action:s,location:w,delta:h})},listen(h){return l=h,()=>{l=null}}}}function Pt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Zh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function z1(){return Math.random().toString(36).substr(2,8)}function L1(e,t,n,r){return n===void 0&&(n=null),au({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?sa(t):t,{state:n,key:t&&t.key||r||z1()})}function U1(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function sa(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var x0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(x0||(x0={}));function $1(e,t,n){return n===void 0&&(n="/"),P1(e,t,n)}function P1(e,t,n,r){let i=typeof t=="string"?sa(t):t,a=T0(i.pathname||"/",n);if(a==null)return null;let s=N0(e);F1(s);let l=null;for(let o=0;l==null&&o<s.length;++o){let u=J1(a);l=W1(s[o],u)}return l}function N0(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,s,l)=>{let o={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};o.relativePath.startsWith("/")&&(Pt(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(r.length));let u=la([r,o.relativePath]),d=n.concat(o);a.children&&a.children.length>0&&(Pt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),N0(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Q1(u,a.index),routesMeta:d})};return e.forEach((a,s)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,s);else for(let o of E0(a.path))i(a,s,o)}),t}function E0(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=E0(r.join("/")),l=[];return l.push(...s.map(o=>o===""?a:[a,o].join("/"))),i&&l.push(...s),l.map(o=>e.startsWith("/")&&o===""?"/":o)}function F1(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:G1(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const B1=/^:[\w-]+$/,V1=3,q1=2,H1=1,Y1=10,Z1=-2,D0=e=>e==="*";function Q1(e,t){let n=e.split("/"),r=n.length;return n.some(D0)&&(r+=Z1),t&&(r+=q1),n.filter(i=>!D0(i)).reduce((i,a)=>i+(B1.test(a)?V1:a===""?H1:Y1),r)}function G1(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function W1(e,t,n){let{routesMeta:r}=e,i={},a="/",s=[];for(let l=0;l<r.length;++l){let o=r[l],u=l===r.length-1,d=a==="/"?t:t.slice(a.length)||"/",m=X1({path:o.relativePath,caseSensitive:o.caseSensitive,end:u},d),f=o.route;if(!m)return null;Object.assign(i,m.params),s.push({params:i,pathname:la([a,m.pathname]),pathnameBase:rT(la([a,m.pathnameBase])),route:f}),m.pathnameBase!=="/"&&(a=la([a,m.pathnameBase]))}return s}function X1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=K1(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,d,m)=>{let{paramName:f,isOptional:h}=d;if(f==="*"){let w=l[m]||"";s=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const g=l[m];return h&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:e}}function K1(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Zh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,o)=>(r.push({paramName:l,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function J1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Zh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function T0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function eT(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?sa(e):e;return{pathname:n?n.startsWith("/")?n:tT(n,t):t,search:iT(r),hash:aT(i)}}function tT(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Qh(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nT(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function _0(e,t){let n=nT(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function O0(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=sa(e):(i=au({},e),Pt(!i.pathname||!i.pathname.includes("?"),Qh("?","pathname","search",i)),Pt(!i.pathname||!i.pathname.includes("#"),Qh("#","pathname","hash",i)),Pt(!i.search||!i.search.includes("#"),Qh("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,l;if(s==null)l=n;else{let m=t.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),m-=1;i.pathname=f.join("/")}l=m>=0?t[m]:"/"}let o=eT(i,l),u=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&n.endsWith("/");return!o.pathname.endsWith("/")&&(u||d)&&(o.pathname+="/"),o}const la=e=>e.join("/").replace(/\/\/+/g,"/"),rT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),iT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,aT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function sT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const C0=["post","put","patch","delete"];new Set(C0);const lT=["get",...C0];new Set(lT);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zl.apply(this,arguments)}const Gh=E.createContext(null),oT=E.createContext(null),Ql=E.createContext(null),su=E.createContext(null),oa=E.createContext({outlet:null,matches:[],isDataRoute:!1}),j0=E.createContext(null);function Gl(){return E.useContext(su)!=null}function ps(){return Gl()||Pt(!1),E.useContext(su).location}function A0(e){E.useContext(Ql).static||E.useLayoutEffect(e)}function Yr(){let{isDataRoute:e}=E.useContext(oa);return e?ST():cT()}function cT(){Gl()||Pt(!1);let e=E.useContext(Gh),{basename:t,future:n,navigator:r}=E.useContext(Ql),{matches:i}=E.useContext(oa),{pathname:a}=ps(),s=JSON.stringify(_0(i,n.v7_relativeSplatPath)),l=E.useRef(!1);return A0(()=>{l.current=!0}),E.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let m=O0(u,JSON.parse(s),a,d.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:la([t,m.pathname])),(d.replace?r.replace:r.push)(m,d.state,d)},[t,r,s,a,e])}function uT(e,t){return dT(e,t)}function dT(e,t,n,r){Gl()||Pt(!1);let{navigator:i}=E.useContext(Ql),{matches:a}=E.useContext(oa),s=a[a.length-1],l=s?s.params:{};s&&s.pathname;let o=s?s.pathnameBase:"/";s&&s.route;let u=ps(),d;if(t){var m;let S=typeof t=="string"?sa(t):t;o==="/"||(m=S.pathname)!=null&&m.startsWith(o)||Pt(!1),d=S}else d=u;let f=d.pathname||"/",h=f;if(o!=="/"){let S=o.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(S.length).join("/")}let g=$1(e,{pathname:h}),w=gT(g&&g.map(S=>Object.assign({},S,{params:Object.assign({},l,S.params),pathname:la([o,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?o:la([o,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),a,n,r);return t&&w?E.createElement(su.Provider,{value:{location:Zl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ti.Pop}},w):w}function fT(){let e=wT(),t=sT(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:i},n):null,null)}const hT=E.createElement(fT,null);class mT extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?E.createElement(oa.Provider,{value:this.props.routeContext},E.createElement(j0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pT(e){let{routeContext:t,match:n,children:r}=e,i=E.useContext(Gh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(oa.Provider,{value:t},r)}function gT(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=s.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);d>=0||Pt(!1),s=s.slice(0,Math.min(s.length,d+1))}let o=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<s.length;d++){let m=s[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=d),m.route.id){let{loaderData:f,errors:h}=n,g=m.route.loader&&f[m.route.id]===void 0&&(!h||h[m.route.id]===void 0);if(m.route.lazy||g){o=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,m,f)=>{let h,g=!1,w=null,S=null;n&&(h=l&&m.route.id?l[m.route.id]:void 0,w=m.route.errorElement||hT,o&&(u<0&&f===0?(xT("route-fallback"),g=!0,S=null):u===f&&(g=!0,S=m.route.hydrateFallbackElement||null)));let v=t.concat(s.slice(0,f+1)),p=()=>{let y;return h?y=w:g?y=S:m.route.Component?y=E.createElement(m.route.Component,null):m.route.element?y=m.route.element:y=d,E.createElement(pT,{match:m,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:y})};return n&&(m.route.ErrorBoundary||m.route.errorElement||f===0)?E.createElement(mT,{location:n.location,revalidation:n.revalidation,component:w,error:h,children:p(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):p()},null)}var M0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(M0||{}),k0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(k0||{});function vT(e){let t=E.useContext(Gh);return t||Pt(!1),t}function yT(e){let t=E.useContext(oT);return t||Pt(!1),t}function bT(e){let t=E.useContext(oa);return t||Pt(!1),t}function I0(e){let t=bT(),n=t.matches[t.matches.length-1];return n.route.id||Pt(!1),n.route.id}function wT(){var e;let t=E.useContext(j0),n=yT(),r=I0();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function ST(){let{router:e}=vT(M0.UseNavigateStable),t=I0(k0.UseNavigateStable),n=E.useRef(!1);return A0(()=>{n.current=!0}),E.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Zl({fromRouteId:t},a)))},[e,t])}const R0={};function xT(e,t,n){R0[e]||(R0[e]=!0)}function NT(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}const z0=nE["startTransition"];function ET(e){let{basename:t,children:n,initialEntries:r,initialIndex:i,future:a}=e,s=E.useRef();s.current==null&&(s.current=R1({initialEntries:r,initialIndex:i,v5Compat:!0}));let l=s.current,[o,u]=E.useState({action:l.action,location:l.location}),{v7_startTransition:d}=a||{},m=E.useCallback(f=>{d&&z0?z0(()=>u(f)):u(f)},[u,d]);return E.useLayoutEffect(()=>l.listen(m),[l,m]),E.useEffect(()=>NT(a),[a]),E.createElement(TT,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:l,future:a})}function DT(e){let{to:t,replace:n,state:r,relative:i}=e;Gl()||Pt(!1);let{future:a,static:s}=E.useContext(Ql),{matches:l}=E.useContext(oa),{pathname:o}=ps(),u=Yr(),d=O0(t,_0(l,a.v7_relativeSplatPath),o,i==="path"),m=JSON.stringify(d);return E.useEffect(()=>u(JSON.parse(m),{replace:n,state:r,relative:i}),[u,m,i,n,r]),null}function yr(e){Pt(!1)}function TT(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ti.Pop,navigator:a,static:s=!1,future:l}=e;Gl()&&Pt(!1);let o=t.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:o,navigator:a,static:s,future:Zl({v7_relativeSplatPath:!1},l)}),[o,l,a,s]);typeof r=="string"&&(r=sa(r));let{pathname:d="/",search:m="",hash:f="",state:h=null,key:g="default"}=r,w=E.useMemo(()=>{let S=T0(d,o);return S==null?null:{location:{pathname:S,search:m,hash:f,state:h,key:g},navigationType:i}},[o,d,m,f,h,g,i]);return w==null?null:E.createElement(Ql.Provider,{value:u},E.createElement(su.Provider,{children:n,value:w}))}function _T(e){let{children:t,location:n}=e;return uT(Wh(t),n)}new Promise(()=>{});function Wh(e,t){t===void 0&&(t=[]);let n=[];return E.Children.forEach(e,(r,i)=>{if(!E.isValidElement(r))return;let a=[...t,i];if(r.type===E.Fragment){n.push.apply(n,Wh(r.props.children,a));return}r.type!==yr&&Pt(!1),!r.props.index||!r.props.children||Pt(!1);let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Wh(r.props.children,a)),n.push(s)}),n}function OT(){return!0}function CT(){return!0}function Wl(e){return(...t)=>{if(e==="error"&&CT()){console.error(...t);return}if(OT())switch(e){case"log":console.log(...t);break;case"warn":console.warn(...t);break;case"debug":console.debug(...t);break;case"info":console.info(...t);break;default:console.log(...t)}}}const b={log:Wl("log"),warn:Wl("warn"),error:Wl("error"),debug:Wl("debug"),info:Wl("info")},jT=E.createContext(void 0);function L0(){if(typeof window>"u")return null;const t=new URLSearchParams(window.location.search).get("theme");return t&&["default","modern","minimal","corporate","light","gray","redwhite","alfastrah"].includes(t)?t:null}function AT({children:e,forcedTheme:t}){const n=ps(),r=()=>{const l=new URLSearchParams(n.search).get("theme");return l&&["default","modern","minimal","corporate","light","gray","redwhite","alfastrah"].includes(l)?l:null},[i,a]=E.useState(()=>{if(t)return b.debug(" ThemeProvider:  forcedTheme:",t),t;const s=r();if(s)return b.debug(" ThemeProvider:    :",s),s;const l=L0();if(l)return b.debug(" ThemeProvider:    window.location:",l),l;const o=localStorage.getItem("osago-widget-theme");return o&&["default","modern","minimal","corporate","light","gray","redwhite","alfastrah"].includes(o)?(b.debug(" ThemeProvider:    localStorage:",o),o):(b.debug(" ThemeProvider:    : default"),"default")});return E.useEffect(()=>{if(t&&t!==i){b.debug(" ThemeProvider:    forcedTheme:",t),a(t);return}const s=r();if(s&&s!==i){b.debug(" ThemeProvider:    :",s),a(s);return}},[t,n.search,i]),E.useEffect(()=>{const s=r(),l=L0();!s&&!l&&localStorage.setItem("osago-widget-theme",i),document.body.setAttribute("data-theme",i),document.querySelectorAll(".osago-scope").forEach(u=>{u instanceof HTMLElement&&u.setAttribute("data-theme",i)}),b.debug(" ThemeProvider:  :",i)},[i,n.search]),c.jsx(jT.Provider,{value:{theme:i,setTheme:a},children:e})}const U0=E.createContext(void 0);function MT({children:e}){const[t,n]=E.useState(null);E.useEffect(()=>{const l=window.WIDGET_AUTH_TOKEN;if(l)try{const u=atob(l),[d,m]=u.split(":");if(d&&m){const f={username:d,password:m};n(f),sessionStorage.setItem("auth_credentials",JSON.stringify(f)),b.info("   WIDGET_AUTH_TOKEN ");return}}catch(u){b.error("   WIDGET_AUTH_TOKEN:",u)}const o=sessionStorage.getItem("auth_credentials");if(o)try{const u=JSON.parse(o);n(u)}catch(u){b.error("    :",u),sessionStorage.removeItem("auth_credentials")}},[]);const s={isAuthenticated:!!t,credentials:t,login:(l,o)=>{const u={username:l,password:o};n(u),sessionStorage.setItem("auth_credentials",JSON.stringify(u))},logout:()=>{n(null),sessionStorage.removeItem("auth_credentials")},getAuthHeader:()=>t?`Basic ${btoa(`${t.username}:${t.password}`)}`:null};return c.jsx(U0.Provider,{value:s,children:e})}function Xh(){const e=E.useContext(U0);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}var $0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var a="",s=0;s<arguments.length;s++){var l=arguments[s];l&&(a=i(a,r(l)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var s="";for(var l in a)t.call(a,l)&&a[l]&&(s=i(s,l));return s}function i(a,s){return s?a?a+" "+s:a+s:a}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})($0);var kT=$0.exports;const In=Da(kT);function IT({children:e}){const t=ps(),[n,r]=E.useState(!1),[i,a]=E.useState(t);return E.useEffect(()=>{if(t!==i){const s=()=>{const o=document.querySelector("#osago-container")||document.querySelector(".main-homepage")||document.querySelector(".insurance-page-section-widget")||document.querySelector(".inner-container")||document.body;o&&"scrollIntoView"in o?o.scrollIntoView({behavior:"smooth",block:"start"}):window.scrollTo({top:0,left:0,behavior:"smooth"})};s(),r(!0);const l=setTimeout(()=>{a(t),r(!1),setTimeout(s,50)},150);return()=>clearTimeout(l)}},[t,i]),c.jsx("div",{className:In("widget-page-transition",{"page-transition--entering":n,"page-transition--exiting":!n&&t!==i}),children:e})}function RT(){return E.useEffect(()=>{if(!(window.self!==window.top))return;document.documentElement.style.overflow="hidden",document.body.style.overflow="hidden",document.body.style.overflowX="hidden",document.body.style.overflowY="hidden";let t=0,n=null;const r=()=>{const y=document.body,x=document.documentElement,C=[".calc-osago-content",".calc-osago-block",".calc-osago",".insurance-page-section-widget",".inner-container",".page-wrapper","main",'[role="main"]'];for(const M of C){const _=document.querySelector(M);if(_){const G=_.getBoundingClientRect(),X=window.getComputedStyle(_);if(X.display!=="none"&&X.visibility!=="hidden"&&G.height>0){const J=_.scrollHeight||G.height,P=G.top+window.scrollY,Y=Math.ceil(P+J);if(Y>0&&Y<5e3)return Y}}}const V=document.querySelectorAll("*");let D=0;return V.forEach(M=>{const _=M.getBoundingClientRect(),G=window.getComputedStyle(M);if(G.position==="absolute"||G.position==="fixed"||G.display==="none"||G.visibility==="hidden"||_.height===0)return;const X=_.bottom;X>D&&(D=X)}),D>0?Math.ceil(D):Math.max(y.scrollHeight,y.offsetHeight,x.clientHeight,x.scrollHeight,x.offsetHeight)},i=()=>{const y=r();Math.abs(y-t)>1&&(window.parent.postMessage({type:"resize",height:y,padding:0,timestamp:Date.now()},"*"),t=y)},a=()=>{n&&clearTimeout(n),n=setTimeout(()=>{i()},1)};window.parent.postMessage({type:"READY"},"*"),i();const s=y=>{switch(b.debug("IframeResizer:  ",y.data,"",y.origin),y.data.type){case"PARENT_READY":b.debug("IframeResizer:   ");break;case"PING":window.parent.postMessage({type:"PONG"},"*");break;case"requestHeight":case"REQUEST_HEIGHT":i();break}};window.addEventListener("message",s);const l=new MutationObserver(()=>{a()});l.observe(document.body,{childList:!0,subtree:!0,attributes:!0,characterData:!0});let o=null;typeof ResizeObserver<"u"&&(o=new ResizeObserver(()=>{a()}),o.observe(document.body));const u=()=>a(),d=()=>i(),m=()=>a(),f=()=>a(),h=()=>{i(),setTimeout(()=>{a()},50),setTimeout(()=>{a()},150)};window.addEventListener("resize",u),window.addEventListener("load",d),document.addEventListener("click",m),document.addEventListener("input",f),document.addEventListener("change",h);const g=()=>{t=0,setTimeout(i,100),setTimeout(i,500)};window.addEventListener("popstate",g);const w=()=>{t=0,setTimeout(i,100)};window.addEventListener("beforeunload",w);let S=window.location.href;const v=setInterval(()=>{if(window.location.href!==S){S=window.location.href;const y=r();window.parent.postMessage({type:"resize",height:y,padding:0,timestamp:Date.now(),forced:!0,url:S,reason:"URL_CHANGE"},"*"),t=0,setTimeout(i,100),setTimeout(i,500)}},200),p=setInterval(()=>{const y=r(),x=window.location.href;window.parent.postMessage({type:"resize",height:y,padding:0,timestamp:Date.now(),forced:!0,url:x},"*")},2e3);return()=>{n&&clearTimeout(n),clearInterval(v),clearInterval(p),window.removeEventListener("resize",u),window.removeEventListener("load",d),window.removeEventListener("message",s),window.removeEventListener("popstate",g),window.removeEventListener("beforeunload",w),document.removeEventListener("click",m),document.removeEventListener("input",f),document.removeEventListener("change",h),l.disconnect(),o&&o.disconnect()}},[]),null}function P0({isOpen:e,onClose:t,onSuccess:n,title:r="",message:i="       API"}){const{login:a}=Xh(),[s,l]=E.useState(""),[o,u]=E.useState(""),[d,m]=E.useState(!1),[f,h]=E.useState(""),g=async S=>{if(S.preventDefault(),!s.trim()||!o.trim()){h(",   ");return}m(!0),h("");try{a(s.trim(),o.trim()),l(""),u(""),n==null||n(),t()}catch(v){h(" .    ."),logger.error("  :",v)}finally{m(!1)}},w=()=>{d||(l(""),u(""),h(""),t())};return e?c.jsx("div",{className:"widget-auth-modal-overlay",children:c.jsxs("div",{className:"widget-auth-modal",children:[c.jsxs("div",{className:"widget-auth-modal-header",children:[c.jsx("h3",{children:r}),c.jsx("button",{className:"widget-auth-modal-close",onClick:w,disabled:d,"aria-label":"",children:""})]}),c.jsxs("div",{className:"widget-auth-modal-body",children:[c.jsx("p",{className:"widget-auth-modal-message",children:i}),c.jsxs("form",{onSubmit:g,className:"widget-auth-form",children:[c.jsxs("div",{className:"auth-widget-form-group",children:[c.jsx("label",{htmlFor:"username",children:":"}),c.jsx("input",{id:"username",type:"text",value:s,onChange:S=>l(S.target.value),placeholder:" ",disabled:d,required:!0,autoFocus:!0})]}),c.jsxs("div",{className:"auth-widget-form-group",children:[c.jsx("label",{htmlFor:"password",children:":"}),c.jsx("input",{id:"password",type:"password",value:o,onChange:S=>u(S.target.value),placeholder:" ",disabled:d,required:!0})]}),f&&c.jsx("div",{className:"widget-auth-error",children:f}),c.jsxs("div",{className:"auth-widget-form-actions",children:[c.jsx("button",{type:"button",onClick:w,disabled:d,className:"widget-auth-btn widget-auth-btn-secondary",children:""}),c.jsx("button",{type:"submit",disabled:d||!s.trim()||!o.trim(),className:"widget-auth-btn widget-auth-btn-primary",children:d?"...":""})]})]})]})]})}):null}function zT({children:e}){const{isAuthenticated:t,credentials:n}=Xh(),[r,i]=E.useState(!1),[a,s]=E.useState(!1);E.useEffect(()=>{const u=setTimeout(()=>{if(b.debug("     ..."),b.debug("  :",t),b.debug("  :",n?"":""),window.WIDGET_AUTH_TOKEN){b.log("  WIDGET_AUTH_TOKEN,   "),s(!0);return}sessionStorage.getItem("auth_credentials")&&t?b.log("  ,   "):(b.log("      ,    "),i(!0)),s(!0)},100);return()=>clearTimeout(u)},[t,n]);const l=()=>{b.log("  ,   "),i(!1)},o=()=>{b.log("     "),b.log("        API"),i(!1)};return a?c.jsxs(c.Fragment,{children:[e,c.jsx(P0,{isOpen:r,onClose:o,onSuccess:l,title:"    API",message:"             API.     ,     ."})]}):c.jsx("div",{children:"..."})}const at=E.forwardRef(({className:e,invalid:t,icon:n,...r},i)=>c.jsxs(c.Fragment,{children:[n&&c.jsx("span",{className:`widget-icon ${n}`}),c.jsx("input",{ref:i,className:In("widget-ui-input",{"widget-is-invalid":t},e),...r})]}));function oe(e,t,n){function r(l,o){var u;Object.defineProperty(l,"_zod",{value:l._zod??{},enumerable:!1}),(u=l._zod).traits??(u.traits=new Set),l._zod.traits.add(e),t(l,o);for(const d in s.prototype)d in l||Object.defineProperty(l,d,{value:s.prototype[d].bind(l)});l._zod.constr=s,l._zod.def=o}const i=(n==null?void 0:n.Parent)??Object;class a extends i{}Object.defineProperty(a,"name",{value:e});function s(l){var o;const u=n!=null&&n.Parent?new a:this;r(u,l),(o=u._zod).deferred??(o.deferred=[]);for(const d of u._zod.deferred)d();return u}return Object.defineProperty(s,"init",{value:r}),Object.defineProperty(s,Symbol.hasInstance,{value:l=>{var o,u;return n!=null&&n.Parent&&l instanceof n.Parent?!0:(u=(o=l==null?void 0:l._zod)==null?void 0:o.traits)==null?void 0:u.has(e)}}),Object.defineProperty(s,"name",{value:e}),s}class gs extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class F0 extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const B0={};function ca(e){return B0}function LT(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,i])=>t.indexOf(+r)===-1).map(([r,i])=>i)}function Kh(e,t){return typeof t=="bigint"?t.toString():t}function Jh(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function em(e){return e==null}function tm(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}const V0=Symbol("evaluating");function ot(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==V0)return r===void 0&&(r=V0,r=n()),r},set(i){Object.defineProperty(e,t,{value:i})},configurable:!0})}function ua(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function da(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function q0(e){return JSON.stringify(e)}const H0="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function lu(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const UT=Jh(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Xl(e){if(lu(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(lu(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Y0(e){return Xl(e)?{...e}:Array.isArray(e)?[...e]:e}const $T=new Set(["string","number","symbol"]);function vs(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function _i(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(r._zod.parent=e),r}function Ae(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function PT(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}function FT(e,t){const n=e._zod.def,r=da(e._zod.def,{get shape(){const i={};for(const a in t){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&(i[a]=n.shape[a])}return ua(this,"shape",i),i},checks:[]});return _i(e,r)}function BT(e,t){const n=e._zod.def,r=da(e._zod.def,{get shape(){const i={...e._zod.def.shape};for(const a in t){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&delete i[a]}return ua(this,"shape",i),i},checks:[]});return _i(e,r)}function VT(e,t){if(!Xl(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=da(e._zod.def,{get shape(){const a={...e._zod.def.shape,...t};return ua(this,"shape",a),a},checks:[]});return _i(e,i)}function qT(e,t){if(!Xl(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...e._zod.def,get shape(){const r={...e._zod.def.shape,...t};return ua(this,"shape",r),r},checks:e._zod.def.checks};return _i(e,n)}function HT(e,t){const n=da(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return ua(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return _i(e,n)}function YT(e,t,n){const r=da(t._zod.def,{get shape(){const i=t._zod.def.shape,a={...i};if(n)for(const s in n){if(!(s in i))throw new Error(`Unrecognized key: "${s}"`);n[s]&&(a[s]=e?new e({type:"optional",innerType:i[s]}):i[s])}else for(const s in i)a[s]=e?new e({type:"optional",innerType:i[s]}):i[s];return ua(this,"shape",a),a},checks:[]});return _i(t,r)}function ZT(e,t,n){const r=da(t._zod.def,{get shape(){const i=t._zod.def.shape,a={...i};if(n)for(const s in n){if(!(s in a))throw new Error(`Unrecognized key: "${s}"`);n[s]&&(a[s]=new e({type:"nonoptional",innerType:i[s]}))}else for(const s in i)a[s]=new e({type:"nonoptional",innerType:i[s]});return ua(this,"shape",a),a},checks:[]});return _i(t,r)}function ys(e,t=0){var n;if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(((n=e.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function Z0(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function ou(e){return typeof e=="string"?e:e==null?void 0:e.message}function fa(e,t,n){var i,a,s,l,o,u;const r={...e,path:e.path??[]};if(!e.message){const d=ou((s=(a=(i=e.inst)==null?void 0:i._zod.def)==null?void 0:a.error)==null?void 0:s.call(a,e))??ou((l=t==null?void 0:t.error)==null?void 0:l.call(t,e))??ou((o=n.customError)==null?void 0:o.call(n,e))??ou((u=n.localeError)==null?void 0:u.call(n,e))??"Invalid input";r.message=d}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function nm(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Kl(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const Q0=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Kh,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},rm=oe("$ZodError",Q0),cu=oe("$ZodError",Q0,{Parent:Error});function QT(e,t=n=>n.message){const n={},r=[];for(const i of e.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}function GT(e,t=n=>n.message){const n={_errors:[]},r=i=>{for(const a of i.issues)if(a.code==="invalid_union"&&a.errors.length)a.errors.map(s=>r({issues:s}));else if(a.code==="invalid_key")r({issues:a.issues});else if(a.code==="invalid_element")r({issues:a.issues});else if(a.path.length===0)n._errors.push(t(a));else{let s=n,l=0;for(;l<a.path.length;){const o=a.path[l];l===a.path.length-1?(s[o]=s[o]||{_errors:[]},s[o]._errors.push(t(a))):s[o]=s[o]||{_errors:[]},s=s[o],l++}}};return r(e),n}const uu=e=>(t,n,r,i)=>{const a=r?Object.assign(r,{async:!1}):{async:!1},s=t._zod.run({value:n,issues:[]},a);if(s instanceof Promise)throw new gs;if(s.issues.length){const l=new((i==null?void 0:i.Err)??e)(s.issues.map(o=>fa(o,a,ca())));throw H0(l,i==null?void 0:i.callee),l}return s.value},WT=uu(cu),du=e=>async(t,n,r,i)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},a);if(s instanceof Promise&&(s=await s),s.issues.length){const l=new((i==null?void 0:i.Err)??e)(s.issues.map(o=>fa(o,a,ca())));throw H0(l,i==null?void 0:i.callee),l}return s.value},XT=du(cu),fu=e=>(t,n,r)=>{const i=r?{...r,async:!1}:{async:!1},a=t._zod.run({value:n,issues:[]},i);if(a instanceof Promise)throw new gs;return a.issues.length?{success:!1,error:new(e??rm)(a.issues.map(s=>fa(s,i,ca())))}:{success:!0,data:a.value}},KT=fu(cu),hu=e=>async(t,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let a=t._zod.run({value:n,issues:[]},i);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new e(a.issues.map(s=>fa(s,i,ca())))}:{success:!0,data:a.value}},JT=hu(cu),e_=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return uu(e)(t,n,i)},t_=e=>(t,n,r)=>uu(e)(t,n,r),n_=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return du(e)(t,n,i)},r_=e=>async(t,n,r)=>du(e)(t,n,r),i_=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return fu(e)(t,n,i)},a_=e=>(t,n,r)=>fu(e)(t,n,r),s_=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return hu(e)(t,n,i)},l_=e=>async(t,n,r)=>hu(e)(t,n,r),o_=/^[cC][^\s-]{8,}$/,c_=/^[0-9a-z]+$/,u_=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,d_=/^[0-9a-vA-V]{20}$/,f_=/^[A-Za-z0-9]{27}$/,h_=/^[a-zA-Z0-9_-]{21}$/,m_=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,p_=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,G0=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,g_=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,v_="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function y_(){return new RegExp(v_,"u")}const b_=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,w_=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,S_=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,x_=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,N_=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,W0=/^[A-Za-z0-9_-]*$/,E_=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,D_=/^\+(?:[0-9]){6,14}[0-9]$/,X0="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",T_=new RegExp(`^${X0}$`);function K0(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function __(e){return new RegExp(`^${K0(e)}$`)}function O_(e){const t=K0({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${X0}T(?:${r})$`)}const C_=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},j_=/^(?:true|false)$/i,A_=/^[^A-Z]*$/,M_=/^[^a-z]*$/,br=oe("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),k_=oe("$ZodCheckMaxLength",(e,t)=>{var n;br.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!em(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const i=r.value;if(i.length<=t.maximum)return;const s=nm(i);r.issues.push({origin:s,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),I_=oe("$ZodCheckMinLength",(e,t)=>{var n;br.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!em(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const i=r.value;if(i.length>=t.minimum)return;const s=nm(i);r.issues.push({origin:s,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),R_=oe("$ZodCheckLengthEquals",(e,t)=>{var n;br.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!em(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=t.length,i.maximum=t.length,i.length=t.length}),e._zod.check=r=>{const i=r.value,a=i.length;if(a===t.length)return;const s=nm(i),l=a>t.length;r.issues.push({origin:s,...l?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),mu=oe("$ZodCheckStringFormat",(e,t)=>{var n,r;br.init(e,t),e._zod.onattach.push(i=>{const a=i._zod.bag;a.format=t.format,t.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=i=>{t.pattern.lastIndex=0,!t.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:t.format,input:i.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),z_=oe("$ZodCheckRegex",(e,t)=>{mu.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),L_=oe("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=A_),mu.init(e,t)}),U_=oe("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=M_),mu.init(e,t)}),$_=oe("$ZodCheckIncludes",(e,t)=>{br.init(e,t);const n=vs(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(i=>{const a=i._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=i=>{i.value.includes(t.includes,t.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:i.value,inst:e,continue:!t.abort})}}),P_=oe("$ZodCheckStartsWith",(e,t)=>{br.init(e,t);const n=new RegExp(`^${vs(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),F_=oe("$ZodCheckEndsWith",(e,t)=>{br.init(e,t);const n=new RegExp(`.*${vs(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),B_=oe("$ZodCheckOverwrite",(e,t)=>{br.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class V_{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(s=>s),i=Math.min(...r.map(s=>s.length-s.trimStart().length)),a=r.map(s=>s.slice(i)).map(s=>" ".repeat(this.indent*2)+s);for(const s of a)this.content.push(s)}compile(){const t=Function,n=this==null?void 0:this.args,i=[...((this==null?void 0:this.content)??[""]).map(a=>`  ${a}`)];return new t(...n,i.join(`
`))}}const q_={major:4,minor:1,patch:12},Dt=oe("$ZodType",(e,t)=>{var i;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=q_;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const a of r)for(const s of a._zod.onattach)s(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),(i=e._zod.deferred)==null||i.push(()=>{e._zod.run=e._zod.parse});else{const a=(l,o,u)=>{let d=ys(l),m;for(const f of o){if(f._zod.def.when){if(!f._zod.def.when(l))continue}else if(d)continue;const h=l.issues.length,g=f._zod.check(l);if(g instanceof Promise&&(u==null?void 0:u.async)===!1)throw new gs;if(m||g instanceof Promise)m=(m??Promise.resolve()).then(async()=>{await g,l.issues.length!==h&&(d||(d=ys(l,h)))});else{if(l.issues.length===h)continue;d||(d=ys(l,h))}}return m?m.then(()=>l):l},s=(l,o,u)=>{if(ys(l))return l.aborted=!0,l;const d=a(o,r,u);if(d instanceof Promise){if(u.async===!1)throw new gs;return d.then(m=>e._zod.parse(m,u))}return e._zod.parse(d,u)};e._zod.run=(l,o)=>{if(o.skipChecks)return e._zod.parse(l,o);if(o.direction==="backward"){const d=e._zod.parse({value:l.value,issues:[]},{...o,skipChecks:!0});return d instanceof Promise?d.then(m=>s(m,l,o)):s(d,l,o)}const u=e._zod.parse(l,o);if(u instanceof Promise){if(o.async===!1)throw new gs;return u.then(d=>a(d,r,o))}return a(u,r,o)}}e["~standard"]={validate:a=>{var s;try{const l=KT(e,a);return l.success?{value:l.data}:{issues:(s=l.error)==null?void 0:s.issues}}catch{return JT(e,a).then(o=>{var u;return o.success?{value:o.data}:{issues:(u=o.error)==null?void 0:u.issues}})}},vendor:"zod",version:1}}),im=oe("$ZodString",(e,t)=>{var n;Dt.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??C_(e._zod.bag),e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),gt=oe("$ZodStringFormat",(e,t)=>{mu.init(e,t),im.init(e,t)}),H_=oe("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=p_),gt.init(e,t)}),Y_=oe("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=G0(r))}else t.pattern??(t.pattern=G0());gt.init(e,t)}),Z_=oe("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=g_),gt.init(e,t)}),Q_=oe("$ZodURL",(e,t)=>{gt.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:E_.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=i.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),G_=oe("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=y_()),gt.init(e,t)}),W_=oe("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=h_),gt.init(e,t)}),X_=oe("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=o_),gt.init(e,t)}),K_=oe("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=c_),gt.init(e,t)}),J_=oe("$ZodULID",(e,t)=>{t.pattern??(t.pattern=u_),gt.init(e,t)}),eO=oe("$ZodXID",(e,t)=>{t.pattern??(t.pattern=d_),gt.init(e,t)}),tO=oe("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=f_),gt.init(e,t)}),nO=oe("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=O_(t)),gt.init(e,t)}),rO=oe("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=T_),gt.init(e,t)}),iO=oe("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=__(t)),gt.init(e,t)}),aO=oe("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=m_),gt.init(e,t)}),sO=oe("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=b_),gt.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv4"})}),lO=oe("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=w_),gt.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),oO=oe("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=S_),gt.init(e,t)}),cO=oe("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=x_),gt.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[i,a]=r;if(!a)throw new Error;const s=Number(a);if(`${s}`!==a)throw new Error;if(s<0||s>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function J0(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const uO=oe("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=N_),gt.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{J0(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function dO(e){if(!W0.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return J0(n)}const fO=oe("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=W0),gt.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{dO(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),hO=oe("$ZodE164",(e,t)=>{t.pattern??(t.pattern=D_),gt.init(e,t)});function mO(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}const pO=oe("$ZodJWT",(e,t)=>{gt.init(e,t),e._zod.check=n=>{mO(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),gO=oe("$ZodBoolean",(e,t)=>{Dt.init(e,t),e._zod.pattern=j_,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),n}}),vO=oe("$ZodUnknown",(e,t)=>{Dt.init(e,t),e._zod.parse=n=>n}),yO=oe("$ZodNever",(e,t)=>{Dt.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function ew(e,t,n){e.issues.length&&t.issues.push(...Z0(n,e.issues)),t.value[n]=e.value}const bO=oe("$ZodArray",(e,t)=>{Dt.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),n;n.value=Array(i.length);const a=[];for(let s=0;s<i.length;s++){const l=i[s],o=t.element._zod.run({value:l,issues:[]},r);o instanceof Promise?a.push(o.then(u=>ew(u,n,s))):ew(o,n,s)}return a.length?Promise.all(a).then(()=>n):n}});function pu(e,t,n,r){e.issues.length&&t.issues.push(...Z0(n,e.issues)),e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function tw(e){var r,i,a,s;const t=Object.keys(e.shape);for(const l of t)if(!((s=(a=(i=(r=e.shape)==null?void 0:r[l])==null?void 0:i._zod)==null?void 0:a.traits)!=null&&s.has("$ZodType")))throw new Error(`Invalid element at key "${l}": expected a Zod schema`);const n=PT(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function nw(e,t,n,r,i,a){const s=[],l=i.keySet,o=i.catchall._zod,u=o.def.type;for(const d of Object.keys(t)){if(l.has(d))continue;if(u==="never"){s.push(d);continue}const m=o.run({value:t[d],issues:[]},r);m instanceof Promise?e.push(m.then(f=>pu(f,n,d,t))):pu(m,n,d,t)}return s.length&&n.issues.push({code:"unrecognized_keys",keys:s,input:t,inst:a}),e.length?Promise.all(e).then(()=>n):n}const wO=oe("$ZodObject",(e,t)=>{Dt.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!(n!=null&&n.get)){const l=t.shape;Object.defineProperty(t,"shape",{get:()=>{const o={...l};return Object.defineProperty(t,"shape",{value:o}),o}})}const r=Jh(()=>tw(t));ot(e._zod,"propValues",()=>{const l=t.shape,o={};for(const u in l){const d=l[u]._zod;if(d.values){o[u]??(o[u]=new Set);for(const m of d.values)o[u].add(m)}}return o});const i=lu,a=t.catchall;let s;e._zod.parse=(l,o)=>{s??(s=r.value);const u=l.value;if(!i(u))return l.issues.push({expected:"object",code:"invalid_type",input:u,inst:e}),l;l.value={};const d=[],m=s.shape;for(const f of s.keys){const g=m[f]._zod.run({value:u[f],issues:[]},o);g instanceof Promise?d.push(g.then(w=>pu(w,l,f,u))):pu(g,l,f,u)}return a?nw(d,u,l,o,r.value,e):d.length?Promise.all(d).then(()=>l):l}}),SO=oe("$ZodObjectJIT",(e,t)=>{wO.init(e,t);const n=e._zod.parse,r=Jh(()=>tw(t)),i=f=>{const h=new V_(["shape","payload","ctx"]),g=r.value,w=y=>{const x=q0(y);return`shape[${x}]._zod.run({ value: input[${x}], issues: [] }, ctx)`};h.write("const input = payload.value;");const S=Object.create(null);let v=0;for(const y of g.keys)S[y]=`key_${v++}`;h.write("const newResult = {};");for(const y of g.keys){const x=S[y],C=q0(y);h.write(`const ${x} = ${w(y)};`),h.write(`
        if (${x}.issues.length) {
          payload.issues = payload.issues.concat(${x}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${C}, ...iss.path] : [${C}]
          })));
        }
        
        
        if (${x}.value === undefined) {
          if (${C} in input) {
            newResult[${C}] = undefined;
          }
        } else {
          newResult[${C}] = ${x}.value;
        }
        
      `)}h.write("payload.value = newResult;"),h.write("return payload;");const p=h.compile();return(y,x)=>p(f,y,x)};let a;const s=lu,l=!B0.jitless,u=l&&UT.value,d=t.catchall;let m;e._zod.parse=(f,h)=>{m??(m=r.value);const g=f.value;return s(g)?l&&u&&(h==null?void 0:h.async)===!1&&h.jitless!==!0?(a||(a=i(t.shape)),f=a(f,h),d?nw([],g,f,h,m,e):f):n(f,h):(f.issues.push({expected:"object",code:"invalid_type",input:g,inst:e}),f)}});function rw(e,t,n,r){for(const a of e)if(a.issues.length===0)return t.value=a.value,t;const i=e.filter(a=>!ys(a));return i.length===1?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(a=>a.issues.map(s=>fa(s,r,ca())))}),t)}const xO=oe("$ZodUnion",(e,t)=>{Dt.init(e,t),ot(e._zod,"optin",()=>t.options.some(i=>i._zod.optin==="optional")?"optional":void 0),ot(e._zod,"optout",()=>t.options.some(i=>i._zod.optout==="optional")?"optional":void 0),ot(e._zod,"values",()=>{if(t.options.every(i=>i._zod.values))return new Set(t.options.flatMap(i=>Array.from(i._zod.values)))}),ot(e._zod,"pattern",()=>{if(t.options.every(i=>i._zod.pattern)){const i=t.options.map(a=>a._zod.pattern);return new RegExp(`^(${i.map(a=>tm(a.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(i,a)=>{if(n)return r(i,a);let s=!1;const l=[];for(const o of t.options){const u=o._zod.run({value:i.value,issues:[]},a);if(u instanceof Promise)l.push(u),s=!0;else{if(u.issues.length===0)return u;l.push(u)}}return s?Promise.all(l).then(o=>rw(o,i,e,a)):rw(l,i,e,a)}}),NO=oe("$ZodIntersection",(e,t)=>{Dt.init(e,t),e._zod.parse=(n,r)=>{const i=n.value,a=t.left._zod.run({value:i,issues:[]},r),s=t.right._zod.run({value:i,issues:[]},r);return a instanceof Promise||s instanceof Promise?Promise.all([a,s]).then(([o,u])=>iw(n,o,u)):iw(n,a,s)}});function am(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Xl(e)&&Xl(t)){const n=Object.keys(t),r=Object.keys(e).filter(a=>n.indexOf(a)!==-1),i={...e,...t};for(const a of r){const s=am(e[a],t[a]);if(!s.valid)return{valid:!1,mergeErrorPath:[a,...s.mergeErrorPath]};i[a]=s.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const i=e[r],a=t[r],s=am(i,a);if(!s.valid)return{valid:!1,mergeErrorPath:[r,...s.mergeErrorPath]};n.push(s.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function iw(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),ys(e))return e;const r=am(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const EO=oe("$ZodEnum",(e,t)=>{Dt.init(e,t);const n=LT(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(i=>$T.has(typeof i)).map(i=>typeof i=="string"?vs(i):i.toString()).join("|")})$`),e._zod.parse=(i,a)=>{const s=i.value;return r.has(s)||i.issues.push({code:"invalid_value",values:n,input:s,inst:e}),i}}),DO=oe("$ZodLiteral",(e,t)=>{if(Dt.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");e._zod.values=new Set(t.values),e._zod.pattern=new RegExp(`^(${t.values.map(n=>typeof n=="string"?vs(n):n?vs(n.toString()):String(n)).join("|")})$`),e._zod.parse=(n,r)=>{const i=n.value;return e._zod.values.has(i)||n.issues.push({code:"invalid_value",values:t.values,input:i,inst:e}),n}}),TO=oe("$ZodTransform",(e,t)=>{Dt.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new F0(e.constructor.name);const i=t.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(s=>(n.value=s,n));if(i instanceof Promise)throw new gs;return n.value=i,n}});function aw(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const _O=oe("$ZodOptional",(e,t)=>{Dt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",ot(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),ot(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${tm(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(a=>aw(a,n.value)):aw(i,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),OO=oe("$ZodNullable",(e,t)=>{Dt.init(e,t),ot(e._zod,"optin",()=>t.innerType._zod.optin),ot(e._zod,"optout",()=>t.innerType._zod.optout),ot(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${tm(n.source)}|null)$`):void 0}),ot(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),CO=oe("$ZodDefault",(e,t)=>{Dt.init(e,t),e._zod.optin="optional",ot(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(a=>sw(a,t)):sw(i,t)}});function sw(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const jO=oe("$ZodPrefault",(e,t)=>{Dt.init(e,t),e._zod.optin="optional",ot(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),AO=oe("$ZodNonOptional",(e,t)=>{Dt.init(e,t),ot(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(a=>lw(a,e)):lw(i,e)}});function lw(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const MO=oe("$ZodCatch",(e,t)=>{Dt.init(e,t),ot(e._zod,"optin",()=>t.innerType._zod.optin),ot(e._zod,"optout",()=>t.innerType._zod.optout),ot(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(a=>(n.value=a.value,a.issues.length&&(n.value=t.catchValue({...n,error:{issues:a.issues.map(s=>fa(s,r,ca()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(a=>fa(a,r,ca()))},input:n.value}),n.issues=[]),n)}}),kO=oe("$ZodPipe",(e,t)=>{Dt.init(e,t),ot(e._zod,"values",()=>t.in._zod.values),ot(e._zod,"optin",()=>t.in._zod.optin),ot(e._zod,"optout",()=>t.out._zod.optout),ot(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const a=t.out._zod.run(n,r);return a instanceof Promise?a.then(s=>gu(s,t.in,r)):gu(a,t.in,r)}const i=t.in._zod.run(n,r);return i instanceof Promise?i.then(a=>gu(a,t.out,r)):gu(i,t.out,r)}});function gu(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const IO=oe("$ZodReadonly",(e,t)=>{Dt.init(e,t),ot(e._zod,"propValues",()=>t.innerType._zod.propValues),ot(e._zod,"values",()=>t.innerType._zod.values),ot(e._zod,"optin",()=>t.innerType._zod.optin),ot(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(ow):ow(i)}});function ow(e){return e.value=Object.freeze(e.value),e}const RO=oe("$ZodCustom",(e,t)=>{br.init(e,t),Dt.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,i=t.fn(r);if(i instanceof Promise)return i.then(a=>cw(a,n,r,e));cw(i,n,r,e)}});function cw(e,t,n,r){if(!e){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),t.issues.push(Kl(i))}}class zO{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];if(this._map.set(t,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(t)};return Object.keys(i).length?i:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function LO(){return new zO}const vu=LO();function UO(e,t){return new e({type:"string",...Ae(t)})}function $O(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Ae(t)})}function uw(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Ae(t)})}function PO(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Ae(t)})}function FO(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ae(t)})}function BO(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ae(t)})}function VO(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ae(t)})}function qO(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Ae(t)})}function HO(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Ae(t)})}function YO(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ae(t)})}function ZO(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Ae(t)})}function QO(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ae(t)})}function GO(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Ae(t)})}function WO(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Ae(t)})}function XO(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ae(t)})}function KO(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ae(t)})}function JO(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ae(t)})}function eC(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ae(t)})}function tC(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ae(t)})}function nC(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Ae(t)})}function rC(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Ae(t)})}function iC(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Ae(t)})}function aC(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Ae(t)})}function sC(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ae(t)})}function lC(e,t){return new e({type:"string",format:"date",check:"string_format",...Ae(t)})}function oC(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Ae(t)})}function cC(e,t){return new e({type:"string",format:"duration",check:"string_format",...Ae(t)})}function uC(e,t){return new e({type:"boolean",...Ae(t)})}function dC(e){return new e({type:"unknown"})}function fC(e,t){return new e({type:"never",...Ae(t)})}function dw(e,t){return new k_({check:"max_length",...Ae(t),maximum:e})}function yu(e,t){return new I_({check:"min_length",...Ae(t),minimum:e})}function fw(e,t){return new R_({check:"length_equals",...Ae(t),length:e})}function hC(e,t){return new z_({check:"string_format",format:"regex",...Ae(t),pattern:e})}function mC(e){return new L_({check:"string_format",format:"lowercase",...Ae(e)})}function pC(e){return new U_({check:"string_format",format:"uppercase",...Ae(e)})}function gC(e,t){return new $_({check:"string_format",format:"includes",...Ae(t),includes:e})}function vC(e,t){return new P_({check:"string_format",format:"starts_with",...Ae(t),prefix:e})}function yC(e,t){return new F_({check:"string_format",format:"ends_with",...Ae(t),suffix:e})}function Jl(e){return new B_({check:"overwrite",tx:e})}function bC(e){return Jl(t=>t.normalize(e))}function wC(){return Jl(e=>e.trim())}function SC(){return Jl(e=>e.toLowerCase())}function xC(){return Jl(e=>e.toUpperCase())}function NC(e,t,n){return new e({type:"array",element:t,...Ae(n)})}function EC(e,t,n){return new e({type:"custom",check:"custom",fn:t,...Ae(n)})}function DC(e){const t=TC(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Kl(r,n.value,t._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),n.issues.push(Kl(i))}},e(n.value,n)));return t}function TC(e,t){const n=new br({check:"custom",...Ae(t)});return n._zod.check=e,n}const _C=oe("ZodISODateTime",(e,t)=>{nO.init(e,t),vt.init(e,t)});function OC(e){return sC(_C,e)}const CC=oe("ZodISODate",(e,t)=>{rO.init(e,t),vt.init(e,t)});function jC(e){return lC(CC,e)}const AC=oe("ZodISOTime",(e,t)=>{iO.init(e,t),vt.init(e,t)});function MC(e){return oC(AC,e)}const kC=oe("ZodISODuration",(e,t)=>{aO.init(e,t),vt.init(e,t)});function IC(e){return cC(kC,e)}const Xn=oe("ZodError",(e,t)=>{rm.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>GT(e,n)},flatten:{value:n=>QT(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,Kh,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,Kh,2)}},isEmpty:{get(){return e.issues.length===0}}})},{Parent:Error}),RC=uu(Xn),zC=du(Xn),LC=fu(Xn),UC=hu(Xn),$C=e_(Xn),PC=t_(Xn),FC=n_(Xn),BC=r_(Xn),VC=i_(Xn),qC=a_(Xn),HC=s_(Xn),YC=l_(Xn),At=oe("ZodType",(e,t)=>(Dt.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(da(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),e.clone=(n,r)=>_i(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e),e.parse=(n,r)=>RC(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>LC(e,n,r),e.parseAsync=async(n,r)=>zC(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>UC(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>$C(e,n,r),e.decode=(n,r)=>PC(e,n,r),e.encodeAsync=async(n,r)=>FC(e,n,r),e.decodeAsync=async(n,r)=>BC(e,n,r),e.safeEncode=(n,r)=>VC(e,n,r),e.safeDecode=(n,r)=>qC(e,n,r),e.safeEncodeAsync=async(n,r)=>HC(e,n,r),e.safeDecodeAsync=async(n,r)=>YC(e,n,r),e.refine=(n,r)=>e.check(Uj(n,r)),e.superRefine=n=>e.check($j(n)),e.overwrite=n=>e.check(Jl(n)),e.optional=()=>vw(e),e.nullable=()=>yw(e),e.nullish=()=>vw(yw(e)),e.nonoptional=n=>Aj(e,n),e.array=()=>gj(e),e.or=n=>bj([e,n]),e.and=n=>Sj(e,n),e.transform=n=>ww(e,Dj(n)),e.default=n=>Oj(e,n),e.prefault=n=>jj(e,n),e.catch=n=>kj(e,n),e.pipe=n=>ww(e,n),e.readonly=()=>zj(e),e.describe=n=>{const r=e.clone();return vu.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){var n;return(n=vu.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return vu.get(e);const r=e.clone();return vu.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),hw=oe("_ZodString",(e,t)=>{im.init(e,t),At.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(hC(...r)),e.includes=(...r)=>e.check(gC(...r)),e.startsWith=(...r)=>e.check(vC(...r)),e.endsWith=(...r)=>e.check(yC(...r)),e.min=(...r)=>e.check(yu(...r)),e.max=(...r)=>e.check(dw(...r)),e.length=(...r)=>e.check(fw(...r)),e.nonempty=(...r)=>e.check(yu(1,...r)),e.lowercase=r=>e.check(mC(r)),e.uppercase=r=>e.check(pC(r)),e.trim=()=>e.check(wC()),e.normalize=(...r)=>e.check(bC(...r)),e.toLowerCase=()=>e.check(SC()),e.toUpperCase=()=>e.check(xC())}),ZC=oe("ZodString",(e,t)=>{im.init(e,t),hw.init(e,t),e.email=n=>e.check($O(QC,n)),e.url=n=>e.check(qO(GC,n)),e.jwt=n=>e.check(aC(uj,n)),e.emoji=n=>e.check(HO(WC,n)),e.guid=n=>e.check(uw(mw,n)),e.uuid=n=>e.check(PO(bu,n)),e.uuidv4=n=>e.check(FO(bu,n)),e.uuidv6=n=>e.check(BO(bu,n)),e.uuidv7=n=>e.check(VO(bu,n)),e.nanoid=n=>e.check(YO(XC,n)),e.guid=n=>e.check(uw(mw,n)),e.cuid=n=>e.check(ZO(KC,n)),e.cuid2=n=>e.check(QO(JC,n)),e.ulid=n=>e.check(GO(ej,n)),e.base64=n=>e.check(nC(lj,n)),e.base64url=n=>e.check(rC(oj,n)),e.xid=n=>e.check(WO(tj,n)),e.ksuid=n=>e.check(XO(nj,n)),e.ipv4=n=>e.check(KO(rj,n)),e.ipv6=n=>e.check(JO(ij,n)),e.cidrv4=n=>e.check(eC(aj,n)),e.cidrv6=n=>e.check(tC(sj,n)),e.e164=n=>e.check(iC(cj,n)),e.datetime=n=>e.check(OC(n)),e.date=n=>e.check(jC(n)),e.time=n=>e.check(MC(n)),e.duration=n=>e.check(IC(n))});function Ne(e){return UO(ZC,e)}const vt=oe("ZodStringFormat",(e,t)=>{gt.init(e,t),hw.init(e,t)}),QC=oe("ZodEmail",(e,t)=>{Z_.init(e,t),vt.init(e,t)}),mw=oe("ZodGUID",(e,t)=>{H_.init(e,t),vt.init(e,t)}),bu=oe("ZodUUID",(e,t)=>{Y_.init(e,t),vt.init(e,t)}),GC=oe("ZodURL",(e,t)=>{Q_.init(e,t),vt.init(e,t)}),WC=oe("ZodEmoji",(e,t)=>{G_.init(e,t),vt.init(e,t)}),XC=oe("ZodNanoID",(e,t)=>{W_.init(e,t),vt.init(e,t)}),KC=oe("ZodCUID",(e,t)=>{X_.init(e,t),vt.init(e,t)}),JC=oe("ZodCUID2",(e,t)=>{K_.init(e,t),vt.init(e,t)}),ej=oe("ZodULID",(e,t)=>{J_.init(e,t),vt.init(e,t)}),tj=oe("ZodXID",(e,t)=>{eO.init(e,t),vt.init(e,t)}),nj=oe("ZodKSUID",(e,t)=>{tO.init(e,t),vt.init(e,t)}),rj=oe("ZodIPv4",(e,t)=>{sO.init(e,t),vt.init(e,t)}),ij=oe("ZodIPv6",(e,t)=>{lO.init(e,t),vt.init(e,t)}),aj=oe("ZodCIDRv4",(e,t)=>{oO.init(e,t),vt.init(e,t)}),sj=oe("ZodCIDRv6",(e,t)=>{cO.init(e,t),vt.init(e,t)}),lj=oe("ZodBase64",(e,t)=>{uO.init(e,t),vt.init(e,t)}),oj=oe("ZodBase64URL",(e,t)=>{fO.init(e,t),vt.init(e,t)}),cj=oe("ZodE164",(e,t)=>{hO.init(e,t),vt.init(e,t)}),uj=oe("ZodJWT",(e,t)=>{pO.init(e,t),vt.init(e,t)}),dj=oe("ZodBoolean",(e,t)=>{gO.init(e,t),At.init(e,t)});function sm(e){return uC(dj,e)}const fj=oe("ZodUnknown",(e,t)=>{vO.init(e,t),At.init(e,t)});function pw(){return dC(fj)}const hj=oe("ZodNever",(e,t)=>{yO.init(e,t),At.init(e,t)});function mj(e){return fC(hj,e)}const pj=oe("ZodArray",(e,t)=>{bO.init(e,t),At.init(e,t),e.element=t.element,e.min=(n,r)=>e.check(yu(n,r)),e.nonempty=n=>e.check(yu(1,n)),e.max=(n,r)=>e.check(dw(n,r)),e.length=(n,r)=>e.check(fw(n,r)),e.unwrap=()=>e.element});function gj(e,t){return NC(pj,e,t)}const vj=oe("ZodObject",(e,t)=>{SO.init(e,t),At.init(e,t),ot(e,"shape",()=>t.shape),e.keyof=()=>xj(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:pw()}),e.loose=()=>e.clone({...e._zod.def,catchall:pw()}),e.strict=()=>e.clone({...e._zod.def,catchall:mj()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>VT(e,n),e.safeExtend=n=>qT(e,n),e.merge=n=>HT(e,n),e.pick=n=>FT(e,n),e.omit=n=>BT(e,n),e.partial=(...n)=>YT(gw,e,n[0]),e.required=(...n)=>ZT(bw,e,n[0])});function Oi(e,t){const n={type:"object",shape:e??{},...Ae(t)};return new vj(n)}const yj=oe("ZodUnion",(e,t)=>{xO.init(e,t),At.init(e,t),e.options=t.options});function bj(e,t){return new yj({type:"union",options:e,...Ae(t)})}const wj=oe("ZodIntersection",(e,t)=>{NO.init(e,t),At.init(e,t)});function Sj(e,t){return new wj({type:"intersection",left:e,right:t})}const lm=oe("ZodEnum",(e,t)=>{EO.init(e,t),At.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,i)=>{const a={};for(const s of r)if(n.has(s))a[s]=t.entries[s];else throw new Error(`Key ${s} not found in enum`);return new lm({...t,checks:[],...Ae(i),entries:a})},e.exclude=(r,i)=>{const a={...t.entries};for(const s of r)if(n.has(s))delete a[s];else throw new Error(`Key ${s} not found in enum`);return new lm({...t,checks:[],...Ae(i),entries:a})}});function xj(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new lm({type:"enum",entries:n,...Ae(t)})}const Nj=oe("ZodLiteral",(e,t)=>{DO.init(e,t),At.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function om(e,t){return new Nj({type:"literal",values:Array.isArray(e)?e:[e],...Ae(t)})}const Ej=oe("ZodTransform",(e,t)=>{TO.init(e,t),At.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new F0(e.constructor.name);n.addIssue=a=>{if(typeof a=="string")n.issues.push(Kl(a,n.value,t));else{const s=a;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=e),n.issues.push(Kl(s))}};const i=t.transform(n.value,n);return i instanceof Promise?i.then(a=>(n.value=a,n)):(n.value=i,n)}});function Dj(e){return new Ej({type:"transform",transform:e})}const gw=oe("ZodOptional",(e,t)=>{_O.init(e,t),At.init(e,t),e.unwrap=()=>e._zod.def.innerType});function vw(e){return new gw({type:"optional",innerType:e})}const Tj=oe("ZodNullable",(e,t)=>{OO.init(e,t),At.init(e,t),e.unwrap=()=>e._zod.def.innerType});function yw(e){return new Tj({type:"nullable",innerType:e})}const _j=oe("ZodDefault",(e,t)=>{CO.init(e,t),At.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function Oj(e,t){return new _j({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():Y0(t)}})}const Cj=oe("ZodPrefault",(e,t)=>{jO.init(e,t),At.init(e,t),e.unwrap=()=>e._zod.def.innerType});function jj(e,t){return new Cj({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():Y0(t)}})}const bw=oe("ZodNonOptional",(e,t)=>{AO.init(e,t),At.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Aj(e,t){return new bw({type:"nonoptional",innerType:e,...Ae(t)})}const Mj=oe("ZodCatch",(e,t)=>{MO.init(e,t),At.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function kj(e,t){return new Mj({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const Ij=oe("ZodPipe",(e,t)=>{kO.init(e,t),At.init(e,t),e.in=t.in,e.out=t.out});function ww(e,t){return new Ij({type:"pipe",in:e,out:t})}const Rj=oe("ZodReadonly",(e,t)=>{IO.init(e,t),At.init(e,t),e.unwrap=()=>e._zod.def.innerType});function zj(e){return new Rj({type:"readonly",innerType:e})}const Lj=oe("ZodCustom",(e,t)=>{RO.init(e,t),At.init(e,t)});function Uj(e,t={}){return EC(Lj,e,t)}function $j(e){return DC(e)}const ha={custom:"custom"};var Sw={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(dr,function(){var n=1e3,r=6e4,i=36e5,a="millisecond",s="second",l="minute",o="hour",u="day",d="week",m="month",f="quarter",h="year",g="date",w="Invalid Date",S=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,p={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(P){var Y=["th","st","nd","rd"],I=P%100;return"["+P+(Y[(I-20)%10]||Y[I]||Y[0])+"]"}},y=function(P,Y,I){var O=String(P);return!O||O.length>=Y?P:""+Array(Y+1-O.length).join(I)+P},x={s:y,z:function(P){var Y=-P.utcOffset(),I=Math.abs(Y),O=Math.floor(I/60),A=I%60;return(Y<=0?"+":"-")+y(O,2,"0")+":"+y(A,2,"0")},m:function P(Y,I){if(Y.date()<I.date())return-P(I,Y);var O=12*(I.year()-Y.year())+(I.month()-Y.month()),A=Y.clone().add(O,m),B=I-A<0,U=Y.clone().add(O+(B?-1:1),m);return+(-(O+(I-A)/(B?A-U:U-A))||0)},a:function(P){return P<0?Math.ceil(P)||0:Math.floor(P)},p:function(P){return{M:m,y:h,w:d,d:u,D:g,h:o,m:l,s,ms:a,Q:f}[P]||String(P||"").toLowerCase().replace(/s$/,"")},u:function(P){return P===void 0}},C="en",V={};V[C]=p;var D="$isDayjsObject",k=function(P){return P instanceof X||!(!P||!P[D])},M=function P(Y,I,O){var A;if(!Y)return C;if(typeof Y=="string"){var B=Y.toLowerCase();V[B]&&(A=B),I&&(V[B]=I,A=B);var U=Y.split("-");if(!A&&U.length>1)return P(U[0])}else{var L=Y.name;V[L]=Y,A=L}return!O&&A&&(C=A),A||!O&&C},_=function(P,Y){if(k(P))return P.clone();var I=typeof Y=="object"?Y:{};return I.date=P,I.args=arguments,new X(I)},G=x;G.l=M,G.i=k,G.w=function(P,Y){return _(P,{locale:Y.$L,utc:Y.$u,x:Y.$x,$offset:Y.$offset})};var X=function(){function P(I){this.$L=M(I.locale,null,!0),this.parse(I),this.$x=this.$x||I.x||{},this[D]=!0}var Y=P.prototype;return Y.parse=function(I){this.$d=function(O){var A=O.date,B=O.utc;if(A===null)return new Date(NaN);if(G.u(A))return new Date;if(A instanceof Date)return new Date(A);if(typeof A=="string"&&!/Z$/i.test(A)){var U=A.match(S);if(U){var L=U[2]-1||0,le=(U[7]||"0").substring(0,3);return B?new Date(Date.UTC(U[1],L,U[3]||1,U[4]||0,U[5]||0,U[6]||0,le)):new Date(U[1],L,U[3]||1,U[4]||0,U[5]||0,U[6]||0,le)}}return new Date(A)}(I),this.init()},Y.init=function(){var I=this.$d;this.$y=I.getFullYear(),this.$M=I.getMonth(),this.$D=I.getDate(),this.$W=I.getDay(),this.$H=I.getHours(),this.$m=I.getMinutes(),this.$s=I.getSeconds(),this.$ms=I.getMilliseconds()},Y.$utils=function(){return G},Y.isValid=function(){return this.$d.toString()!==w},Y.isSame=function(I,O){var A=_(I);return this.startOf(O)<=A&&A<=this.endOf(O)},Y.isAfter=function(I,O){return _(I)<this.startOf(O)},Y.isBefore=function(I,O){return this.endOf(O)<_(I)},Y.$g=function(I,O,A){return G.u(I)?this[O]:this.set(A,I)},Y.unix=function(){return Math.floor(this.valueOf()/1e3)},Y.valueOf=function(){return this.$d.getTime()},Y.startOf=function(I,O){var A=this,B=!!G.u(O)||O,U=G.p(I),L=function(ve,re){var me=G.w(A.$u?Date.UTC(A.$y,re,ve):new Date(A.$y,re,ve),A);return B?me:me.endOf(u)},le=function(ve,re){return G.w(A.toDate()[ve].apply(A.toDate("s"),(B?[0,0,0,0]:[23,59,59,999]).slice(re)),A)},z=this.$W,K=this.$M,ie=this.$D,ge="set"+(this.$u?"UTC":"");switch(U){case h:return B?L(1,0):L(31,11);case m:return B?L(1,K):L(0,K+1);case d:var Z=this.$locale().weekStart||0,de=(z<Z?z+7:z)-Z;return L(B?ie-de:ie+(6-de),K);case u:case g:return le(ge+"Hours",0);case o:return le(ge+"Minutes",1);case l:return le(ge+"Seconds",2);case s:return le(ge+"Milliseconds",3);default:return this.clone()}},Y.endOf=function(I){return this.startOf(I,!1)},Y.$set=function(I,O){var A,B=G.p(I),U="set"+(this.$u?"UTC":""),L=(A={},A[u]=U+"Date",A[g]=U+"Date",A[m]=U+"Month",A[h]=U+"FullYear",A[o]=U+"Hours",A[l]=U+"Minutes",A[s]=U+"Seconds",A[a]=U+"Milliseconds",A)[B],le=B===u?this.$D+(O-this.$W):O;if(B===m||B===h){var z=this.clone().set(g,1);z.$d[L](le),z.init(),this.$d=z.set(g,Math.min(this.$D,z.daysInMonth())).$d}else L&&this.$d[L](le);return this.init(),this},Y.set=function(I,O){return this.clone().$set(I,O)},Y.get=function(I){return this[G.p(I)]()},Y.add=function(I,O){var A,B=this;I=Number(I);var U=G.p(O),L=function(K){var ie=_(B);return G.w(ie.date(ie.date()+Math.round(K*I)),B)};if(U===m)return this.set(m,this.$M+I);if(U===h)return this.set(h,this.$y+I);if(U===u)return L(1);if(U===d)return L(7);var le=(A={},A[l]=r,A[o]=i,A[s]=n,A)[U]||1,z=this.$d.getTime()+I*le;return G.w(z,this)},Y.subtract=function(I,O){return this.add(-1*I,O)},Y.format=function(I){var O=this,A=this.$locale();if(!this.isValid())return A.invalidDate||w;var B=I||"YYYY-MM-DDTHH:mm:ssZ",U=G.z(this),L=this.$H,le=this.$m,z=this.$M,K=A.weekdays,ie=A.months,ge=A.meridiem,Z=function(re,me,F,ee){return re&&(re[me]||re(O,B))||F[me].slice(0,ee)},de=function(re){return G.s(L%12||12,re,"0")},ve=ge||function(re,me,F){var ee=re<12?"AM":"PM";return F?ee.toLowerCase():ee};return B.replace(v,function(re,me){return me||function(F){switch(F){case"YY":return String(O.$y).slice(-2);case"YYYY":return G.s(O.$y,4,"0");case"M":return z+1;case"MM":return G.s(z+1,2,"0");case"MMM":return Z(A.monthsShort,z,ie,3);case"MMMM":return Z(ie,z);case"D":return O.$D;case"DD":return G.s(O.$D,2,"0");case"d":return String(O.$W);case"dd":return Z(A.weekdaysMin,O.$W,K,2);case"ddd":return Z(A.weekdaysShort,O.$W,K,3);case"dddd":return K[O.$W];case"H":return String(L);case"HH":return G.s(L,2,"0");case"h":return de(1);case"hh":return de(2);case"a":return ve(L,le,!0);case"A":return ve(L,le,!1);case"m":return String(le);case"mm":return G.s(le,2,"0");case"s":return String(O.$s);case"ss":return G.s(O.$s,2,"0");case"SSS":return G.s(O.$ms,3,"0");case"Z":return U}return null}(re)||U.replace(":","")})},Y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Y.diff=function(I,O,A){var B,U=this,L=G.p(O),le=_(I),z=(le.utcOffset()-this.utcOffset())*r,K=this-le,ie=function(){return G.m(U,le)};switch(L){case h:B=ie()/12;break;case m:B=ie();break;case f:B=ie()/3;break;case d:B=(K-z)/6048e5;break;case u:B=(K-z)/864e5;break;case o:B=K/i;break;case l:B=K/r;break;case s:B=K/n;break;default:B=K}return A?B:G.a(B)},Y.daysInMonth=function(){return this.endOf(m).$D},Y.$locale=function(){return V[this.$L]},Y.locale=function(I,O){if(!I)return this.$L;var A=this.clone(),B=M(I,O,!0);return B&&(A.$L=B),A},Y.clone=function(){return G.w(this.$d,this)},Y.toDate=function(){return new Date(this.valueOf())},Y.toJSON=function(){return this.isValid()?this.toISOString():null},Y.toISOString=function(){return this.$d.toISOString()},Y.toString=function(){return this.$d.toUTCString()},P}(),J=X.prototype;return _.prototype=J,[["$ms",a],["$s",s],["$m",l],["$H",o],["$W",u],["$M",m],["$y",h],["$D",g]].forEach(function(P){J[P[1]]=function(Y){return this.$g(Y,P[0],P[1])}}),_.extend=function(P,Y){return P.$i||(P(Y,X,_),P.$i=!0),_},_.locale=M,_.isDayjs=k,_.unix=function(P){return _(1e3*P)},_.en=V[C],_.Ls=V,_.p={},_})})(Sw);var Pj=Sw.exports;const Ci=Da(Pj);var xw={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(dr,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d/,a=/\d\d/,s=/\d\d?/,l=/\d*[^-_:/,()\s\d]+/,o={},u=function(S){return(S=+S)+(S>68?1900:2e3)},d=function(S){return function(v){this[S]=+v}},m=[/[+-]\d\d:?(\d\d)?|Z/,function(S){(this.zone||(this.zone={})).offset=function(v){if(!v||v==="Z")return 0;var p=v.match(/([+-]|\d\d)/g),y=60*p[1]+(+p[2]||0);return y===0?0:p[0]==="+"?-y:y}(S)}],f=function(S){var v=o[S];return v&&(v.indexOf?v:v.s.concat(v.f))},h=function(S,v){var p,y=o.meridiem;if(y){for(var x=1;x<=24;x+=1)if(S.indexOf(y(x,0,v))>-1){p=x>12;break}}else p=S===(v?"pm":"PM");return p},g={A:[l,function(S){this.afternoon=h(S,!1)}],a:[l,function(S){this.afternoon=h(S,!0)}],Q:[i,function(S){this.month=3*(S-1)+1}],S:[i,function(S){this.milliseconds=100*+S}],SS:[a,function(S){this.milliseconds=10*+S}],SSS:[/\d{3}/,function(S){this.milliseconds=+S}],s:[s,d("seconds")],ss:[s,d("seconds")],m:[s,d("minutes")],mm:[s,d("minutes")],H:[s,d("hours")],h:[s,d("hours")],HH:[s,d("hours")],hh:[s,d("hours")],D:[s,d("day")],DD:[a,d("day")],Do:[l,function(S){var v=o.ordinal,p=S.match(/\d+/);if(this.day=p[0],v)for(var y=1;y<=31;y+=1)v(y).replace(/\[|\]/g,"")===S&&(this.day=y)}],w:[s,d("week")],ww:[a,d("week")],M:[s,d("month")],MM:[a,d("month")],MMM:[l,function(S){var v=f("months"),p=(f("monthsShort")||v.map(function(y){return y.slice(0,3)})).indexOf(S)+1;if(p<1)throw new Error;this.month=p%12||p}],MMMM:[l,function(S){var v=f("months").indexOf(S)+1;if(v<1)throw new Error;this.month=v%12||v}],Y:[/[+-]?\d+/,d("year")],YY:[a,function(S){this.year=u(S)}],YYYY:[/\d{4}/,d("year")],Z:m,ZZ:m};function w(S){var v,p;v=S,p=o&&o.formats;for(var y=(S=v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(_,G,X){var J=X&&X.toUpperCase();return G||p[X]||n[X]||p[J].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(P,Y,I){return Y||I.slice(1)})})).match(r),x=y.length,C=0;C<x;C+=1){var V=y[C],D=g[V],k=D&&D[0],M=D&&D[1];y[C]=M?{regex:k,parser:M}:V.replace(/^\[|\]$/g,"")}return function(_){for(var G={},X=0,J=0;X<x;X+=1){var P=y[X];if(typeof P=="string")J+=P.length;else{var Y=P.regex,I=P.parser,O=_.slice(J),A=Y.exec(O)[0];I.call(G,A),_=_.replace(A,"")}}return function(B){var U=B.afternoon;if(U!==void 0){var L=B.hours;U?L<12&&(B.hours+=12):L===12&&(B.hours=0),delete B.afternoon}}(G),G}}return function(S,v,p){p.p.customParseFormat=!0,S&&S.parseTwoDigitYear&&(u=S.parseTwoDigitYear);var y=v.prototype,x=y.parse;y.parse=function(C){var V=C.date,D=C.utc,k=C.args;this.$u=D;var M=k[1];if(typeof M=="string"){var _=k[2]===!0,G=k[3]===!0,X=_||G,J=k[2];G&&(J=k[2]),o=this.$locale(),!_&&J&&(o=p.Ls[J]),this.$d=function(O,A,B,U){try{if(["x","X"].indexOf(A)>-1)return new Date((A==="X"?1e3:1)*O);var L=w(A)(O),le=L.year,z=L.month,K=L.day,ie=L.hours,ge=L.minutes,Z=L.seconds,de=L.milliseconds,ve=L.zone,re=L.week,me=new Date,F=K||(le||z?1:me.getDate()),ee=le||me.getFullYear(),De=0;le&&!z||(De=z>0?z-1:me.getMonth());var te,Q=ie||0,ce=ge||0,ye=Z||0,Me=de||0;return ve?new Date(Date.UTC(ee,De,F,Q,ce,ye,Me+60*ve.offset*1e3)):B?new Date(Date.UTC(ee,De,F,Q,ce,ye,Me)):(te=new Date(ee,De,F,Q,ce,ye,Me),re&&(te=U(te).week(re).toDate()),te)}catch{return new Date("")}}(V,M,D,p),this.init(),J&&J!==!0&&(this.$L=this.locale(J).$L),X&&V!=this.format(M)&&(this.$d=new Date("")),o={}}else if(M instanceof Array)for(var P=M.length,Y=1;Y<=P;Y+=1){k[1]=M[Y-1];var I=p.apply(this,k);if(I.isValid()){this.$d=I.$d,this.$L=I.$L,this.init();break}Y===P&&(this.$d=new Date(""))}else x.call(this,C)}}})})(xw);var Fj=xw.exports;const Nw=Da(Fj);var Ew={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(dr,function(){return function(n,r){r.prototype.isSameOrBefore=function(i,a){return this.isSame(i,a)||this.isBefore(i,a)}}})})(Ew);var Bj=Ew.exports;const Vj=Da(Bj);var Dw={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(dr,function(){return function(n,r){r.prototype.isSameOrAfter=function(i,a){return this.isSame(i,a)||this.isAfter(i,a)}}})})(Dw);var qj=Dw.exports;const Hj=Da(qj);Ci.extend(Nw);const Yj=["YYYY-MM-DD","DD.MM.YYYY","YYYY.MM.DD","DD-MM-YYYY","D-M-YYYY","DD-M-YYYY","D-MM-YYYY"];function eo(e){if(!e)return null;for(const n of Yj){const r=Ci(e,n,!0);if(r.isValid())return r}const t=Ci(e);return t.isValid()?t:null}function Tw(e,t=" "){const n=eo(e);return n?n.format("DD.MM.YYYY"):t}function wr(e){if(!e)return;const t=eo(e);return!t||!t.isValid()?e:t.format("DD-MM-YYYY")}Ci.extend(Nw),Ci.extend(Vj),Ci.extend(Hj);const _w="[ ]",cm="\\d",Zj=new RegExp(`^${_w}${cm}{3}${_w}{2}${cm}{2}(?:${cm})?$`),Qj=Ne().trim().refine(e=>{const t=e.replace(/\s/g,"");return Zj.test(t)},{message:"  999999  99999"});function Ow(e){const t={A:"",B:"",E:"",K:"",M:"",H:"",O:"",P:" ",C:"",T:"",Y:"",X:""};return e.toUpperCase().replace(/\s+/g,"").replace(/[ABEKMHOPCTYX]/g,n=>t[n]||n)}const Cw=Ne().trim().email(" email"),um=Ne().trim().refine(e=>/^\+7\(\d{3}\)\d{3}-\d{2}-\d{2}$/u.test(e),{message:" +7(999)999-99-99"});Ne().trim().regex(/^\d{2}\s?\d{2}\s?\d{6}$/u," 99 99 999999");const Gj=Ne().refine(e=>{const t=eo(e);return t?t.startOf("day").isSameOrAfter(Ci().startOf("day")):!1},"     "),Wj=Ne().trim().length(17,"VIN   17 ").regex(/^[A-HJ-NPR-Z0-9]{17}$/i,"VIN   "),Xj=Ne().refine(e=>{const t=parseInt(e),n=new Date().getFullYear();return t>=1990&&t<=n+1},"    1990  "+(new Date().getFullYear()+1)),Kj=Ne().refine(e=>{const t=parseInt(e);return t>0&&t<=2e3},"    1  2000 .."),dm=Ne().trim().max(10,"     10 "),Jj=Ne().trim().regex(/^[0-9]{4}$/u,"       4 "),eA=Ne().trim().regex(/^[0-9]{2}$/u,"       2 "),tA=Ne().trim().regex(/^[0-9]{2}[0-9--]{2}$/u,"   : 2  + 2  (   )"),nA=Ne().trim().regex(/^[0-9]{2}[--]{2}$/u,"  : 2  + 2  "),rA=Ne().trim().regex(/^[a-zA-Z--]{2}$/u,"   : 2  (  )"),iA=Ne().trim().regex(/^[0-9]{2}[0-9--]{2}$/u," : 2  + 2  (   )"),fm=Ne().trim().max(20,"     20 "),aA=Ne().trim().regex(/^[0-9]{6}$/u,"       6 "),sA=Ne().trim().regex(/^[0-9]{7}$/u,"       7 "),lA=Ne().trim().regex(/^[0-9]{6}$/u,"       6 "),oA=Ne().trim().regex(/^[0-9]{13}$/u,"       13 "),cA=Ne().trim().regex(/^[0-9]{6}$/u,"      6 "),uA=Ne().trim().regex(/^[0-9]{6}$/u,"       6 "),dA=Ne().trim().regex(/^[0-9]{15}$/u,"       15 "),fA=Ne().trim().regex(/^[0-9]{6}$/u,"     6 "),hm=Ne().min(1,"  ").refine(e=>{const t=eo(e);return!t||!t.isValid()?!1:t.endOf("day").isSameOrBefore(Ci().endOf("day"))},"      ");Ne().trim().regex(/^(\d{4}|\d{2}[-]{2}|\d{2}[ABEKMHOPCTYX]{2})$/u," : 4   2  + 2 "),Ne().trim().regex(/^\d{6}$/u,"    6 "),Ne().trim().regex(/^[0-9A-Z-\s-]{10,12}$/u,"  "),Ne().trim().regex(/^(\d{4}|\d{2}[-]{2}|\d{2}[ABEKMHOPCTYX]{2})$/u,"  : 4   2  + 2 "),Ne().trim().regex(/^\d{6}$/u,"     6 "),Ne().trim().regex(/^[0-9A-Z-\s-]{10,12}$/u,"   ");const jw=Oi({type:Ne().min(1,"  "),series:Ne().trim().min(1,"  "),number:Ne().trim().min(1,"  "),issueDate:Ne().optional()});Oi({lastName:Ne().trim().min(1," "),previousLastName:Ne().trim().optional(),firstName:Ne().trim().min(1," "),middleName:Ne().trim().optional(),birthDate:Ne().min(1,"  "),drivingLicense:jw,previousDrivingLicense:jw.optional(),firstLicenseDate:Ne().optional()});const hA=Ne().trim().max(10,"     10 "),mA=Ne().trim().max(20,"     20 "),pA={phone:{pattern:"+7(___)___-__-__",placeholder:"+7(999)999-99-99",transform:e=>{if(/^\+7\(\d{3}\)\d{3}-\d{2}-\d{2}$/.test(e))return e;const t=e.replace(/\D/g,"");return t.length===0?"":t.length<=1?"+7":t.length<=4?`+7(${t.slice(1)}`:t.length<=7?`+7(${t.slice(1,4)})${t.slice(4)}`:t.length<=9?`+7(${t.slice(1,4)})${t.slice(4,7)}-${t.slice(7)}`:t.length>=11?`+7(${t.slice(1,4)})${t.slice(4,7)}-${t.slice(7,9)}-${t.slice(9,11)}`:`+7(${t.slice(1,4)})${t.slice(4,7)}-${t.slice(7,9)}-${t.slice(9,11)}`},validate:e=>/^\+7\(\d{3}\)\d{3}-\d{2}-\d{2}$/.test(e)},passport:{pattern:"__ __ ______",placeholder:"99 99 999999",transform:e=>{const t=e.replace(/\D/g,"");return t.length===0?"":t.length<=2?t:t.length<=4?`${t.slice(0,2)} ${t.slice(2)}`:`${t.slice(0,2)} ${t.slice(2,4)} ${t.slice(4,10)}`},validate:e=>/^\d{2}\s\d{2}\s\d{6}$/.test(e)},driverLicense:{pattern:"__________",placeholder:"1234567890",transform:e=>e.replace(/\D/g,"").slice(0,10),validate:e=>/^\d{10}$/.test(e)},driverLicenseSeries:{pattern:"____",placeholder:"77  7711",transform:e=>e.replace(/\s+/g,"").replace(/[^0-9A-Za-z--]/g,"").toUpperCase().slice(0,4),validate:e=>/^(\d{4}|\d{2}[-]{2}|\d{2}[ABEKMHOPCTYX]{2})$/.test(e)},driverLicenseNumber:{pattern:"______",placeholder:"123456",transform:e=>e.replace(/\D/g,"").slice(0,6),validate:e=>/^\d{6}$/.test(e)},plate:{pattern:"_ ___ __ ___",placeholder:"999  999",transform:e=>{const t=" ABEKMHOPCTYX",n="0123456789",r=e.replace(/\s/g,"").toUpperCase();let i="";for(let s=0;s<r.length&&i.replace(/\s/g,"").length<9;s++){const l=r[s],o=i.replace(/\s/g,"").length;o===0?t.includes(l)&&(i+=Ow(l)):o>=1&&o<4?n.includes(l)&&(i+=l):o>=4&&o<6?t.includes(l)&&(i+=Ow(l)):o>=6&&o<9&&n.includes(l)&&(i+=l)}const a=i.replace(/\s/g,"");return a.length===0?"":a.length<=1?a:a.length<=4?`${a.slice(0,1)}${a.slice(1)}`:a.length<=6?`${a.slice(0,1)}${a.slice(1,4)} ${a.slice(4)}`:a.length<=8?`${a.slice(0,1)}${a.slice(1,4)} ${a.slice(4,6)} ${a.slice(6,8)}`:`${a.slice(0,1)}${a.slice(1,4)} ${a.slice(4,6)} ${a.slice(6,9)}`},validate:e=>{const t=e.replace(/\s/g,"");return/^[ ]\d{3}[ ]{2}\d{2,3}$/.test(t)}}};function Rn({mask:e,value:t="",onChange:n,placeholder:r,className:i,id:a,"aria-invalid":s,"aria-describedby":l,disabled:o,icon:u,...d}){const[m,f]=E.useState(""),h=E.useRef(null),g=pA[e],w=g||{pattern:e,placeholder:e,transform:p=>{if(e==="99")return p.replace(/\D/g,"").slice(0,2);if(e==="9999")return p.replace(/\D/g,"").slice(0,4);if(e==="999999")return p.replace(/\D/g,"").slice(0,6);if(e==="9999999")return p.replace(/\D/g,"").slice(0,7);if(e==="99"){const y=p.replace(/[^0-9--]/g,"");if(y.length<=2)return y.replace(/\D/g,"").slice(0,2);{const x=y.slice(0,2).replace(/\D/g,"").slice(0,2),C=y.slice(2,4).replace(/[^0-9--]/g,"").slice(0,2);return x+C}}else if(e==="99"){const y=p.replace(/[^0-9--]/g,"");if(y.length<=2)return y.replace(/\D/g,"").slice(0,2);{const x=y.slice(0,2).replace(/\D/g,"").slice(0,2),C=y.slice(2,4).replace(/[^--]/g,"").slice(0,2);return x+C}}else{if(e==="")return p.replace(/[^--]/g,"").slice(0,2);if(e==="LL")return p.replace(/[^a-zA-Z--]/g,"").slice(0,2);if(e==="9999999999999")return p.replace(/\D/g,"").slice(0,13);if(e==="999999999999999")return p.replace(/\D/g,"").slice(0,15)}return p},validate:()=>!0};E.useEffect(()=>{t!==void 0&&f(w.transform(t))},[t,w]);const S=p=>{const y=p.target.value,x=w.transform(y);f(x);const C={...p,target:{...p.target,value:x}};n==null||n(C)},v=t!==void 0?w.transform(t):m;return c.jsx("div",{className:"widget-input-mask-container",children:c.jsx(at,{ref:h,id:a,value:v,onChange:S,placeholder:r||w.placeholder,className:i,"aria-invalid":s,"aria-describedby":l,disabled:o,icon:u,...d})})}var to=e=>e.type==="checkbox",ma=e=>e instanceof Date,yn=e=>e==null;const Aw=e=>typeof e=="object";var Mt=e=>!yn(e)&&!Array.isArray(e)&&Aw(e)&&!ma(e),Mw=e=>Mt(e)&&e.target?to(e.target)?e.target.checked:e.target.value:e,gA=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,kw=(e,t)=>e.has(gA(t)),vA=e=>{const t=e.constructor&&e.constructor.prototype;return Mt(t)&&t.hasOwnProperty("isPrototypeOf")},mm=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ft(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(mm&&(e instanceof Blob||r))&&(n||Mt(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!vA(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=Ft(e[i]));else return e;return t}var wu=e=>/^\w*$/.test(e),wt=e=>e===void 0,pm=e=>Array.isArray(e)?e.filter(Boolean):[],gm=e=>pm(e.replace(/["|']|\]/g,"").split(/\.|\[/)),xe=(e,t,n)=>{if(!t||!Mt(e))return n;const r=(wu(t)?[t]:gm(t)).reduce((i,a)=>yn(i)?i:i[a],e);return wt(r)||r===e?wt(e[t])?n:e[t]:r},zn=e=>typeof e=="boolean",et=(e,t,n)=>{let r=-1;const i=wu(t)?[t]:gm(t),a=i.length,s=a-1;for(;++r<a;){const l=i[r];let o=n;if(r!==s){const u=e[l];o=Mt(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=o,e=e[l]}};const Su={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},sr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Zr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Iw=ze.createContext(null);Iw.displayName="HookFormContext";const vm=()=>ze.useContext(Iw);var Rw=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const s=a;return t._proxyFormState[s]!==sr.all&&(t._proxyFormState[s]=!r||sr.all),n&&(n[s]=!0),e[s]}});return i};const ym=typeof window<"u"?ze.useLayoutEffect:ze.useEffect;function yA(e){const t=vm(),{control:n=t.control,disabled:r,name:i,exact:a}=e||{},[s,l]=ze.useState(n._formState),o=ze.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return ym(()=>n._subscribe({name:i,formState:o.current,exact:a,callback:u=>{!r&&l({...n._formState,...u})}}),[i,r,a]),ze.useEffect(()=>{o.current.isValid&&n._setValid(!0)},[n]),ze.useMemo(()=>Rw(s,n,o.current,!1),[s,n])}var Ln=e=>typeof e=="string",zw=(e,t,n,r,i)=>Ln(e)?(r&&t.watch.add(e),xe(n,e,i)):Array.isArray(e)?e.map(a=>(r&&t.watch.add(a),xe(n,a))):(r&&(t.watchAll=!0),n),bm=e=>yn(e)||!Aw(e);function Qr(e,t,n=new WeakSet){if(bm(e)||bm(t))return e===t;if(ma(e)&&ma(t))return e.getTime()===t.getTime();const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const a of r){const s=e[a];if(!i.includes(a))return!1;if(a!=="ref"){const l=t[a];if(ma(s)&&ma(l)||Mt(s)&&Mt(l)||Array.isArray(s)&&Array.isArray(l)?!Qr(s,l,n):s!==l)return!1}}return!0}function bA(e){const t=vm(),{control:n=t.control,name:r,defaultValue:i,disabled:a,exact:s,compute:l}=e||{},o=ze.useRef(i),u=ze.useRef(l),d=ze.useRef(void 0);u.current=l;const m=ze.useMemo(()=>n._getWatch(r,o.current),[n,r]),[f,h]=ze.useState(u.current?u.current(m):m);return ym(()=>n._subscribe({name:r,formState:{values:!0},exact:s,callback:g=>{if(!a){const w=zw(r,n._names,g.values||n._formValues,!1,o.current);if(u.current){const S=u.current(w);Qr(S,d.current)||(h(S),d.current=S)}else h(w)}}}),[n,a,r,s]),ze.useEffect(()=>n._removeUnmounted()),f}function wA(e){const t=vm(),{name:n,disabled:r,control:i=t.control,shouldUnregister:a,defaultValue:s}=e,l=kw(i._names.array,n),o=ze.useMemo(()=>xe(i._formValues,n,xe(i._defaultValues,n,s)),[i,n,s]),u=bA({control:i,name:n,defaultValue:o,exact:!0}),d=yA({control:i,name:n,exact:!0}),m=ze.useRef(e),f=ze.useRef(void 0),h=ze.useRef(i.register(n,{...e.rules,value:u,...zn(e.disabled)?{disabled:e.disabled}:{}}));m.current=e;const g=ze.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!xe(d.errors,n)},isDirty:{enumerable:!0,get:()=>!!xe(d.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!xe(d.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!xe(d.validatingFields,n)},error:{enumerable:!0,get:()=>xe(d.errors,n)}}),[d,n]),w=ze.useCallback(y=>h.current.onChange({target:{value:Mw(y),name:n},type:Su.CHANGE}),[n]),S=ze.useCallback(()=>h.current.onBlur({target:{value:xe(i._formValues,n),name:n},type:Su.BLUR}),[n,i._formValues]),v=ze.useCallback(y=>{const x=xe(i._fields,n);x&&y&&(x._f.ref={focus:()=>y.focus&&y.focus(),select:()=>y.select&&y.select(),setCustomValidity:C=>y.setCustomValidity(C),reportValidity:()=>y.reportValidity()})},[i._fields,n]),p=ze.useMemo(()=>({name:n,value:u,...zn(r)||d.disabled?{disabled:d.disabled||r}:{},onChange:w,onBlur:S,ref:v}),[n,r,d.disabled,w,S,v,u]);return ze.useEffect(()=>{const y=i._options.shouldUnregister||a,x=f.current;x&&x!==n&&!l&&i.unregister(x),i.register(n,{...m.current.rules,...zn(m.current.disabled)?{disabled:m.current.disabled}:{}});const C=(V,D)=>{const k=xe(i._fields,V);k&&k._f&&(k._f.mount=D)};if(C(n,!0),y){const V=Ft(xe(i._options.defaultValues,n,m.current.defaultValue));et(i._defaultValues,n,V),wt(xe(i._formValues,n))&&et(i._formValues,n,V)}return!l&&i.register(n),f.current=n,()=>{(l?y&&!i._state.action:y)?i.unregister(n):C(n,!1)}},[n,i,l,a]),ze.useEffect(()=>{i._setDisabledField({disabled:r,name:n})},[r,n,i]),ze.useMemo(()=>({field:p,formState:d,fieldState:g}),[p,d,g])}const Lw=e=>e.render(wA(e));var wm=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},no=e=>Array.isArray(e)?e:[e],Uw=()=>{let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next&&a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}};function $w(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r],a=t[r];if(i&&Mt(i)&&a){const s=$w(i,a);Mt(s)&&(n[r]=s)}else e[r]&&(n[r]=a)}return n}var bn=e=>Mt(e)&&!Object.keys(e).length,Sm=e=>e.type==="file",lr=e=>typeof e=="function",xu=e=>{if(!mm)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Pw=e=>e.type==="select-multiple",xm=e=>e.type==="radio",SA=e=>xm(e)||to(e),Nm=e=>xu(e)&&e.isConnected;function xA(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=wt(e)?r++:e[t[r++]];return e}function NA(e){for(const t in e)if(e.hasOwnProperty(t)&&!wt(e[t]))return!1;return!0}function kt(e,t){const n=Array.isArray(t)?t:wu(t)?[t]:gm(t),r=n.length===1?e:xA(e,n),i=n.length-1,a=n[i];return r&&delete r[a],i!==0&&(Mt(r)&&bn(r)||Array.isArray(r)&&NA(r))&&kt(e,n.slice(0,-1)),e}var EA=e=>{for(const t in e)if(lr(e[t]))return!0;return!1};function Fw(e){return Array.isArray(e)||Mt(e)&&!EA(e)}function Em(e,t={}){for(const n in e)Fw(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Em(e[n],t[n])):wt(e[n])||(t[n]=!0);return t}function bs(e,t,n){n||(n=Em(t));for(const r in e)Fw(e[r])?wt(t)||bm(n[r])?n[r]=Em(e[r],Array.isArray(e[r])?[]:{}):bs(e[r],yn(t)?{}:t[r],n[r]):n[r]=!Qr(e[r],t[r]);return n}const Bw={value:!1,isValid:!1},Vw={value:!0,isValid:!0};var qw=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!wt(e[0].attributes.value)?wt(e[0].value)||e[0].value===""?Vw:{value:e[0].value,isValid:!0}:Vw:Bw}return Bw},Hw=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>wt(e)?e:t?e===""?NaN:e&&+e:n&&Ln(e)?new Date(e):r?r(e):e;const Yw={isValid:!1,value:null};var Zw=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,Yw):Yw;function Qw(e){const t=e.ref;return Sm(t)?t.files:xm(t)?Zw(e.refs).value:Pw(t)?[...t.selectedOptions].map(({value:n})=>n):to(t)?qw(e.refs).value:Hw(wt(t.value)?e.ref.value:t.value,e)}var DA=(e,t,n,r)=>{const i={};for(const a of e){const s=xe(t,a);s&&et(i,a,s._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},Nu=e=>e instanceof RegExp,ro=e=>wt(e)?e:Nu(e)?e.source:Mt(e)?Nu(e.value)?e.value.source:e.value:e,Gw=e=>({isOnSubmit:!e||e===sr.onSubmit,isOnBlur:e===sr.onBlur,isOnChange:e===sr.onChange,isOnAll:e===sr.all,isOnTouch:e===sr.onTouched});const Ww="AsyncFunction";var TA=e=>!!e&&!!e.validate&&!!(lr(e.validate)&&e.validate.constructor.name===Ww||Mt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Ww)),_A=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Xw=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const io=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const a=xe(e,i);if(a){const{_f:s,...l}=a;if(s){if(s.refs&&s.refs[0]&&t(s.refs[0],i)&&!r)return!0;if(s.ref&&t(s.ref,s.name)&&!r)return!0;if(io(l,t))break}else if(Mt(l)&&io(l,t))break}}};function Kw(e,t,n){const r=xe(e,n);if(r||wu(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const a=i.join("."),s=xe(t,a),l=xe(e,a);if(s&&!Array.isArray(s)&&n!==a)return{name:n};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};i.pop()}return{name:n}}var OA=(e,t,n,r)=>{n(e);const{name:i,...a}=e;return bn(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(s=>t[s]===(!r||sr.all))},CA=(e,t,n)=>!e||!t||e===t||no(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),jA=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,AA=(e,t)=>!pm(xe(e,t)).length&&kt(e,t),MA=(e,t,n)=>{const r=no(xe(e,n));return et(r,"root",t[n]),et(e,n,r),e};function Jw(e,t,n="validate"){if(Ln(e)||Array.isArray(e)&&e.every(Ln)||zn(e)&&!e)return{type:n,message:Ln(e)?e:"",ref:t}}var ws=e=>Mt(e)&&!Nu(e)?e:{value:e,message:""},eS=async(e,t,n,r,i,a)=>{const{ref:s,refs:l,required:o,maxLength:u,minLength:d,min:m,max:f,pattern:h,validate:g,name:w,valueAsNumber:S,mount:v}=e._f,p=xe(n,w);if(!v||t.has(w))return{};const y=l?l[0]:s,x=X=>{i&&y.reportValidity&&(y.setCustomValidity(zn(X)?"":X||""),y.reportValidity())},C={},V=xm(s),D=to(s),k=V||D,M=(S||Sm(s))&&wt(s.value)&&wt(p)||xu(s)&&s.value===""||p===""||Array.isArray(p)&&!p.length,_=wm.bind(null,w,r,C),G=(X,J,P,Y=Zr.maxLength,I=Zr.minLength)=>{const O=X?J:P;C[w]={type:X?Y:I,message:O,ref:s,..._(X?Y:I,O)}};if(a?!Array.isArray(p)||!p.length:o&&(!k&&(M||yn(p))||zn(p)&&!p||D&&!qw(l).isValid||V&&!Zw(l).isValid)){const{value:X,message:J}=Ln(o)?{value:!!o,message:o}:ws(o);if(X&&(C[w]={type:Zr.required,message:J,ref:y,..._(Zr.required,J)},!r))return x(J),C}if(!M&&(!yn(m)||!yn(f))){let X,J;const P=ws(f),Y=ws(m);if(!yn(p)&&!isNaN(p)){const I=s.valueAsNumber||p&&+p;yn(P.value)||(X=I>P.value),yn(Y.value)||(J=I<Y.value)}else{const I=s.valueAsDate||new Date(p),O=U=>new Date(new Date().toDateString()+" "+U),A=s.type=="time",B=s.type=="week";Ln(P.value)&&p&&(X=A?O(p)>O(P.value):B?p>P.value:I>new Date(P.value)),Ln(Y.value)&&p&&(J=A?O(p)<O(Y.value):B?p<Y.value:I<new Date(Y.value))}if((X||J)&&(G(!!X,P.message,Y.message,Zr.max,Zr.min),!r))return x(C[w].message),C}if((u||d)&&!M&&(Ln(p)||a&&Array.isArray(p))){const X=ws(u),J=ws(d),P=!yn(X.value)&&p.length>+X.value,Y=!yn(J.value)&&p.length<+J.value;if((P||Y)&&(G(P,X.message,J.message),!r))return x(C[w].message),C}if(h&&!M&&Ln(p)){const{value:X,message:J}=ws(h);if(Nu(X)&&!p.match(X)&&(C[w]={type:Zr.pattern,message:J,ref:s,..._(Zr.pattern,J)},!r))return x(J),C}if(g){if(lr(g)){const X=await g(p,n),J=Jw(X,y);if(J&&(C[w]={...J,..._(Zr.validate,J.message)},!r))return x(J.message),C}else if(Mt(g)){let X={};for(const J in g){if(!bn(X)&&!r)break;const P=Jw(await g[J](p,n),y,J);P&&(X={...P,..._(J,P.message)},x(P.message),r&&(C[w]=X))}if(!bn(X)&&(C[w]={ref:y,...X},!r))return C}}return x(!0),C};const kA={mode:sr.onSubmit,reValidateMode:sr.onChange,shouldFocusError:!0};function IA(e={}){let t={...kA,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:lr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=Mt(t.defaultValues)||Mt(t.values)?Ft(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:Ft(i),s={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},o,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...d};const f={array:Uw(),state:Uw()},h=t.criteriaMode===sr.all,g=j=>R=>{clearTimeout(u),u=setTimeout(j,R)},w=async j=>{if(!t.disabled&&(d.isValid||m.isValid||j)){const R=t.resolver?bn((await D()).errors):await M(r,!0);R!==n.isValid&&f.state.next({isValid:R})}},S=(j,R)=>{!t.disabled&&(d.isValidating||d.validatingFields||m.isValidating||m.validatingFields)&&((j||Array.from(l.mount)).forEach(q=>{q&&(R?et(n.validatingFields,q,R):kt(n.validatingFields,q))}),f.state.next({validatingFields:n.validatingFields,isValidating:!bn(n.validatingFields)}))},v=(j,R=[],q,pe,fe=!0,ue=!0)=>{if(pe&&q&&!t.disabled){if(s.action=!0,ue&&Array.isArray(xe(r,j))){const Te=q(xe(r,j),pe.argA,pe.argB);fe&&et(r,j,Te)}if(ue&&Array.isArray(xe(n.errors,j))){const Te=q(xe(n.errors,j),pe.argA,pe.argB);fe&&et(n.errors,j,Te),AA(n.errors,j)}if((d.touchedFields||m.touchedFields)&&ue&&Array.isArray(xe(n.touchedFields,j))){const Te=q(xe(n.touchedFields,j),pe.argA,pe.argB);fe&&et(n.touchedFields,j,Te)}(d.dirtyFields||m.dirtyFields)&&(n.dirtyFields=bs(i,a)),f.state.next({name:j,isDirty:G(j,R),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else et(a,j,R)},p=(j,R)=>{et(n.errors,j,R),f.state.next({errors:n.errors})},y=j=>{n.errors=j,f.state.next({errors:n.errors,isValid:!1})},x=(j,R,q,pe)=>{const fe=xe(r,j);if(fe){const ue=xe(a,j,wt(q)?xe(i,j):q);wt(ue)||pe&&pe.defaultChecked||R?et(a,j,R?ue:Qw(fe._f)):P(j,ue),s.mount&&w()}},C=(j,R,q,pe,fe)=>{let ue=!1,Te=!1;const he={name:j};if(!t.disabled){if(!q||pe){(d.isDirty||m.isDirty)&&(Te=n.isDirty,n.isDirty=he.isDirty=G(),ue=Te!==he.isDirty);const Ze=Qr(xe(i,j),R);Te=!!xe(n.dirtyFields,j),Ze?kt(n.dirtyFields,j):et(n.dirtyFields,j,!0),he.dirtyFields=n.dirtyFields,ue=ue||(d.dirtyFields||m.dirtyFields)&&Te!==!Ze}if(q){const Ze=xe(n.touchedFields,j);Ze||(et(n.touchedFields,j,q),he.touchedFields=n.touchedFields,ue=ue||(d.touchedFields||m.touchedFields)&&Ze!==q)}ue&&fe&&f.state.next(he)}return ue?he:{}},V=(j,R,q,pe)=>{const fe=xe(n.errors,j),ue=(d.isValid||m.isValid)&&zn(R)&&n.isValid!==R;if(t.delayError&&q?(o=g(()=>p(j,q)),o(t.delayError)):(clearTimeout(u),o=null,q?et(n.errors,j,q):kt(n.errors,j)),(q?!Qr(fe,q):fe)||!bn(pe)||ue){const Te={...pe,...ue&&zn(R)?{isValid:R}:{},errors:n.errors,name:j};n={...n,...Te},f.state.next(Te)}},D=async j=>{S(j,!0);const R=await t.resolver(a,t.context,DA(j||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return S(j),R},k=async j=>{const{errors:R}=await D(j);if(j)for(const q of j){const pe=xe(R,q);pe?et(n.errors,q,pe):kt(n.errors,q)}else n.errors=R;return R},M=async(j,R,q={valid:!0})=>{for(const pe in j){const fe=j[pe];if(fe){const{_f:ue,...Te}=fe;if(ue){const he=l.array.has(ue.name),Ze=fe._f&&TA(fe._f);Ze&&d.validatingFields&&S([ue.name],!0);const ct=await eS(fe,l.disabled,a,h,t.shouldUseNativeValidation&&!R,he);if(Ze&&d.validatingFields&&S([ue.name]),ct[ue.name]&&(q.valid=!1,R))break;!R&&(xe(ct,ue.name)?he?MA(n.errors,ct,ue.name):et(n.errors,ue.name,ct[ue.name]):kt(n.errors,ue.name))}!bn(Te)&&await M(Te,R,q)}}return q.valid},_=()=>{for(const j of l.unMount){const R=xe(r,j);R&&(R._f.refs?R._f.refs.every(q=>!Nm(q)):!Nm(R._f.ref))&&Z(j)}l.unMount=new Set},G=(j,R)=>!t.disabled&&(j&&R&&et(a,j,R),!Qr(U(),i)),X=(j,R,q)=>zw(j,l,{...s.mount?a:wt(R)?i:Ln(j)?{[j]:R}:R},q,R),J=j=>pm(xe(s.mount?a:i,j,t.shouldUnregister?xe(i,j,[]):[])),P=(j,R,q={})=>{const pe=xe(r,j);let fe=R;if(pe){const ue=pe._f;ue&&(!ue.disabled&&et(a,j,Hw(R,ue)),fe=xu(ue.ref)&&yn(R)?"":R,Pw(ue.ref)?[...ue.ref.options].forEach(Te=>Te.selected=fe.includes(Te.value)):ue.refs?to(ue.ref)?ue.refs.forEach(Te=>{(!Te.defaultChecked||!Te.disabled)&&(Array.isArray(fe)?Te.checked=!!fe.find(he=>he===Te.value):Te.checked=fe===Te.value||!!fe)}):ue.refs.forEach(Te=>Te.checked=Te.value===fe):Sm(ue.ref)?ue.ref.value="":(ue.ref.value=fe,ue.ref.type||f.state.next({name:j,values:Ft(a)})))}(q.shouldDirty||q.shouldTouch)&&C(j,fe,q.shouldTouch,q.shouldDirty,!0),q.shouldValidate&&B(j)},Y=(j,R,q)=>{for(const pe in R){if(!R.hasOwnProperty(pe))return;const fe=R[pe],ue=j+"."+pe,Te=xe(r,ue);(l.array.has(j)||Mt(fe)||Te&&!Te._f)&&!ma(fe)?Y(ue,fe,q):P(ue,fe,q)}},I=(j,R,q={})=>{const pe=xe(r,j),fe=l.array.has(j),ue=Ft(R);et(a,j,ue),fe?(f.array.next({name:j,values:Ft(a)}),(d.isDirty||d.dirtyFields||m.isDirty||m.dirtyFields)&&q.shouldDirty&&f.state.next({name:j,dirtyFields:bs(i,a),isDirty:G(j,ue)})):pe&&!pe._f&&!yn(ue)?Y(j,ue,q):P(j,ue,q),Xw(j,l)&&f.state.next({...n,name:j}),f.state.next({name:s.mount?j:void 0,values:Ft(a)})},O=async j=>{s.mount=!0;const R=j.target;let q=R.name,pe=!0;const fe=xe(r,q),ue=Ze=>{pe=Number.isNaN(Ze)||ma(Ze)&&isNaN(Ze.getTime())||Qr(Ze,xe(a,q,Ze))},Te=Gw(t.mode),he=Gw(t.reValidateMode);if(fe){let Ze,ct;const ae=R.type?Qw(fe._f):Mw(j),we=j.type===Su.BLUR||j.type===Su.FOCUS_OUT,Ie=!_A(fe._f)&&!t.resolver&&!xe(n.errors,q)&&!fe._f.deps||jA(we,xe(n.touchedFields,q),n.isSubmitted,he,Te),Vt=Xw(q,l,we);et(a,q,ae),we?(!R||!R.readOnly)&&(fe._f.onBlur&&fe._f.onBlur(j),o&&o(0)):fe._f.onChange&&fe._f.onChange(j);const xn=C(q,ae,we),Qe=!bn(xn)||Vt;if(!we&&f.state.next({name:q,type:j.type,values:Ft(a)}),Ie)return(d.isValid||m.isValid)&&(t.mode==="onBlur"?we&&w():we||w()),Qe&&f.state.next({name:q,...Vt?{}:xn});if(!we&&Vt&&f.state.next({...n}),t.resolver){const{errors:tr}=await D([q]);if(ue(ae),pe){const an=Kw(n.errors,r,q),Na=Kw(tr,r,an.name||q);Ze=Na.error,q=Na.name,ct=bn(tr)}}else S([q],!0),Ze=(await eS(fe,l.disabled,a,h,t.shouldUseNativeValidation))[q],S([q]),ue(ae),pe&&(Ze?ct=!1:(d.isValid||m.isValid)&&(ct=await M(r,!0)));pe&&(fe._f.deps&&(!Array.isArray(fe._f.deps)||fe._f.deps.length>0)&&B(fe._f.deps),V(q,ct,Ze,xn))}},A=(j,R)=>{if(xe(n.errors,R)&&j.focus)return j.focus(),1},B=async(j,R={})=>{let q,pe;const fe=no(j);if(t.resolver){const ue=await k(wt(j)?j:fe);q=bn(ue),pe=j?!fe.some(Te=>xe(ue,Te)):q}else j?(pe=(await Promise.all(fe.map(async ue=>{const Te=xe(r,ue);return await M(Te&&Te._f?{[ue]:Te}:Te)}))).every(Boolean),!(!pe&&!n.isValid)&&w()):pe=q=await M(r);return f.state.next({...!Ln(j)||(d.isValid||m.isValid)&&q!==n.isValid?{}:{name:j},...t.resolver||!j?{isValid:q}:{},errors:n.errors}),R.shouldFocus&&!pe&&io(r,A,j?fe:l.mount),pe},U=(j,R)=>{let q={...s.mount?a:i};return R&&(q=$w(R.dirtyFields?n.dirtyFields:n.touchedFields,q)),wt(j)?q:Ln(j)?xe(q,j):j.map(pe=>xe(q,pe))},L=(j,R)=>({invalid:!!xe((R||n).errors,j),isDirty:!!xe((R||n).dirtyFields,j),error:xe((R||n).errors,j),isValidating:!!xe(n.validatingFields,j),isTouched:!!xe((R||n).touchedFields,j)}),le=j=>{j&&no(j).forEach(R=>kt(n.errors,R)),f.state.next({errors:j?n.errors:{}})},z=(j,R,q)=>{const pe=(xe(r,j,{_f:{}})._f||{}).ref,fe=xe(n.errors,j)||{},{ref:ue,message:Te,type:he,...Ze}=fe;et(n.errors,j,{...Ze,...R,ref:pe}),f.state.next({name:j,errors:n.errors,isValid:!1}),q&&q.shouldFocus&&pe&&pe.focus&&pe.focus()},K=(j,R)=>lr(j)?f.state.subscribe({next:q=>"values"in q&&j(X(void 0,R),q)}):X(j,R,!0),ie=j=>f.state.subscribe({next:R=>{CA(j.name,R.name,j.exact)&&OA(R,j.formState||d,ce,j.reRenderRoot)&&j.callback({values:{...a},...n,...R,defaultValues:i})}}).unsubscribe,ge=j=>(s.mount=!0,m={...m,...j.formState},ie({...j,formState:m})),Z=(j,R={})=>{for(const q of j?no(j):l.mount)l.mount.delete(q),l.array.delete(q),R.keepValue||(kt(r,q),kt(a,q)),!R.keepError&&kt(n.errors,q),!R.keepDirty&&kt(n.dirtyFields,q),!R.keepTouched&&kt(n.touchedFields,q),!R.keepIsValidating&&kt(n.validatingFields,q),!t.shouldUnregister&&!R.keepDefaultValue&&kt(i,q);f.state.next({values:Ft(a)}),f.state.next({...n,...R.keepDirty?{isDirty:G()}:{}}),!R.keepIsValid&&w()},de=({disabled:j,name:R})=>{(zn(j)&&s.mount||j||l.disabled.has(R))&&(j?l.disabled.add(R):l.disabled.delete(R))},ve=(j,R={})=>{let q=xe(r,j);const pe=zn(R.disabled)||zn(t.disabled);return et(r,j,{...q||{},_f:{...q&&q._f?q._f:{ref:{name:j}},name:j,mount:!0,...R}}),l.mount.add(j),q?de({disabled:zn(R.disabled)?R.disabled:t.disabled,name:j}):x(j,!0,R.value),{...pe?{disabled:R.disabled||t.disabled}:{},...t.progressive?{required:!!R.required,min:ro(R.min),max:ro(R.max),minLength:ro(R.minLength),maxLength:ro(R.maxLength),pattern:ro(R.pattern)}:{},name:j,onChange:O,onBlur:O,ref:fe=>{if(fe){ve(j,R),q=xe(r,j);const ue=wt(fe.value)&&fe.querySelectorAll&&fe.querySelectorAll("input,select,textarea")[0]||fe,Te=SA(ue),he=q._f.refs||[];if(Te?he.find(Ze=>Ze===ue):ue===q._f.ref)return;et(r,j,{_f:{...q._f,...Te?{refs:[...he.filter(Nm),ue,...Array.isArray(xe(i,j))?[{}]:[]],ref:{type:ue.type,name:j}}:{ref:ue}}}),x(j,!1,void 0,ue)}else q=xe(r,j,{}),q._f&&(q._f.mount=!1),(t.shouldUnregister||R.shouldUnregister)&&!(kw(l.array,j)&&s.action)&&l.unMount.add(j)}}},re=()=>t.shouldFocusError&&io(r,A,l.mount),me=j=>{zn(j)&&(f.state.next({disabled:j}),io(r,(R,q)=>{const pe=xe(r,q);pe&&(R.disabled=pe._f.disabled||j,Array.isArray(pe._f.refs)&&pe._f.refs.forEach(fe=>{fe.disabled=pe._f.disabled||j}))},0,!1))},F=(j,R)=>async q=>{let pe;q&&(q.preventDefault&&q.preventDefault(),q.persist&&q.persist());let fe=Ft(a);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:ue,values:Te}=await D();n.errors=ue,fe=Ft(Te)}else await M(r);if(l.disabled.size)for(const ue of l.disabled)kt(fe,ue);if(kt(n.errors,"root"),bn(n.errors)){f.state.next({errors:{}});try{await j(fe,q)}catch(ue){pe=ue}}else R&&await R({...n.errors},q),re(),setTimeout(re);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:bn(n.errors)&&!pe,submitCount:n.submitCount+1,errors:n.errors}),pe)throw pe},ee=(j,R={})=>{xe(r,j)&&(wt(R.defaultValue)?I(j,Ft(xe(i,j))):(I(j,R.defaultValue),et(i,j,Ft(R.defaultValue))),R.keepTouched||kt(n.touchedFields,j),R.keepDirty||(kt(n.dirtyFields,j),n.isDirty=R.defaultValue?G(j,Ft(xe(i,j))):G()),R.keepError||(kt(n.errors,j),d.isValid&&w()),f.state.next({...n}))},De=(j,R={})=>{const q=j?Ft(j):i,pe=Ft(q),fe=bn(j),ue=fe?i:pe;if(R.keepDefaultValues||(i=q),!R.keepValues){if(R.keepDirtyValues){const Te=new Set([...l.mount,...Object.keys(bs(i,a))]);for(const he of Array.from(Te))xe(n.dirtyFields,he)?et(ue,he,xe(a,he)):I(he,xe(ue,he))}else{if(mm&&wt(j))for(const Te of l.mount){const he=xe(r,Te);if(he&&he._f){const Ze=Array.isArray(he._f.refs)?he._f.refs[0]:he._f.ref;if(xu(Ze)){const ct=Ze.closest("form");if(ct){ct.reset();break}}}}if(R.keepFieldsRef)for(const Te of l.mount)I(Te,xe(ue,Te));else r={}}a=t.shouldUnregister?R.keepDefaultValues?Ft(i):{}:Ft(ue),f.array.next({values:{...ue}}),f.state.next({values:{...ue}})}l={mount:R.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!d.isValid||!!R.keepIsValid||!!R.keepDirtyValues,s.watch=!!t.shouldUnregister,f.state.next({submitCount:R.keepSubmitCount?n.submitCount:0,isDirty:fe?!1:R.keepDirty?n.isDirty:!!(R.keepDefaultValues&&!Qr(j,i)),isSubmitted:R.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:fe?{}:R.keepDirtyValues?R.keepDefaultValues&&a?bs(i,a):n.dirtyFields:R.keepDefaultValues&&j?bs(i,j):R.keepDirty?n.dirtyFields:{},touchedFields:R.keepTouched?n.touchedFields:{},errors:R.keepErrors?n.errors:{},isSubmitSuccessful:R.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},te=(j,R)=>De(lr(j)?j(a):j,R),Q=(j,R={})=>{const q=xe(r,j),pe=q&&q._f;if(pe){const fe=pe.refs?pe.refs[0]:pe.ref;fe.focus&&(fe.focus(),R.shouldSelect&&lr(fe.select)&&fe.select())}},ce=j=>{n={...n,...j}},Me={control:{register:ve,unregister:Z,getFieldState:L,handleSubmit:F,setError:z,_subscribe:ie,_runSchema:D,_focusError:re,_getWatch:X,_getDirty:G,_setValid:w,_setFieldArray:v,_setDisabledField:de,_setErrors:y,_getFieldArray:J,_reset:De,_resetDefaultValues:()=>lr(t.defaultValues)&&t.defaultValues().then(j=>{te(j,t.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:_,_disableForm:me,_subjects:f,_proxyFormState:d,get _fields(){return r},get _formValues(){return a},get _state(){return s},set _state(j){s=j},get _defaultValues(){return i},get _names(){return l},set _names(j){l=j},get _formState(){return n},get _options(){return t},set _options(j){t={...t,...j}}},subscribe:ge,trigger:B,register:ve,handleSubmit:F,watch:K,setValue:I,getValues:U,reset:te,resetField:ee,clearErrors:le,unregister:Z,setError:z,setFocus:Q,getFieldState:L};return{...Me,formControl:Me}}function Ss(e={}){const t=ze.useRef(void 0),n=ze.useRef(void 0),[r,i]=ze.useState({isDirty:!1,isValidating:!1,isLoading:lr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:lr(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!lr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:s,...l}=IA(e);t.current={...l,formState:r}}const a=t.current.control;return a._options=e,ym(()=>{const s=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),a._formState.isReady=!0,s},[a]),ze.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),ze.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),ze.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),ze.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),ze.useEffect(()=>{if(a._proxyFormState.isDirty){const s=a._getDirty();s!==r.isDirty&&a._subjects.state.next({isDirty:s})}},[a,r.isDirty]),ze.useEffect(()=>{e.values&&!Qr(e.values,n.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),n.current=e.values,i(s=>({...s}))):a._resetDefaultValues()},[a,e.values]),ze.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=Rw(r,a),t.current}const tS=(e,t,n)=>{if(e&&"reportValidity"in e){const r=xe(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},Dm=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?tS(r.ref,n,e):r&&r.refs&&r.refs.forEach(i=>tS(i,n,e))}},nS=(e,t)=>{t.shouldUseNativeValidation&&Dm(e,t);const n={};for(const r in e){const i=xe(t.fields,r),a=Object.assign(e[r]||{},{ref:i&&i.ref});if(RA(t.names||Object.keys(e),r)){const s=Object.assign({},xe(n,r));et(s,"root",a),et(n,r,s)}else et(n,r,a)}return n},RA=(e,t)=>{const n=rS(t);return e.some(r=>rS(r).match(`^${n}\\.\\d+`))};function rS(e){return e.replace(/\]|\[/g,"")}function iS(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}function zA(e,t){for(var n={};e.length;){var r=e[0],i=r.code,a=r.message,s=r.path.join(".");if(!n[s])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[s]={message:l.message,type:l.code}}else n[s]={message:a,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(m){return e.push(m)})}),t){var o=n[s].types,u=o&&o[r.code];n[s]=wm(s,t,n,i,u?[].concat(u,r.message):r.message)}e.shift()}return n}function LA(e,t){for(var n={};e.length;){var r=e[0],i=r.code,a=r.message,s=r.path.join(".");if(!n[s])if(r.code==="invalid_union"&&r.errors.length>0){var l=r.errors[0][0];n[s]={message:l.message,type:l.code}}else n[s]={message:a,type:i};if(r.code==="invalid_union"&&r.errors.forEach(function(d){return d.forEach(function(m){return e.push(m)})}),t){var o=n[s].types,u=o&&o[r.code];n[s]=wm(s,t,n,i,u?[].concat(u,r.message):r.message)}e.shift()}return n}function xs(e,t,n){if(n===void 0&&(n={}),function(r){return"_def"in r&&typeof r._def=="object"&&"typeName"in r._def}(e))return function(r,i,a){try{return Promise.resolve(iS(function(){return Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(s){return a.shouldUseNativeValidation&&Dm({},a),{errors:{},values:n.raw?Object.assign({},r):s}})},function(s){if(function(l){return Array.isArray(l==null?void 0:l.issues)}(s))return{values:{},errors:nS(zA(s.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw s}))}catch(s){return Promise.reject(s)}};if(function(r){return"_zod"in r&&typeof r._zod=="object"}(e))return function(r,i,a){try{return Promise.resolve(iS(function(){return Promise.resolve((n.mode==="sync"?WT:XT)(e,r,t)).then(function(s){return a.shouldUseNativeValidation&&Dm({},a),{errors:{},values:n.raw?Object.assign({},r):s}})},function(s){if(function(l){return l instanceof rm}(s))return{values:{},errors:nS(LA(s.issues,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw s}))}catch(s){return Promise.reject(s)}};throw new Error("Invalid input: not a Zod schema")}const aS=e=>{let t;const n=new Set,r=(u,d)=>{const m=typeof u=="function"?u(t):u;if(!Object.is(m,t)){const f=t;t=d??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(h=>h(t,f))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>o,subscribe:u=>(n.add(u),()=>n.delete(u))},o=t=e(r,i,l);return l},UA=e=>e?aS(e):aS,$A=e=>e;function PA(e,t=$A){const n=ze.useSyncExternalStore(e.subscribe,ze.useCallback(()=>t(e.getState()),[e,t]),ze.useCallback(()=>t(e.getInitialState()),[e,t]));return ze.useDebugValue(n),n}const FA=e=>{const t=UA(e),n=r=>PA(t,r);return Object.assign(n,t),n},BA=e=>FA;function VA(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var a;const s=o=>o===null?null:JSON.parse(o,void 0),l=(a=n.getItem(i))!=null?a:null;return l instanceof Promise?l.then(s):s(l)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>n.removeItem(i)}}const Tm=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Tm(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Tm(r)(n)}}}},qA=(e,t)=>(n,r,i)=>{let a={storage:VA(()=>localStorage),partialize:w=>w,version:0,merge:(w,S)=>({...S,...w}),...t},s=!1;const l=new Set,o=new Set;let u=a.storage;if(!u)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...w)},r,i);const d=()=>{const w=a.partialize({...r()});return u.setItem(a.name,{state:w,version:a.version})},m=i.setState;i.setState=(w,S)=>(m(w,S),d());const f=e((...w)=>(n(...w),d()),r,i);i.getInitialState=()=>f;let h;const g=()=>{var w,S;if(!u)return;s=!1,l.forEach(p=>{var y;return p((y=r())!=null?y:f)});const v=((S=a.onRehydrateStorage)==null?void 0:S.call(a,(w=r())!=null?w:f))||void 0;return Tm(u.getItem.bind(u))(a.name).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==a.version){if(a.migrate){const y=a.migrate(p.state,p.version);return y instanceof Promise?y.then(x=>[!0,x]):[!0,y]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,p.state];return[!1,void 0]}).then(p=>{var y;const[x,C]=p;if(h=a.merge(C,(y=r())!=null?y:f),n(h,!0),x)return d()}).then(()=>{v==null||v(h,void 0),h=r(),s=!0,o.forEach(p=>p(h))}).catch(p=>{v==null||v(void 0,p)})};return i.persist={setOptions:w=>{a={...a,...w},w.storage&&(u=w.storage)},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>g(),hasHydrated:()=>s,onHydrate:w=>(l.add(w),()=>{l.delete(w)}),onFinishHydration:w=>(o.add(w),()=>{o.delete(w)})},a.skipHydration||g(),h||f},or=BA()(qA(e=>({vehicle:{},policyholder:{},owner:{},drivers:[],unlimitedDrivers:!1,options:{},selectedOffer:{},policyData:null,isNewCalculation:!1,agreementAccepted:!1,setVehicle:t=>e(n=>({vehicle:{...n.vehicle,...t}})),setPolicyholder:t=>e(n=>({policyholder:{...n.policyholder,...t}})),setOwner:t=>e(n=>({owner:{...n.owner,...t}})),addDriver:t=>e(n=>({drivers:[...n.drivers,t]})),updateDriver:(t,n)=>e(r=>({drivers:r.drivers.map(i=>i.id===t?{...i,...n}:i)})),removeDriver:t=>e(n=>({drivers:n.drivers.filter(r=>r.id!==t)})),setUnlimitedDrivers:t=>e({unlimitedDrivers:t}),setOptions:t=>e(n=>({options:{...n.options,...t}})),setSelectedOffer:t=>e({selectedOffer:t}),setPolicyData:t=>e({policyData:t}),setAgreementAccepted:t=>e({agreementAccepted:t}),reset:()=>e({vehicle:{documentType:"vehicleRegistrationCertificate"},policyholder:{},owner:{},drivers:[],unlimitedDrivers:!1,options:{},selectedOffer:{},policyData:null,agreementAccepted:!1}),clearForNewCalculation:()=>e({vehicle:{plate:"",documentType:"vehicleRegistrationCertificate"},policyholder:{},owner:{},drivers:[],unlimitedDrivers:!1,options:{},selectedOffer:{},policyData:null,isNewCalculation:!0,agreementAccepted:!1}),setNewCalculationFlag:t=>e({isNewCalculation:t}),loadFromHistory:t=>{e({vehicle:t.vehicle||{},policyholder:t.policyholder||{},owner:t.owner||{},drivers:t.drivers||[],unlimitedDrivers:t.unlimitedDrivers||!1,options:t.options||{},selectedOffer:t.selectedOffer||{},policyData:null,isNewCalculation:!1,agreementAccepted:t.agreementAccepted||!1})}}),{name:"osago-widget-store",version:5,partialize:e=>({vehicle:e.vehicle,policyholder:e.policyholder,owner:e.owner,drivers:e.drivers,unlimitedDrivers:e.unlimitedDrivers,options:e.options,selectedOffer:e.selectedOffer,isNewCalculation:e.isNewCalculation,agreementAccepted:e.agreementAccepted})}));function ji(e,t){try{b.debug("Analytics event:",e,t)}catch{}}const sS="osago-calculations-history",HA=5;function YA(e){const t={...e};return t.options&&(t.options={...t.options,startDate:wr(t.options.startDate)}),t.vehicle&&(t.vehicle={...t.vehicle,documentIssueDate:wr(t.vehicle.documentIssueDate)}),t.policyholder&&(t.policyholder={...t.policyholder,birthDate:wr(t.policyholder.birthDate),documentIssueDate:wr(t.policyholder.documentIssueDate)}),t.owner&&(t.owner={...t.owner,birthDate:wr(t.owner.birthDate),documentIssueDate:wr(t.owner.documentIssueDate)}),t.drivers&&Array.isArray(t.drivers)&&(t.drivers=t.drivers.map(n=>{const r={...n,birthDate:wr(n.birthDate),firstLicenseDate:wr(n.firstLicenseDate)};return n.drivingLicense&&(r.drivingLicense={...n.drivingLicense,issueDate:wr(n.drivingLicense.issueDate)}),n.previousDrivingLicense&&(r.previousDrivingLicense={...n.previousDrivingLicense,issueDate:wr(n.previousDrivingLicense.issueDate)}),r})),t}function ao(e){var t,n;try{const r=_m(),i=(((t=e.vehicle)==null?void 0:t.plate)??"").trim(),a=(((n=e.vehicle)==null?void 0:n.vin)??"").trim();if(!i&&!a){b.warn("    :    VIN");return}const s=YA(e),l=r.filter(d=>{var h,g;const m=(((h=d.vehicle)==null?void 0:h.plate)??"").trim(),f=(((g=d.vehicle)==null?void 0:g.vin)??"").trim();return!(i&&m===i||a&&f===a)}),u=[{...s,ts:Date.now()},...l].slice(0,HA);localStorage.setItem(sS,JSON.stringify(u))}catch(r){b.error("   :",r)}}function _m(){try{const e=localStorage.getItem(sS);return e?JSON.parse(e):[]}catch(e){return b.error("  :",e),[]}}function lS(){const e=_m();return e.length>0?e[0]:null}function Eu(e,t){if(!!!e)throw new Error(t)}function ZA(e){return typeof e=="object"&&e!==null}function QA(e,t){if(!!!e)throw new Error("Unexpected invariant triggered.")}const GA=/\r\n|[\n\r]/g;function Om(e,t){let n=0,r=1;for(const i of e.body.matchAll(GA)){if(typeof i.index=="number"||QA(!1),i.index>=t)break;n=i.index+i[0].length,r+=1}return{line:r,column:t+1-n}}function WA(e){return oS(e.source,Om(e.source,e.start))}function oS(e,t){const n=e.locationOffset.column-1,r="".padStart(n)+e.body,i=t.line-1,a=e.locationOffset.line-1,s=t.line+a,l=t.line===1?n:0,o=t.column+l,u=`${e.name}:${s}:${o}
`,d=r.split(/\r\n|[\n\r]/g),m=d[i];if(m.length>120){const f=Math.floor(o/80),h=o%80,g=[];for(let w=0;w<m.length;w+=80)g.push(m.slice(w,w+80));return u+cS([[`${s} |`,g[0]],...g.slice(1,f+1).map(w=>["|",w]),["|","^".padStart(h)],["|",g[f+1]]])}return u+cS([[`${s-1} |`,d[i-1]],[`${s} |`,m],["|","^".padStart(o)],[`${s+1} |`,d[i+1]]])}function cS(e){const t=e.filter(([r,i])=>i!==void 0),n=Math.max(...t.map(([r])=>r.length));return t.map(([r,i])=>r.padStart(n)+(i?" "+i:"")).join(`
`)}function XA(e){const t=e[0];return t==null||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}class Cm extends Error{constructor(t,...n){var r,i,a;const{nodes:s,source:l,positions:o,path:u,originalError:d,extensions:m}=XA(n);super(t),this.name="GraphQLError",this.path=u??void 0,this.originalError=d??void 0,this.nodes=uS(Array.isArray(s)?s:s?[s]:void 0);const f=uS((r=this.nodes)===null||r===void 0?void 0:r.map(g=>g.loc).filter(g=>g!=null));this.source=l??(f==null||(i=f[0])===null||i===void 0?void 0:i.source),this.positions=o??(f==null?void 0:f.map(g=>g.start)),this.locations=o&&l?o.map(g=>Om(l,g)):f==null?void 0:f.map(g=>Om(g.source,g.start));const h=ZA(d==null?void 0:d.extensions)?d==null?void 0:d.extensions:void 0;this.extensions=(a=m??h)!==null&&a!==void 0?a:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),d!=null&&d.stack?Object.defineProperty(this,"stack",{value:d.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,Cm):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let t=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(t+=`

`+WA(n.loc));else if(this.source&&this.locations)for(const n of this.locations)t+=`

`+oS(this.source,n);return t}toJSON(){const t={message:this.message};return this.locations!=null&&(t.locations=this.locations),this.path!=null&&(t.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(t.extensions=this.extensions),t}}function uS(e){return e===void 0||e.length===0?void 0:e}function Zt(e,t,n){return new Cm(`Syntax Error: ${n}`,{source:e,positions:[t]})}class KA{constructor(t,n,r){this.start=t.start,this.end=n.end,this.startToken=t,this.endToken=n,this.source=r}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class dS{constructor(t,n,r,i,a,s){this.kind=t,this.start=n,this.end=r,this.line=i,this.column=a,this.value=s,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const fS={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},JA=new Set(Object.keys(fS));function hS(e){const t=e==null?void 0:e.kind;return typeof t=="string"&&JA.has(t)}var cr;(function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"})(cr||(cr={}));var jm;(function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(jm||(jm={}));var Se;(function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(Se||(Se={}));function Am(e){return e===9||e===32}function so(e){return e>=48&&e<=57}function mS(e){return e>=97&&e<=122||e>=65&&e<=90}function pS(e){return mS(e)||e===95}function eM(e){return mS(e)||so(e)||e===95}function tM(e){var t;let n=Number.MAX_SAFE_INTEGER,r=null,i=-1;for(let s=0;s<e.length;++s){var a;const l=e[s],o=nM(l);o!==l.length&&(r=(a=r)!==null&&a!==void 0?a:s,i=s,s!==0&&o<n&&(n=o))}return e.map((s,l)=>l===0?s:s.slice(n)).slice((t=r)!==null&&t!==void 0?t:0,i+1)}function nM(e){let t=0;for(;t<e.length&&Am(e.charCodeAt(t));)++t;return t}function rM(e,t){const n=e.replace(/"""/g,'\\"""'),r=n.split(/\r\n|[\n\r]/g),i=r.length===1,a=r.length>1&&r.slice(1).every(h=>h.length===0||Am(h.charCodeAt(0))),s=n.endsWith('\\"""'),l=e.endsWith('"')&&!s,o=e.endsWith("\\"),u=l||o,d=!i||e.length>70||u||a||s;let m="";const f=i&&Am(e.charCodeAt(0));return(d&&!f||a)&&(m+=`
`),m+=n,(d||u)&&(m+=`
`),'"""'+m+'"""'}var se;(function(e){e.SOF="<SOF>",e.EOF="<EOF>",e.BANG="!",e.DOLLAR="$",e.AMP="&",e.PAREN_L="(",e.PAREN_R=")",e.SPREAD="...",e.COLON=":",e.EQUALS="=",e.AT="@",e.BRACKET_L="[",e.BRACKET_R="]",e.BRACE_L="{",e.PIPE="|",e.BRACE_R="}",e.NAME="Name",e.INT="Int",e.FLOAT="Float",e.STRING="String",e.BLOCK_STRING="BlockString",e.COMMENT="Comment"})(se||(se={}));class iM{constructor(t){const n=new dS(se.SOF,0,0,0,0);this.source=t,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let t=this.token;if(t.kind!==se.EOF)do if(t.next)t=t.next;else{const n=sM(this,t.end);t.next=n,n.prev=t,t=n}while(t.kind===se.COMMENT);return t}}function aM(e){return e===se.BANG||e===se.DOLLAR||e===se.AMP||e===se.PAREN_L||e===se.PAREN_R||e===se.SPREAD||e===se.COLON||e===se.EQUALS||e===se.AT||e===se.BRACKET_L||e===se.BRACKET_R||e===se.BRACE_L||e===se.PIPE||e===se.BRACE_R}function Ns(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function Du(e,t){return gS(e.charCodeAt(t))&&vS(e.charCodeAt(t+1))}function gS(e){return e>=55296&&e<=56319}function vS(e){return e>=56320&&e<=57343}function pa(e,t){const n=e.source.body.codePointAt(t);if(n===void 0)return se.EOF;if(n>=32&&n<=126){const r=String.fromCodePoint(n);return r==='"'?`'"'`:`"${r}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function It(e,t,n,r,i){const a=e.line,s=1+n-e.lineStart;return new dS(t,n,r,a,s,i)}function sM(e,t){const n=e.source.body,r=n.length;let i=t;for(;i<r;){const a=n.charCodeAt(i);switch(a){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++e.line,e.lineStart=i;continue;case 13:n.charCodeAt(i+1)===10?i+=2:++i,++e.line,e.lineStart=i;continue;case 35:return lM(e,i);case 33:return It(e,se.BANG,i,i+1);case 36:return It(e,se.DOLLAR,i,i+1);case 38:return It(e,se.AMP,i,i+1);case 40:return It(e,se.PAREN_L,i,i+1);case 41:return It(e,se.PAREN_R,i,i+1);case 46:if(n.charCodeAt(i+1)===46&&n.charCodeAt(i+2)===46)return It(e,se.SPREAD,i,i+3);break;case 58:return It(e,se.COLON,i,i+1);case 61:return It(e,se.EQUALS,i,i+1);case 64:return It(e,se.AT,i,i+1);case 91:return It(e,se.BRACKET_L,i,i+1);case 93:return It(e,se.BRACKET_R,i,i+1);case 123:return It(e,se.BRACE_L,i,i+1);case 124:return It(e,se.PIPE,i,i+1);case 125:return It(e,se.BRACE_R,i,i+1);case 34:return n.charCodeAt(i+1)===34&&n.charCodeAt(i+2)===34?hM(e,i):cM(e,i)}if(so(a)||a===45)return oM(e,i,a);if(pS(a))return mM(e,i);throw Zt(e.source,i,a===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:Ns(a)||Du(n,i)?`Unexpected character: ${pa(e,i)}.`:`Invalid character: ${pa(e,i)}.`)}return It(e,se.EOF,r,r)}function lM(e,t){const n=e.source.body,r=n.length;let i=t+1;for(;i<r;){const a=n.charCodeAt(i);if(a===10||a===13)break;if(Ns(a))++i;else if(Du(n,i))i+=2;else break}return It(e,se.COMMENT,t,i,n.slice(t+1,i))}function oM(e,t,n){const r=e.source.body;let i=t,a=n,s=!1;if(a===45&&(a=r.charCodeAt(++i)),a===48){if(a=r.charCodeAt(++i),so(a))throw Zt(e.source,i,`Invalid number, unexpected digit after 0: ${pa(e,i)}.`)}else i=Mm(e,i,a),a=r.charCodeAt(i);if(a===46&&(s=!0,a=r.charCodeAt(++i),i=Mm(e,i,a),a=r.charCodeAt(i)),(a===69||a===101)&&(s=!0,a=r.charCodeAt(++i),(a===43||a===45)&&(a=r.charCodeAt(++i)),i=Mm(e,i,a),a=r.charCodeAt(i)),a===46||pS(a))throw Zt(e.source,i,`Invalid number, expected digit but got: ${pa(e,i)}.`);return It(e,s?se.FLOAT:se.INT,t,i,r.slice(t,i))}function Mm(e,t,n){if(!so(n))throw Zt(e.source,t,`Invalid number, expected digit but got: ${pa(e,t)}.`);const r=e.source.body;let i=t+1;for(;so(r.charCodeAt(i));)++i;return i}function cM(e,t){const n=e.source.body,r=n.length;let i=t+1,a=i,s="";for(;i<r;){const l=n.charCodeAt(i);if(l===34)return s+=n.slice(a,i),It(e,se.STRING,t,i+1,s);if(l===92){s+=n.slice(a,i);const o=n.charCodeAt(i+1)===117?n.charCodeAt(i+2)===123?uM(e,i):dM(e,i):fM(e,i);s+=o.value,i+=o.size,a=i;continue}if(l===10||l===13)break;if(Ns(l))++i;else if(Du(n,i))i+=2;else throw Zt(e.source,i,`Invalid character within String: ${pa(e,i)}.`)}throw Zt(e.source,i,"Unterminated string.")}function uM(e,t){const n=e.source.body;let r=0,i=3;for(;i<12;){const a=n.charCodeAt(t+i++);if(a===125){if(i<5||!Ns(r))break;return{value:String.fromCodePoint(r),size:i}}if(r=r<<4|lo(a),r<0)break}throw Zt(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+i)}".`)}function dM(e,t){const n=e.source.body,r=yS(n,t+2);if(Ns(r))return{value:String.fromCodePoint(r),size:6};if(gS(r)&&n.charCodeAt(t+6)===92&&n.charCodeAt(t+7)===117){const i=yS(n,t+8);if(vS(i))return{value:String.fromCodePoint(r,i),size:12}}throw Zt(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+6)}".`)}function yS(e,t){return lo(e.charCodeAt(t))<<12|lo(e.charCodeAt(t+1))<<8|lo(e.charCodeAt(t+2))<<4|lo(e.charCodeAt(t+3))}function lo(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function fM(e,t){const n=e.source.body;switch(n.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw Zt(e.source,t,`Invalid character escape sequence: "${n.slice(t,t+2)}".`)}function hM(e,t){const n=e.source.body,r=n.length;let i=e.lineStart,a=t+3,s=a,l="";const o=[];for(;a<r;){const u=n.charCodeAt(a);if(u===34&&n.charCodeAt(a+1)===34&&n.charCodeAt(a+2)===34){l+=n.slice(s,a),o.push(l);const d=It(e,se.BLOCK_STRING,t,a+3,tM(o).join(`
`));return e.line+=o.length-1,e.lineStart=i,d}if(u===92&&n.charCodeAt(a+1)===34&&n.charCodeAt(a+2)===34&&n.charCodeAt(a+3)===34){l+=n.slice(s,a),s=a+1,a+=4;continue}if(u===10||u===13){l+=n.slice(s,a),o.push(l),u===13&&n.charCodeAt(a+1)===10?a+=2:++a,l="",s=a,i=a;continue}if(Ns(u))++a;else if(Du(n,a))a+=2;else throw Zt(e.source,a,`Invalid character within String: ${pa(e,a)}.`)}throw Zt(e.source,a,"Unterminated string.")}function mM(e,t){const n=e.source.body,r=n.length;let i=t+1;for(;i<r;){const a=n.charCodeAt(i);if(eM(a))++i;else break}return It(e,se.NAME,t,i,n.slice(t,i))}const pM=10,bS=2;function km(e){return Tu(e,[])}function Tu(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return gM(e,t);default:return String(e)}}function gM(e,t){if(e===null)return"null";if(t.includes(e))return"[Circular]";const n=[...t,e];if(vM(e)){const r=e.toJSON();if(r!==e)return typeof r=="string"?r:Tu(r,n)}else if(Array.isArray(e))return bM(e,n);return yM(e,n)}function vM(e){return typeof e.toJSON=="function"}function yM(e,t){const n=Object.entries(e);return n.length===0?"{}":t.length>bS?"["+wM(e)+"]":"{ "+n.map(([i,a])=>i+": "+Tu(a,t)).join(", ")+" }"}function bM(e,t){if(e.length===0)return"[]";if(t.length>bS)return"[Array]";const n=Math.min(pM,e.length),r=e.length-n,i=[];for(let a=0;a<n;++a)i.push(Tu(e[a],t));return r===1?i.push("... 1 more item"):r>1&&i.push(`... ${r} more items`),"["+i.join(", ")+"]"}function wM(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof e.constructor=="function"){const n=e.constructor.name;if(typeof n=="string"&&n!=="")return n}return t}const SM=globalThis.process&&!0?function(t,n){return t instanceof n}:function(t,n){if(t instanceof n)return!0;if(typeof t=="object"&&t!==null){var r;const i=n.prototype[Symbol.toStringTag],a=Symbol.toStringTag in t?t[Symbol.toStringTag]:(r=t.constructor)===null||r===void 0?void 0:r.name;if(i===a){const s=km(t);throw new Error(`Cannot use ${i} "${s}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class wS{constructor(t,n="GraphQL request",r={line:1,column:1}){typeof t=="string"||Eu(!1,`Body must be a string. Received: ${km(t)}.`),this.body=t,this.name=n,this.locationOffset=r,this.locationOffset.line>0||Eu(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Eu(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function xM(e){return SM(e,wS)}function NM(e,t){const n=new EM(e,t),r=n.parseDocument();return Object.defineProperty(r,"tokenCount",{enumerable:!1,value:n.tokenCount}),r}class EM{constructor(t,n={}){const r=xM(t)?t:new wS(t);this._lexer=new iM(r),this._options=n,this._tokenCounter=0}get tokenCount(){return this._tokenCounter}parseName(){const t=this.expectToken(se.NAME);return this.node(t,{kind:Se.NAME,value:t.value})}parseDocument(){return this.node(this._lexer.token,{kind:Se.DOCUMENT,definitions:this.many(se.SOF,this.parseDefinition,se.EOF)})}parseDefinition(){if(this.peek(se.BRACE_L))return this.parseOperationDefinition();const t=this.peekDescription(),n=t?this._lexer.lookahead():this._lexer.token;if(n.kind===se.NAME){switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(t)throw Zt(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(n.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(n)}parseOperationDefinition(){const t=this._lexer.token;if(this.peek(se.BRACE_L))return this.node(t,{kind:Se.OPERATION_DEFINITION,operation:cr.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const n=this.parseOperationType();let r;return this.peek(se.NAME)&&(r=this.parseName()),this.node(t,{kind:Se.OPERATION_DEFINITION,operation:n,name:r,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const t=this.expectToken(se.NAME);switch(t.value){case"query":return cr.QUERY;case"mutation":return cr.MUTATION;case"subscription":return cr.SUBSCRIPTION}throw this.unexpected(t)}parseVariableDefinitions(){return this.optionalMany(se.PAREN_L,this.parseVariableDefinition,se.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:Se.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(se.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(se.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const t=this._lexer.token;return this.expectToken(se.DOLLAR),this.node(t,{kind:Se.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:Se.SELECTION_SET,selections:this.many(se.BRACE_L,this.parseSelection,se.BRACE_R)})}parseSelection(){return this.peek(se.SPREAD)?this.parseFragment():this.parseField()}parseField(){const t=this._lexer.token,n=this.parseName();let r,i;return this.expectOptionalToken(se.COLON)?(r=n,i=this.parseName()):i=n,this.node(t,{kind:Se.FIELD,alias:r,name:i,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(se.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(t){const n=t?this.parseConstArgument:this.parseArgument;return this.optionalMany(se.PAREN_L,n,se.PAREN_R)}parseArgument(t=!1){const n=this._lexer.token,r=this.parseName();return this.expectToken(se.COLON),this.node(n,{kind:Se.ARGUMENT,name:r,value:this.parseValueLiteral(t)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const t=this._lexer.token;this.expectToken(se.SPREAD);const n=this.expectOptionalKeyword("on");return!n&&this.peek(se.NAME)?this.node(t,{kind:Se.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(t,{kind:Se.INLINE_FRAGMENT,typeCondition:n?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const t=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(t,{kind:Se.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(t,{kind:Se.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(t){const n=this._lexer.token;switch(n.kind){case se.BRACKET_L:return this.parseList(t);case se.BRACE_L:return this.parseObject(t);case se.INT:return this.advanceLexer(),this.node(n,{kind:Se.INT,value:n.value});case se.FLOAT:return this.advanceLexer(),this.node(n,{kind:Se.FLOAT,value:n.value});case se.STRING:case se.BLOCK_STRING:return this.parseStringLiteral();case se.NAME:switch(this.advanceLexer(),n.value){case"true":return this.node(n,{kind:Se.BOOLEAN,value:!0});case"false":return this.node(n,{kind:Se.BOOLEAN,value:!1});case"null":return this.node(n,{kind:Se.NULL});default:return this.node(n,{kind:Se.ENUM,value:n.value})}case se.DOLLAR:if(t)if(this.expectToken(se.DOLLAR),this._lexer.token.kind===se.NAME){const r=this._lexer.token.value;throw Zt(this._lexer.source,n.start,`Unexpected variable "$${r}" in constant value.`)}else throw this.unexpected(n);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const t=this._lexer.token;return this.advanceLexer(),this.node(t,{kind:Se.STRING,value:t.value,block:t.kind===se.BLOCK_STRING})}parseList(t){const n=()=>this.parseValueLiteral(t);return this.node(this._lexer.token,{kind:Se.LIST,values:this.any(se.BRACKET_L,n,se.BRACKET_R)})}parseObject(t){const n=()=>this.parseObjectField(t);return this.node(this._lexer.token,{kind:Se.OBJECT,fields:this.any(se.BRACE_L,n,se.BRACE_R)})}parseObjectField(t){const n=this._lexer.token,r=this.parseName();return this.expectToken(se.COLON),this.node(n,{kind:Se.OBJECT_FIELD,name:r,value:this.parseValueLiteral(t)})}parseDirectives(t){const n=[];for(;this.peek(se.AT);)n.push(this.parseDirective(t));return n}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(t){const n=this._lexer.token;return this.expectToken(se.AT),this.node(n,{kind:Se.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(t)})}parseTypeReference(){const t=this._lexer.token;let n;if(this.expectOptionalToken(se.BRACKET_L)){const r=this.parseTypeReference();this.expectToken(se.BRACKET_R),n=this.node(t,{kind:Se.LIST_TYPE,type:r})}else n=this.parseNamedType();return this.expectOptionalToken(se.BANG)?this.node(t,{kind:Se.NON_NULL_TYPE,type:n}):n}parseNamedType(){return this.node(this._lexer.token,{kind:Se.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(se.STRING)||this.peek(se.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("schema");const r=this.parseConstDirectives(),i=this.many(se.BRACE_L,this.parseOperationTypeDefinition,se.BRACE_R);return this.node(t,{kind:Se.SCHEMA_DEFINITION,description:n,directives:r,operationTypes:i})}parseOperationTypeDefinition(){const t=this._lexer.token,n=this.parseOperationType();this.expectToken(se.COLON);const r=this.parseNamedType();return this.node(t,{kind:Se.OPERATION_TYPE_DEFINITION,operation:n,type:r})}parseScalarTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("scalar");const r=this.parseName(),i=this.parseConstDirectives();return this.node(t,{kind:Se.SCALAR_TYPE_DEFINITION,description:n,name:r,directives:i})}parseObjectTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("type");const r=this.parseName(),i=this.parseImplementsInterfaces(),a=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(t,{kind:Se.OBJECT_TYPE_DEFINITION,description:n,name:r,interfaces:i,directives:a,fields:s})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(se.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(se.BRACE_L,this.parseFieldDefinition,se.BRACE_R)}parseFieldDefinition(){const t=this._lexer.token,n=this.parseDescription(),r=this.parseName(),i=this.parseArgumentDefs();this.expectToken(se.COLON);const a=this.parseTypeReference(),s=this.parseConstDirectives();return this.node(t,{kind:Se.FIELD_DEFINITION,description:n,name:r,arguments:i,type:a,directives:s})}parseArgumentDefs(){return this.optionalMany(se.PAREN_L,this.parseInputValueDef,se.PAREN_R)}parseInputValueDef(){const t=this._lexer.token,n=this.parseDescription(),r=this.parseName();this.expectToken(se.COLON);const i=this.parseTypeReference();let a;this.expectOptionalToken(se.EQUALS)&&(a=this.parseConstValueLiteral());const s=this.parseConstDirectives();return this.node(t,{kind:Se.INPUT_VALUE_DEFINITION,description:n,name:r,type:i,defaultValue:a,directives:s})}parseInterfaceTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("interface");const r=this.parseName(),i=this.parseImplementsInterfaces(),a=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(t,{kind:Se.INTERFACE_TYPE_DEFINITION,description:n,name:r,interfaces:i,directives:a,fields:s})}parseUnionTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("union");const r=this.parseName(),i=this.parseConstDirectives(),a=this.parseUnionMemberTypes();return this.node(t,{kind:Se.UNION_TYPE_DEFINITION,description:n,name:r,directives:i,types:a})}parseUnionMemberTypes(){return this.expectOptionalToken(se.EQUALS)?this.delimitedMany(se.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("enum");const r=this.parseName(),i=this.parseConstDirectives(),a=this.parseEnumValuesDefinition();return this.node(t,{kind:Se.ENUM_TYPE_DEFINITION,description:n,name:r,directives:i,values:a})}parseEnumValuesDefinition(){return this.optionalMany(se.BRACE_L,this.parseEnumValueDefinition,se.BRACE_R)}parseEnumValueDefinition(){const t=this._lexer.token,n=this.parseDescription(),r=this.parseEnumValueName(),i=this.parseConstDirectives();return this.node(t,{kind:Se.ENUM_VALUE_DEFINITION,description:n,name:r,directives:i})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw Zt(this._lexer.source,this._lexer.token.start,`${_u(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("input");const r=this.parseName(),i=this.parseConstDirectives(),a=this.parseInputFieldsDefinition();return this.node(t,{kind:Se.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:r,directives:i,fields:a})}parseInputFieldsDefinition(){return this.optionalMany(se.BRACE_L,this.parseInputValueDef,se.BRACE_R)}parseTypeSystemExtension(){const t=this._lexer.lookahead();if(t.kind===se.NAME)switch(t.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(t)}parseSchemaExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const n=this.parseConstDirectives(),r=this.optionalMany(se.BRACE_L,this.parseOperationTypeDefinition,se.BRACE_R);if(n.length===0&&r.length===0)throw this.unexpected();return this.node(t,{kind:Se.SCHEMA_EXTENSION,directives:n,operationTypes:r})}parseScalarTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const n=this.parseName(),r=this.parseConstDirectives();if(r.length===0)throw this.unexpected();return this.node(t,{kind:Se.SCALAR_TYPE_EXTENSION,name:n,directives:r})}parseObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),a=this.parseFieldsDefinition();if(r.length===0&&i.length===0&&a.length===0)throw this.unexpected();return this.node(t,{kind:Se.OBJECT_TYPE_EXTENSION,name:n,interfaces:r,directives:i,fields:a})}parseInterfaceTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),a=this.parseFieldsDefinition();if(r.length===0&&i.length===0&&a.length===0)throw this.unexpected();return this.node(t,{kind:Se.INTERFACE_TYPE_EXTENSION,name:n,interfaces:r,directives:i,fields:a})}parseUnionTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseUnionMemberTypes();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:Se.UNION_TYPE_EXTENSION,name:n,directives:r,types:i})}parseEnumTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:Se.ENUM_TYPE_EXTENSION,name:n,directives:r,values:i})}parseInputObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:Se.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:r,fields:i})}parseDirectiveDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("directive"),this.expectToken(se.AT);const r=this.parseName(),i=this.parseArgumentDefs(),a=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const s=this.parseDirectiveLocations();return this.node(t,{kind:Se.DIRECTIVE_DEFINITION,description:n,name:r,arguments:i,repeatable:a,locations:s})}parseDirectiveLocations(){return this.delimitedMany(se.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const t=this._lexer.token,n=this.parseName();if(Object.prototype.hasOwnProperty.call(jm,n.value))return n;throw this.unexpected(t)}node(t,n){return this._options.noLocation!==!0&&(n.loc=new KA(t,this._lexer.lastToken,this._lexer.source)),n}peek(t){return this._lexer.token.kind===t}expectToken(t){const n=this._lexer.token;if(n.kind===t)return this.advanceLexer(),n;throw Zt(this._lexer.source,n.start,`Expected ${SS(t)}, found ${_u(n)}.`)}expectOptionalToken(t){return this._lexer.token.kind===t?(this.advanceLexer(),!0):!1}expectKeyword(t){const n=this._lexer.token;if(n.kind===se.NAME&&n.value===t)this.advanceLexer();else throw Zt(this._lexer.source,n.start,`Expected "${t}", found ${_u(n)}.`)}expectOptionalKeyword(t){const n=this._lexer.token;return n.kind===se.NAME&&n.value===t?(this.advanceLexer(),!0):!1}unexpected(t){const n=t??this._lexer.token;return Zt(this._lexer.source,n.start,`Unexpected ${_u(n)}.`)}any(t,n,r){this.expectToken(t);const i=[];for(;!this.expectOptionalToken(r);)i.push(n.call(this));return i}optionalMany(t,n,r){if(this.expectOptionalToken(t)){const i=[];do i.push(n.call(this));while(!this.expectOptionalToken(r));return i}return[]}many(t,n,r){this.expectToken(t);const i=[];do i.push(n.call(this));while(!this.expectOptionalToken(r));return i}delimitedMany(t,n){this.expectOptionalToken(t);const r=[];do r.push(n.call(this));while(this.expectOptionalToken(t));return r}advanceLexer(){const{maxTokens:t}=this._options,n=this._lexer.advance();if(n.kind!==se.EOF&&(++this._tokenCounter,t!==void 0&&this._tokenCounter>t))throw Zt(this._lexer.source,n.start,`Document contains more that ${t} tokens. Parsing aborted.`)}}function _u(e){const t=e.value;return SS(e.kind)+(t!=null?` "${t}"`:"")}function SS(e){return aM(e)?`"${e}"`:e}function DM(e){return`"${e.replace(TM,_M)}"`}const TM=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function _M(e){return OM[e.charCodeAt(0)]}const OM=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],Im=Object.freeze({});function Sr(e,t,n=fS){const r=new Map;for(const v of Object.values(Se))r.set(v,CM(t,v));let i,a=Array.isArray(e),s=[e],l=-1,o=[],u=e,d,m;const f=[],h=[];do{l++;const v=l===s.length,p=v&&o.length!==0;if(v){if(d=h.length===0?void 0:f[f.length-1],u=m,m=h.pop(),p)if(a){u=u.slice();let x=0;for(const[C,V]of o){const D=C-x;V===null?(u.splice(D,1),x++):u[D]=V}}else{u={...u};for(const[x,C]of o)u[x]=C}l=i.index,s=i.keys,o=i.edits,a=i.inArray,i=i.prev}else if(m){if(d=a?l:s[l],u=m[d],u==null)continue;f.push(d)}let y;if(!Array.isArray(u)){var g,w;hS(u)||Eu(!1,`Invalid AST Node: ${km(u)}.`);const x=v?(g=r.get(u.kind))===null||g===void 0?void 0:g.leave:(w=r.get(u.kind))===null||w===void 0?void 0:w.enter;if(y=x==null?void 0:x.call(t,u,d,m,f,h),y===Im)break;if(y===!1){if(!v){f.pop();continue}}else if(y!==void 0&&(o.push([d,y]),!v))if(hS(y))u=y;else{f.pop();continue}}if(y===void 0&&p&&o.push([d,u]),v)f.pop();else{var S;i={inArray:a,index:l,keys:s,edits:o,prev:i},a=Array.isArray(u),s=a?u:(S=n[u.kind])!==null&&S!==void 0?S:[],l=-1,o=[],m&&h.push(m),m=u}}while(i!==void 0);return o.length!==0?o[o.length-1][1]:e}function CM(e,t){const n=e[t];return typeof n=="object"?n:typeof n=="function"?{enter:n,leave:void 0}:{enter:e.enter,leave:e.leave}}function jM(e){return Sr(e,MM)}const AM=80,MM={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>_e(e.definitions,`

`)},OperationDefinition:{leave(e){const t=qe("(",_e(e.variableDefinitions,", "),")"),n=_e([e.operation,_e([e.name,t]),_e(e.directives," ")]," ");return(n==="query"?"":n+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:n,directives:r})=>e+": "+t+qe(" = ",n)+qe(" ",_e(r," "))},SelectionSet:{leave:({selections:e})=>ur(e)},Field:{leave({alias:e,name:t,arguments:n,directives:r,selectionSet:i}){const a=qe("",e,": ")+t;let s=a+qe("(",_e(n,", "),")");return s.length>AM&&(s=a+qe(`(
`,Ou(_e(n,`
`)),`
)`)),_e([s,_e(r," "),i]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+qe(" ",_e(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:n})=>_e(["...",qe("on ",e),_e(t," "),n]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:n,directives:r,selectionSet:i})=>`fragment ${e}${qe("(",_e(n,", "),")")} on ${t} ${qe("",_e(r," ")," ")}`+i},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?rM(e):DM(e)},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+_e(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+_e(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+qe("(",_e(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:n})=>qe("",e,`
`)+_e(["schema",_e(t," "),ur(n)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:n})=>qe("",e,`
`)+_e(["scalar",t,_e(n," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:i})=>qe("",e,`
`)+_e(["type",t,qe("implements ",_e(n," & ")),_e(r," "),ur(i)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:n,type:r,directives:i})=>qe("",e,`
`)+t+(xS(n)?qe(`(
`,Ou(_e(n,`
`)),`
)`):qe("(",_e(n,", "),")"))+": "+r+qe(" ",_e(i," "))},InputValueDefinition:{leave:({description:e,name:t,type:n,defaultValue:r,directives:i})=>qe("",e,`
`)+_e([t+": "+n,qe("= ",r),_e(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:i})=>qe("",e,`
`)+_e(["interface",t,qe("implements ",_e(n," & ")),_e(r," "),ur(i)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:n,types:r})=>qe("",e,`
`)+_e(["union",t,_e(n," "),qe("= ",_e(r," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:n,values:r})=>qe("",e,`
`)+_e(["enum",t,_e(n," "),ur(r)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:n})=>qe("",e,`
`)+_e([t,_e(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:n,fields:r})=>qe("",e,`
`)+_e(["input",t,_e(n," "),ur(r)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:n,repeatable:r,locations:i})=>qe("",e,`
`)+"directive @"+t+(xS(n)?qe(`(
`,Ou(_e(n,`
`)),`
)`):qe("(",_e(n,", "),")"))+(r?" repeatable":"")+" on "+_e(i," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>_e(["extend schema",_e(e," "),ur(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>_e(["extend scalar",e,_e(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>_e(["extend type",e,qe("implements ",_e(t," & ")),_e(n," "),ur(r)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>_e(["extend interface",e,qe("implements ",_e(t," & ")),_e(n," "),ur(r)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:n})=>_e(["extend union",e,_e(t," "),qe("= ",_e(n," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:n})=>_e(["extend enum",e,_e(t," "),ur(n)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:n})=>_e(["extend input",e,_e(t," "),ur(n)]," ")}};function _e(e,t=""){var n;return(n=e==null?void 0:e.filter(r=>r).join(t))!==null&&n!==void 0?n:""}function ur(e){return qe(`{
`,Ou(_e(e,`
`)),`
}`)}function qe(e,t,n=""){return t!=null&&t!==""?e+t+n:""}function Ou(e){return qe("  ",e.replace(/\n/g,`
  `))}function xS(e){var t;return(t=e==null?void 0:e.some(n=>n.includes(`
`)))!==null&&t!==void 0?t:!1}var Rm=function(e,t){return Rm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Rm(e,t)};function ga(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Rm(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Cu=function(){return Cu=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Cu.apply(this,arguments)};function kM(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function l(d){try{u(r.next(d))}catch(m){s(m)}}function o(d){try{u(r.throw(d))}catch(m){s(m)}}function u(d){d.done?a(d.value):i(d.value).then(l,o)}u((r=r.apply(e,t||[])).next())})}function NS(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=l(0),s.throw=l(1),s.return=l(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(u){return function(d){return o([u,d])}}function o(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Es(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ju(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a}function Au(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function Ds(e){return this instanceof Ds?(this.v=e,this):new Ds(e)}function IM(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(g){return Promise.resolve(g).then(h,m)}}function l(h,g){r[h]&&(i[h]=function(w){return new Promise(function(S,v){a.push([h,w,S,v])>1||o(h,w)})},g&&(i[h]=g(i[h])))}function o(h,g){try{u(r[h](g))}catch(w){f(a[0][3],w)}}function u(h){h.value instanceof Ds?Promise.resolve(h.value.v).then(d,m):f(a[0][2],h)}function d(h){o("next",h)}function m(h){o("throw",h)}function f(h,g){h(g),a.shift(),a.length&&o(a[0][0],a[0][1])}}function RM(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Es=="function"?Es(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(s){return new Promise(function(l,o){s=e[a](s),i(l,o,s.done,s.value)})}}function i(a,s,l,o){Promise.resolve(o).then(function(u){a({value:u,done:l})},s)}}typeof SuppressedError=="function"&&SuppressedError;function St(e){return typeof e=="function"}function zm(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Lm=zm(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function Um(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Mu=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,i,a;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var l=Es(s),o=l.next();!o.done;o=l.next()){var u=o.value;u.remove(this)}}catch(w){t={error:w}}finally{try{o&&!o.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}else s.remove(this);var d=this.initialTeardown;if(St(d))try{d()}catch(w){a=w instanceof Lm?w.errors:[w]}var m=this._finalizers;if(m){this._finalizers=null;try{for(var f=Es(m),h=f.next();!h.done;h=f.next()){var g=h.value;try{TS(g)}catch(w){a=a??[],w instanceof Lm?a=Au(Au([],ju(a)),ju(w.errors)):a.push(w)}}}catch(w){r={error:w}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}}if(a)throw new Lm(a)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)TS(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&Um(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&Um(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),ES=Mu.EMPTY;function DS(e){return e instanceof Mu||e&&"closed"in e&&St(e.remove)&&St(e.add)&&St(e.unsubscribe)}function TS(e){St(e)?e():e.unsubscribe()}var zM={Promise:void 0},LM={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Au([e,t],ju(n)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function _S(e){LM.setTimeout(function(){throw e})}function OS(){}function ku(e){e()}var $m=function(e){ga(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,DS(n)&&n.add(r)):r.destination=PM,r}return t.create=function(n,r,i){return new oo(n,r,i)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Mu),UM=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){Iu(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){Iu(r)}else Iu(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){Iu(n)}},e}(),oo=function(e){ga(t,e);function t(n,r,i){var a=e.call(this)||this,s;return St(n)||!n?s={next:n??void 0,error:r??void 0,complete:i??void 0}:s=n,a.destination=new UM(s),a}return t}($m);function Iu(e){_S(e)}function $M(e){throw e}var PM={closed:!0,next:OS,error:$M,complete:OS},Pm=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Fm(e){return e}function FM(e){return e.length===0?Fm:e.length===1?e[0]:function(n){return e.reduce(function(r,i){return i(r)},n)}}var xt=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var i=this,a=VM(t)?t:new oo(t,n,r);return ku(function(){var s=i,l=s.operator,o=s.source;a.add(l?l.call(a,o):o?i._subscribe(a):i._trySubscribe(a))}),a},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=CS(n),new n(function(i,a){var s=new oo({next:function(l){try{t(l)}catch(o){a(o),s.unsubscribe()}},error:a,complete:i});r.subscribe(s)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[Pm]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return FM(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=CS(t),new t(function(r,i){var a;n.subscribe(function(s){return a=s},function(s){return i(s)},function(){return r(a)})})},e.create=function(t){return new e(t)},e}();function CS(e){var t;return(t=e??zM.Promise)!==null&&t!==void 0?t:Promise}function BM(e){return e&&St(e.next)&&St(e.error)&&St(e.complete)}function VM(e){return e&&e instanceof $m||BM(e)&&DS(e)}function qM(e){return St(e==null?void 0:e.lift)}function xr(e){return function(t){if(qM(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ai(e,t,n,r,i){return new HM(e,t,n,r,i)}var HM=function(e){ga(t,e);function t(n,r,i,a,s,l){var o=e.call(this,n)||this;return o.onFinalize=s,o.shouldUnsubscribe=l,o._next=r?function(u){try{r(u)}catch(d){n.error(d)}}:e.prototype._next,o._error=a?function(u){try{a(u)}catch(d){n.error(d)}finally{this.unsubscribe()}}:e.prototype._error,o._complete=i?function(){try{i()}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,o}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}($m),YM=zm(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Ts=function(e){ga(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new jS(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new YM},t.prototype.next=function(n){var r=this;ku(function(){var i,a;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var s=Es(r.currentObservers),l=s.next();!l.done;l=s.next()){var o=l.value;o.next(n)}}catch(u){i={error:u}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}}})},t.prototype.error=function(n){var r=this;ku(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},t.prototype.complete=function(){var n=this;ku(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,i=this,a=i.hasError,s=i.isStopped,l=i.observers;return a||s?ES:(this.currentObservers=null,l.push(n),new Mu(function(){r.currentObservers=null,Um(l,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,a=r.thrownError,s=r.isStopped;i?n.error(a):s&&n.complete()},t.prototype.asObservable=function(){var n=new xt;return n.source=this,n},t.create=function(n,r){return new jS(n,r)},t}(xt),jS=function(e){ga(t,e);function t(n,r){var i=e.call(this)||this;return i.destination=n,i.source=r,i}return t.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},t.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:ES},t}(Ts),ZM=function(e){ga(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,i=n.thrownError,a=n._value;if(r)throw i;return this._throwIfClosed(),a},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(Ts),AS={now:function(){return(AS.delegate||Date).now()},delegate:void 0},QM=function(e){ga(t,e);function t(n,r,i){n===void 0&&(n=1/0),r===void 0&&(r=1/0),i===void 0&&(i=AS);var a=e.call(this)||this;return a._bufferSize=n,a._windowTime=r,a._timestampProvider=i,a._buffer=[],a._infiniteTimeWindow=!0,a._infiniteTimeWindow=r===1/0,a._bufferSize=Math.max(1,n),a._windowTime=Math.max(1,r),a}return t.prototype.next=function(n){var r=this,i=r.isStopped,a=r._buffer,s=r._infiniteTimeWindow,l=r._timestampProvider,o=r._windowTime;i||(a.push(n),!s&&a.push(l.now()+o)),this._trimBuffer(),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),i=this,a=i._infiniteTimeWindow,s=i._buffer,l=s.slice(),o=0;o<l.length&&!n.closed;o+=a?1:2)n.next(l[o]);return this._checkFinalizedStatuses(n),r},t.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,i=n._timestampProvider,a=n._buffer,s=n._infiniteTimeWindow,l=(s?1:2)*r;if(r<1/0&&l<a.length&&a.splice(0,a.length-l),!s){for(var o=i.now(),u=0,d=1;d<a.length&&a[d]<=o;d+=2)u=d;u&&a.splice(0,u+1)}},t}(Ts),Ru=new xt(function(e){return e.complete()});function GM(e){return e&&St(e.schedule)}function WM(e){return e[e.length-1]}function MS(e){return GM(WM(e))?e.pop():void 0}var kS=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function IS(e){return St(e==null?void 0:e.then)}function RS(e){return St(e[Pm])}function zS(e){return Symbol.asyncIterator&&St(e==null?void 0:e[Symbol.asyncIterator])}function LS(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function XM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var US=XM();function $S(e){return St(e==null?void 0:e[US])}function PS(e){return IM(this,arguments,function(){var n,r,i,a;return NS(this,function(s){switch(s.label){case 0:n=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,Ds(n.read())];case 3:return r=s.sent(),i=r.value,a=r.done,a?[4,Ds(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,Ds(i)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function FS(e){return St(e==null?void 0:e.getReader)}function Mi(e){if(e instanceof xt)return e;if(e!=null){if(RS(e))return KM(e);if(kS(e))return JM(e);if(IS(e))return e2(e);if(zS(e))return BS(e);if($S(e))return t2(e);if(FS(e))return n2(e)}throw LS(e)}function KM(e){return new xt(function(t){var n=e[Pm]();if(St(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function JM(e){return new xt(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function e2(e){return new xt(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,_S)})}function t2(e){return new xt(function(t){var n,r;try{for(var i=Es(e),a=i.next();!a.done;a=i.next()){var s=a.value;if(t.next(s),t.closed)return}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()})}function BS(e){return new xt(function(t){r2(e,t).catch(function(n){return t.error(n)})})}function n2(e){return BS(PS(e))}function r2(e,t){var n,r,i,a;return kM(this,void 0,void 0,function(){var s,l;return NS(this,function(o){switch(o.label){case 0:o.trys.push([0,5,6,11]),n=RM(e),o.label=1;case 1:return[4,n.next()];case 2:if(r=o.sent(),!!r.done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];o.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return l=o.sent(),i={error:l},[3,11];case 6:return o.trys.push([6,,9,10]),r&&!r.done&&(a=n.return)?[4,a.call(n)]:[3,8];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function va(e,t,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var a=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(a),!i)return a}function VS(e,t){return t===void 0&&(t=0),xr(function(n,r){n.subscribe(Ai(r,function(i){return va(r,e,function(){return r.next(i)},t)},function(){return va(r,e,function(){return r.complete()},t)},function(i){return va(r,e,function(){return r.error(i)},t)}))})}function qS(e,t){return t===void 0&&(t=0),xr(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function i2(e,t){return Mi(e).pipe(qS(t),VS(t))}function a2(e,t){return Mi(e).pipe(qS(t),VS(t))}function s2(e,t){return new xt(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function l2(e,t){return new xt(function(n){var r;return va(n,t,function(){r=e[US](),va(n,t,function(){var i,a,s;try{i=r.next(),a=i.value,s=i.done}catch(l){n.error(l);return}s?n.complete():n.next(a)},0,!0)}),function(){return St(r==null?void 0:r.return)&&r.return()}})}function HS(e,t){if(!e)throw new Error("Iterable cannot be null");return new xt(function(n){va(n,t,function(){var r=e[Symbol.asyncIterator]();va(n,t,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function o2(e,t){return HS(PS(e),t)}function c2(e,t){if(e!=null){if(RS(e))return i2(e,t);if(kS(e))return s2(e,t);if(IS(e))return a2(e,t);if(zS(e))return HS(e,t);if($S(e))return l2(e,t);if(FS(e))return o2(e,t)}throw LS(e)}function ya(e,t){return t?c2(e,t):Mi(e)}function ba(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=MS(e);return ya(e,n)}function YS(e,t){var n=St(e)?e:function(){return e},r=function(i){return i.error(n())};return new xt(r)}var ZS;(function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"})(ZS||(ZS={}));var Bm=function(){function e(t,n,r){this.kind=t,this.value=n,this.error=r,this.hasValue=t==="N"}return e.prototype.observe=function(t){return u2(this,t)},e.prototype.do=function(t,n,r){var i=this,a=i.kind,s=i.value,l=i.error;return a==="N"?t==null?void 0:t(s):a==="E"?n==null?void 0:n(l):r==null?void 0:r()},e.prototype.accept=function(t,n,r){var i;return St((i=t)===null||i===void 0?void 0:i.next)?this.observe(t):this.do(t,n,r)},e.prototype.toObservable=function(){var t=this,n=t.kind,r=t.value,i=t.error,a=n==="N"?ba(r):n==="E"?YS(function(){return i}):n==="C"?Ru:0;if(!a)throw new TypeError("Unexpected notification kind "+n);return a},e.createNext=function(t){return new e("N",t)},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e}();function u2(e,t){var n,r,i,a=e,s=a.kind,l=a.value,o=a.error;if(typeof s!="string")throw new TypeError('Invalid notification, missing "kind"');s==="N"?(n=t.next)===null||n===void 0||n.call(t,l):s==="E"?(r=t.error)===null||r===void 0||r.call(t,o):(i=t.complete)===null||i===void 0||i.call(t)}var d2=zm(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function f2(e,t){var n=typeof t=="object";return new Promise(function(r,i){var a=!1,s;e.subscribe({next:function(l){s=l,a=!0},error:i,complete:function(){a?r(s):n?r(t.defaultValue):i(new d2)}})})}function wa(e,t){return xr(function(n,r){var i=0;n.subscribe(Ai(r,function(a){r.next(e.call(t,a,i++))}))})}function h2(e,t,n,r,i,a,s,l){var o=[],u=0,d=0,m=!1,f=function(){m&&!o.length&&!u&&t.complete()},h=function(w){return u<r?g(w):o.push(w)},g=function(w){u++;var S=!1;Mi(n(w,d++)).subscribe(Ai(t,function(v){t.next(v)},function(){S=!0},void 0,function(){if(S)try{u--;for(var v=function(){var p=o.shift();s||g(p)};o.length&&u<r;)v();f()}catch(p){t.error(p)}}))};return e.subscribe(Ai(t,h,function(){m=!0,f()})),function(){}}function _s(e,t,n){return n===void 0&&(n=1/0),St(t)?_s(function(r,i){return wa(function(a,s){return t(r,a,i,s)})(Mi(e(r,i)))},n):(typeof t=="number"&&(n=t),xr(function(r,i){return h2(r,i,e,n)}))}function m2(e){return _s(Fm,e)}function p2(){return m2(1)}function Vm(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return p2()(ya(e,MS(e)))}function g2(e,t){return xr(function(n,r){var i=0;n.subscribe(Ai(r,function(a){return e.call(t,a,i++)&&r.next(a)}))})}function zu(e){return xr(function(t,n){var r=null,i=!1,a;r=t.subscribe(Ai(n,void 0,void 0,function(s){a=Mi(e(s,zu(e)(t))),r?(r.unsubscribe(),r=null,a.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(n))})}function v2(e){return xr(function(t,n){try{t.subscribe(n)}finally{n.add(e)}})}function y2(){return xr(function(e,t){e.subscribe(Ai(t,function(n){t.next(Bm.createNext(n))},function(){t.next(Bm.createComplete()),t.complete()},function(n){t.next(Bm.createError(n)),t.complete()}))})}function Lu(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new Ts}:t,r=e.resetOnError,i=r===void 0?!0:r,a=e.resetOnComplete,s=a===void 0?!0:a,l=e.resetOnRefCountZero,o=l===void 0?!0:l;return function(u){var d,m,f,h=0,g=!1,w=!1,S=function(){m==null||m.unsubscribe(),m=void 0},v=function(){S(),d=f=void 0,g=w=!1},p=function(){var y=d;v(),y==null||y.unsubscribe()};return xr(function(y,x){h++,!w&&!g&&S();var C=f=f??n();x.add(function(){h--,h===0&&!w&&!g&&(m=qm(p,o))}),C.subscribe(x),!d&&h>0&&(d=new oo({next:function(V){return C.next(V)},error:function(V){w=!0,S(),m=qm(v,i,V),C.error(V)},complete:function(){g=!0,S(),m=qm(v,s),C.complete()}}),Mi(y).subscribe(d))})(u)}}function qm(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var i=new oo({next:function(){i.unsubscribe(),e()}});return Mi(t.apply(void 0,Au([],ju(n)))).subscribe(i)}}function b2(e,t,n){var r,i,a,s,l=!1;return e&&typeof e=="object"?(r=e.bufferSize,s=r===void 0?1/0:r,i=e.windowTime,t=i===void 0?1/0:i,a=e.refCount,l=a===void 0?!1:a,n=e.scheduler):s=e??1/0,Lu({connector:function(){return new QM(s,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}function Uu(e,t,n){var r=St(e)||t||n?{next:e,error:t,complete:n}:e;return r?xr(function(i,a){var s;(s=r.subscribe)===null||s===void 0||s.call(r);var l=!0;i.subscribe(Ai(a,function(o){var u;(u=r.next)===null||u===void 0||u.call(r,o),a.next(o)},function(){var o;l=!1,(o=r.complete)===null||o===void 0||o.call(r),a.complete()},function(o){var u;l=!1,(u=r.error)===null||u===void 0||u.call(r,o),a.error(o)},function(){var o,u;l&&((o=r.unsubscribe)===null||o===void 0||o.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Fm}const w2=!1;function ki(e){try{return e()}catch{}}const Hm=ki(()=>globalThis)||ki(()=>window)||ki(()=>self)||ki(()=>global)||ki(function(){return ki.constructor("return this")()}),Ym="4.0.8",QS=new Map;function GS(e){const t=QS.get(e)||1;return QS.set(e,t+1),`${e}:${t}:${Math.random().toString(36).slice(2)}`}function S2(e,t=0){const n=GS("stringifyForDisplay");return JSON.stringify(e,(r,i)=>i===void 0?n:i,t).split(JSON.stringify(n)).join("<undefined>")}const WS="Invariant Violation";class Zm extends Error{constructor(t=WS){super(t),this.name=WS,Object.setPrototypeOf(this,Zm.prototype)}}const XS=["debug","log","warn","error","silent"];let x2=XS.indexOf("silent");function Ye(e,...t){if(!e)throw Kn(...t)}function $u(e){return function(t,...n){if(XS.indexOf(e)>=x2){const r=console[e]||console.log;if(typeof t=="number"){const i=t;t=JS(i),t||(t=ex(i,n),n=[])}r(t,...n)}}}Ye.debug=$u("debug"),Ye.log=$u("log"),Ye.warn=$u("warn"),Ye.error=$u("error");function Kn(e,...t){return new Zm(JS(e,t)||ex(e,t))}const KS=Symbol.for("ApolloErrorMessageHandler_"+Ym);function Qm(e){if(typeof e=="string")return e;try{return S2(e,2).slice(0,1e3)}catch{return"<non-serializable>"}}function JS(e,t=[]){if(e)return Hm[KS]&&Hm[KS](e,t.map(Qm))}function ex(e,t=[]){if(e)return typeof e=="string"?t.reduce((n,r)=>n.replace(/%[sdfo]/,Qm(r)),e):`An error occurred! For more details, see the full error text at https://go.apollo.dev/c/err#${encodeURIComponent(JSON.stringify({version:Ym,message:e,args:t.map(Qm)}))}`}function Os(e,t,n,r){if(n.kind===Se.INT||n.kind===Se.FLOAT)e[t.value]=Number(n.value);else if(n.kind===Se.BOOLEAN||n.kind===Se.STRING)e[t.value]=n.value;else if(n.kind===Se.OBJECT){const i={};n.fields.map(a=>Os(i,a.name,a.value,r)),e[t.value]=i}else if(n.kind===Se.VARIABLE){const i=(r||{})[n.name.value];e[t.value]=i}else if(n.kind===Se.LIST)e[t.value]=n.values.map(i=>{const a={};return Os(a,t,i,r),a[t.value]});else if(n.kind===Se.ENUM)e[t.value]=n.value;else if(n.kind===Se.NULL)e[t.value]=null;else throw Kn(19,t.value,n.kind)}function Gm(e,t){if(e.arguments&&e.arguments.length){const n={};return e.arguments.forEach(({name:r,value:i})=>Os(n,r,i,t)),n}return null}function N2(){}class Wm{constructor(t=1/0,n=N2){this.max=t,this.dispose=n,this.map=new Map,this.newest=null,this.oldest=null}has(t){return this.map.has(t)}get(t){const n=this.getNode(t);return n&&n.value}get size(){return this.map.size}getNode(t){const n=this.map.get(t);if(n&&n!==this.newest){const{older:r,newer:i}=n;i&&(i.older=r),r&&(r.newer=i),n.older=this.newest,n.older.newer=n,n.newer=null,this.newest=n,n===this.oldest&&(this.oldest=i)}return n}set(t,n){let r=this.getNode(t);return r?r.value=n:(r={key:t,value:n,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.map.set(t,r),r.value)}clean(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)}delete(t){const n=this.map.get(t);return n?(n===this.newest&&(this.newest=n.older),n===this.oldest&&(this.oldest=n.newer),n.newer&&(n.newer.older=n.older),n.older&&(n.older.newer=n.newer),this.map.delete(t),this.dispose(n.value,t),!0):!1}}function Xm(){}const E2=Xm,D2=typeof WeakRef<"u"?WeakRef:function(e){return{deref:()=>e}},T2=typeof WeakMap<"u"?WeakMap:Map,_2=typeof FinalizationRegistry<"u"?FinalizationRegistry:function(){return{register:Xm,unregister:Xm}},O2=10024;class co{constructor(t=1/0,n=E2){this.max=t,this.dispose=n,this.map=new T2,this.newest=null,this.oldest=null,this.unfinalizedNodes=new Set,this.finalizationScheduled=!1,this.size=0,this.finalize=()=>{const r=this.unfinalizedNodes.values();for(let i=0;i<O2;i++){const a=r.next().value;if(!a)break;this.unfinalizedNodes.delete(a);const s=a.key;delete a.key,a.keyRef=new D2(s),this.registry.register(s,a,a)}this.unfinalizedNodes.size>0?queueMicrotask(this.finalize):this.finalizationScheduled=!1},this.registry=new _2(this.deleteNode.bind(this))}has(t){return this.map.has(t)}get(t){const n=this.getNode(t);return n&&n.value}getNode(t){const n=this.map.get(t);if(n&&n!==this.newest){const{older:r,newer:i}=n;i&&(i.older=r),r&&(r.newer=i),n.older=this.newest,n.older.newer=n,n.newer=null,this.newest=n,n===this.oldest&&(this.oldest=i)}return n}set(t,n){let r=this.getNode(t);return r?r.value=n:(r={key:t,value:n,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.scheduleFinalization(r),this.map.set(t,r),this.size++,r.value)}clean(){for(;this.oldest&&this.size>this.max;)this.deleteNode(this.oldest)}deleteNode(t){t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.size--;const n=t.key||t.keyRef&&t.keyRef.deref();this.dispose(t.value,n),t.keyRef?this.registry.unregister(t):this.unfinalizedNodes.delete(t),n&&this.map.delete(n)}delete(t){const n=this.map.get(t);return n?(this.deleteNode(n),!0):!1}scheduleFinalization(t){this.unfinalizedNodes.add(t),this.finalizationScheduled||(this.finalizationScheduled=!0,queueMicrotask(this.finalize))}}const C2=()=>Object.create(null),{forEach:j2,slice:tx}=Array.prototype,{hasOwnProperty:A2}=Object.prototype;class Ii{constructor(t=!0,n=C2){this.weakness=t,this.makeData=n}lookup(){return this.lookupArray(arguments)}lookupArray(t){let n=this;return j2.call(t,r=>n=n.getChildTrie(r)),A2.call(n,"data")?n.data:n.data=this.makeData(tx.call(t))}peek(){return this.peekArray(arguments)}peekArray(t){let n=this;for(let r=0,i=t.length;n&&r<i;++r){const a=n.mapFor(t[r],!1);n=a&&a.get(t[r])}return n&&n.data}remove(){return this.removeArray(arguments)}removeArray(t){let n;if(t.length){const r=t[0],i=this.mapFor(r,!1),a=i&&i.get(r);a&&(n=a.removeArray(tx.call(t,1)),!a.data&&!a.weak&&!(a.strong&&a.strong.size)&&i.delete(r))}else n=this.data,delete this.data;return n}getChildTrie(t){const n=this.mapFor(t,!0);let r=n.get(t);return r||n.set(t,r=new Ii(this.weakness,this.makeData)),r}mapFor(t,n){return this.weakness&&M2(t)?this.weak||(n?this.weak=new WeakMap:void 0):this.strong||(n?this.strong=new Map:void 0)}}function M2(e){switch(typeof e){case"object":if(e===null)break;case"function":return!0}return!1}let en=null;const nx={};let k2=1;const I2=()=>class{constructor(){this.id=["slot",k2++,Date.now(),Math.random().toString(36).slice(2)].join(":")}hasValue(){for(let t=en;t;t=t.parent)if(this.id in t.slots){const n=t.slots[this.id];if(n===nx)break;return t!==en&&(en.slots[this.id]=n),!0}return en&&(en.slots[this.id]=nx),!1}getValue(){if(this.hasValue())return en.slots[this.id]}withValue(t,n,r,i){const a={__proto__:null,[this.id]:t},s=en;en={parent:s,slots:a};try{return n.apply(i,r)}finally{en=s}}static bind(t){const n=en;return function(){const r=en;try{return en=n,t.apply(this,arguments)}finally{en=r}}}static noContext(t,n,r){if(en){const i=en;try{return en=null,t.apply(r,n)}finally{en=i}}else return t.apply(r,n)}};function rx(e){try{return e()}catch{}}const Km="@wry/context:Slot",ix=rx(()=>globalThis)||rx(()=>global)||Object.create(null),Pu=ix[Km]||Array[Km]||function(e){try{Object.defineProperty(ix,Km,{value:e,enumerable:!1,writable:!1,configurable:!0})}finally{return e}}(I2()),{bind:iz,noContext:az}=Pu,Fu=new Pu,{hasOwnProperty:R2}=Object.prototype,Jm=Array.from||function(e){const t=[];return e.forEach(n=>t.push(n)),t};function ep(e){const{unsubscribe:t}=e;typeof t=="function"&&(e.unsubscribe=void 0,t())}const uo=[],z2=100;function Cs(e,t){if(!e)throw new Error(t||"assertion failure")}function ax(e,t){const n=e.length;return n>0&&n===t.length&&e[n-1]===t[n-1]}function sx(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}function lx(e){return e.slice(0)}class Bu{constructor(t){this.fn=t,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++Bu.count}peek(){if(this.value.length===1&&!Ri(this))return ox(this),this.value[0]}recompute(t){return Cs(!this.recomputing,"already recomputing"),ox(this),Ri(this)?L2(this,t):sx(this.value)}setDirty(){this.dirty||(this.dirty=!0,cx(this),ep(this))}dispose(){this.setDirty(),mx(this),tp(this,(t,n)=>{t.setDirty(),px(t,this)})}forget(){this.dispose()}dependOn(t){t.add(this),this.deps||(this.deps=uo.pop()||new Set),this.deps.add(t)}forgetDeps(){this.deps&&(Jm(this.deps).forEach(t=>t.delete(this)),this.deps.clear(),uo.push(this.deps),this.deps=null)}}Bu.count=0;function ox(e){const t=Fu.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),Ri(e)?dx(t,e):fx(t,e),t}function L2(e,t){return mx(e),Fu.withValue(e,U2,[e,t]),P2(e,t)&&$2(e),sx(e.value)}function U2(e,t){e.recomputing=!0;const{normalizeResult:n}=e;let r;n&&e.value.length===1&&(r=lx(e.value)),e.value.length=0;try{if(e.value[0]=e.fn.apply(null,t),n&&r&&!ax(r,e.value))try{e.value[0]=n(e.value[0],r[0])}catch{}}catch(i){e.value[1]=i}e.recomputing=!1}function Ri(e){return e.dirty||!!(e.dirtyChildren&&e.dirtyChildren.size)}function $2(e){e.dirty=!1,!Ri(e)&&ux(e)}function cx(e){tp(e,dx)}function ux(e){tp(e,fx)}function tp(e,t){const n=e.parents.size;if(n){const r=Jm(e.parents);for(let i=0;i<n;++i)t(r[i],e)}}function dx(e,t){Cs(e.childValues.has(t)),Cs(Ri(t));const n=!Ri(e);if(!e.dirtyChildren)e.dirtyChildren=uo.pop()||new Set;else if(e.dirtyChildren.has(t))return;e.dirtyChildren.add(t),n&&cx(e)}function fx(e,t){Cs(e.childValues.has(t)),Cs(!Ri(t));const n=e.childValues.get(t);n.length===0?e.childValues.set(t,lx(t.value)):ax(n,t.value)||e.setDirty(),hx(e,t),!Ri(e)&&ux(e)}function hx(e,t){const n=e.dirtyChildren;n&&(n.delete(t),n.size===0&&(uo.length<z2&&uo.push(n),e.dirtyChildren=null))}function mx(e){e.childValues.size>0&&e.childValues.forEach((t,n)=>{px(e,n)}),e.forgetDeps(),Cs(e.dirtyChildren===null)}function px(e,t){t.parents.delete(e),e.childValues.delete(t),hx(e,t)}function P2(e,t){if(typeof e.subscribe=="function")try{ep(e),e.unsubscribe=e.subscribe.apply(null,t)}catch{return e.setDirty(),!1}return!0}const F2={setDirty:!0,dispose:!0,forget:!0};function gx(e){const t=new Map;function n(r){const i=Fu.getValue();if(i){let a=t.get(r);a||t.set(r,a=new Set),i.dependOn(a)}}return n.dirty=function(i,a){const s=t.get(i);if(s){const l=a&&R2.call(F2,a)?a:"setDirty";Jm(s).forEach(o=>o[l]()),t.delete(i),ep(s)}},n}let vx;function B2(...e){return(vx||(vx=new Ii(typeof WeakMap=="function"))).lookupArray(e)}const np=new Set;function js(e,{max:t=Math.pow(2,16),keyArgs:n,makeCacheKey:r=B2,normalizeResult:i,subscribe:a,cache:s=Wm}=Object.create(null)){const l=typeof s=="function"?new s(t,f=>f.dispose()):s,o=function(){const f=r.apply(null,n?n.apply(null,arguments):arguments);if(f===void 0)return e.apply(null,arguments);let h=l.get(f);h||(l.set(f,h=new Bu(e)),h.normalizeResult=i,h.subscribe=a,h.forget=()=>l.delete(f));const g=h.recompute(Array.prototype.slice.call(arguments));return l.set(f,h),np.add(l),Fu.hasValue()||(np.forEach(w=>w.clean()),np.clear()),g};Object.defineProperty(o,"size",{get:()=>l.size,configurable:!1,enumerable:!1}),Object.freeze(o.options={max:t,keyArgs:n,makeCacheKey:r,normalizeResult:i,subscribe:a,cache:l});function u(f){const h=f&&l.get(f);h&&h.setDirty()}o.dirtyKey=u,o.dirty=function(){u(r.apply(null,arguments))};function d(f){const h=f&&l.get(f);if(h)return h.peek()}o.peekKey=d,o.peek=function(){return d(r.apply(null,arguments))};function m(f){return f?l.delete(f):!1}return o.forgetKey=m,o.forget=function(){return m(r.apply(null,arguments))},o.makeCacheKey=r,o.getKey=n?function(){return r.apply(null,n.apply(null,arguments))}:r,Object.freeze(o)}const V2=Symbol.for("apollo.cacheSize"),Gr={...Hm[V2]};function As(e,t){var n;return((n=e.definitions.find(r=>r.kind==="OperationDefinition"&&!!r.name))==null?void 0:n.name.value)??t}const zi=js((e,t)=>{Ye(e&&e.kind==="Document",1);const n=e.definitions.filter(r=>r.kind==="OperationDefinition");t&&Ye(n.length==1&&n[0].operation===t,4,t,t,n[0].operation),Sr(e,{Field(r,i,a,s){var l;if(r.alias&&(r.alias.value==="__typename"||r.alias.value.startsWith("__ac_"))&&r.alias.value!==r.name.value){let o=e,u=[];for(const d of s)o=o[d],o.kind===Se.FIELD&&u.push(((l=o.alias)==null?void 0:l.value)||o.name.value);throw u.splice(-1,1,r.name.value),Kn(5,r.alias.value,u.join("."),n[0].operation,As(e,"(anonymous)"))}}})},{max:Gr.checkDocument||2e3,cache:co});function Jn(...e){const t={};return e.forEach(n=>{n&&Object.keys(n).forEach(r=>{const i=n[r];i!==void 0&&(t[r]=i)})}),t}function fo(e=[]){const t={};return e.forEach(n=>{t[n.name.value]=n}),t}function wn(e){return e!==null&&typeof e=="object"}const{hasOwnProperty:q2}=Object.prototype,H2=function(e,t,n){return this.merge(e[n],t[n])};class Ms{constructor(t=H2){H(this,"reconciler");H(this,"isObject",wn);H(this,"pastCopies",new Set);this.reconciler=t}merge(t,n,...r){return wn(n)&&wn(t)?(Object.keys(n).forEach(i=>{if(q2.call(t,i)){const a=t[i];if(n[i]!==a){const s=this.reconciler(t,n,i,...r);s!==a&&(t=this.shallowCopyForMerge(t),t[i]=s)}}else t=this.shallowCopyForMerge(t),t[i]=n[i]}),t):n}shallowCopyForMerge(t){return wn(t)&&(this.pastCopies.has(t)||(Array.isArray(t)?t=t.slice(0):t={__proto__:Object.getPrototypeOf(t),...t},this.pastCopies.add(t))),t}}function rp(e){const t={},n=e&&e.variableDefinitions;return n&&n.length&&n.forEach(r=>{r.defaultValue&&Os(t,r.variable.name,r.defaultValue)}),t}function Vu(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":{const n=e.name.value;if(typeof t=="function")return t(n);const r=t&&t[n];return Ye(r,9,n),r||null}default:return null}}function Y2(e,t){let n=t;const r=[];return e.definitions.forEach(a=>{if(a.kind==="OperationDefinition")throw Kn(10,a.operation,a.name?` named '${a.name.value}'`:"");a.kind==="FragmentDefinition"&&r.push(a)}),typeof n>"u"&&(Ye(r.length===1,11,r.length),n=r[0].name.value),{...e,definitions:[{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}},...e.definitions]}}function Z2(e){Ye(e.kind==="Document",6),Ye(e.definitions.length<=1,7);const t=e.definitions[0];return Ye(t.kind==="FragmentDefinition",8),t}function ho(e){return e.definitions.filter(t=>t.kind==="FragmentDefinition")}function yx(e){zi(e);let t;for(let n of e.definitions){if(n.kind==="OperationDefinition")return n;n.kind==="FragmentDefinition"&&!t&&(t=n)}if(t)return t;throw Kn(12)}function Wr(e){return zi(e),e.definitions.filter(t=>t.kind==="OperationDefinition")[0]}function Q2(e){const t=Wr(e);return Ye(t&&t.operation==="query",13),t}const ip=new WeakSet;function bx(e){e.size<=(e.max||-1)||ip.has(e)||(ip.add(e),setTimeout(()=>{e.clean(),ip.delete(e)},100))}const wx=function(e,t){const n=new co(e,t);return n.set=function(r,i){const a=co.prototype.set.call(this,r,i);return bx(this),a},n},G2=function(e,t){const n=new Wm(e,t);return n.set=function(r,i){const a=Wm.prototype.set.call(this,r,i);return bx(this),a},n},Li=Object.assign(function(t){return JSON.stringify(t,W2)},{reset(){mo=new G2(Gr.canonicalStringify||1e3)}});let mo;Li.reset();function W2(e,t){if(t&&typeof t=="object"){const n=Object.getPrototypeOf(t);if(n===Object.prototype||n===null){const r=Object.keys(t);if(r.every(X2))return t;const i=JSON.stringify(r);let a=mo.get(i);if(!a){r.sort();const l=JSON.stringify(r);a=mo.get(l)||r,mo.set(i,a),mo.set(l,a)}const s=Object.create(n);return a.forEach(l=>{s[l]=t[l]}),s}}return t}function X2(e,t,n){return t===0||n[t-1]<=e}const K2=["connection","include","skip","client","rest","export","nonreactive"];let po=Li;const Sx=Object.assign(function(e,t,n){if(t&&n&&n.connection&&n.connection.key){if(n.connection.filter&&n.connection.filter.length>0){const i=n.connection.filter?n.connection.filter:[];i.sort();const a={};i.forEach(l=>{a[l]=t[l]});const s=po(a);if(s!=="{}")return`${n.connection.key}(${s})`}return n.connection.key}let r=e;if(t){const i=po(t);i!=="{}"&&(r+=`(${i})`)}return n&&Object.keys(n).forEach(i=>{K2.indexOf(i)===-1&&(n[i]&&Object.keys(n[i]).length?r+=`@${i}(${po(n[i])})`:r+=`@${i}`)}),r},{setStringify(e){const t=po;return po=e,t}});function ks(e){var t;return!!((t=e.errors)!=null&&t.length)}function go(e,t,n){const r=new Set(e),i=r.size;return Sr(t,{Directive(a){if(r.delete(a.name.value)&&(!n||!r.size))return Im}}),n?!r.size:r.size<i}function J2(e){let t=!1;return Sr(e,{Directive:{enter(n){if(n.name.value==="client"&&n.arguments&&(t=n.arguments.some(r=>r.name.value==="always"&&r.value.kind==="BooleanValue"&&r.value.value===!0),t))return Im}}}),t}const Bt=Array.isArray;function ek(e){return wn(e)&&e.kind==="Document"&&Array.isArray(e.definitions)}function vo(e){return e.kind==="Field"}function ap(e){return Array.isArray(e)&&e.length>0}function Is(e){return{__ref:String(e)}}function sz(e){return e}function tk(e){let t=e[0]||{};const n=e.length;if(n>1){const r=new Ms;for(let i=1;i<n;++i)t=r.merge(t,e[i])}return t}function sp(e,t){return Jn(e,t,t.variables&&{variables:Jn({...e&&e.variables,...t.variables})})}function nk(e){return e.catch(()=>{}),e}function rk(e,t){zi(t);const n=xx(""),r=xx(""),i=S=>{for(let v=0,p;v<S.length&&(p=S[v]);++v)if(!Bt(p)){if(p.kind===Se.OPERATION_DEFINITION)return n(p.name&&p.name.value);if(p.kind===Se.FRAGMENT_DEFINITION)return r(p.name.value)}return Ye.error(14),null};let a=0;for(let S=t.definitions.length-1;S>=0;--S)t.definitions[S].kind===Se.OPERATION_DEFINITION&&++a;const s=ik(e),l=S=>ap(S)&&S.map(s).some(v=>v&&v.remove),o=new Map;let u=!1;const d={enter(S){if(l(S.directives))return u=!0,null}},m=Sr(t,{Field:d,InlineFragment:d,VariableDefinition:{enter(){return!1}},Variable:{enter(S,v,p,y,x){const C=i(x);C&&C.variables.add(S.name.value)}},FragmentSpread:{enter(S,v,p,y,x){if(l(S.directives))return u=!0,null;const C=i(x);C&&C.fragmentSpreads.add(S.name.value)}},FragmentDefinition:{enter(S,v,p,y){o.set(JSON.stringify(y),S)},leave(S,v,p,y){const x=o.get(JSON.stringify(y));if(S===x)return S;if(a>0&&S.selectionSet.selections.every(C=>C.kind===Se.FIELD&&C.name.value==="__typename"))return r(S.name.value).removed=!0,u=!0,null}},Directive:{leave(S){if(s(S))return u=!0,null}}});if(!u)return t;const f=S=>(S.transitiveVars||(S.transitiveVars=new Set(S.variables),S.removed||S.fragmentSpreads.forEach(v=>{f(r(v)).transitiveVars.forEach(p=>{S.transitiveVars.add(p)})})),S),h=new Set;m.definitions.forEach(S=>{S.kind===Se.OPERATION_DEFINITION?f(n(S.name&&S.name.value)).fragmentSpreads.forEach(v=>{h.add(v)}):S.kind===Se.FRAGMENT_DEFINITION&&a===0&&!r(S.name.value).removed&&h.add(S.name.value)}),h.forEach(S=>{f(r(S)).fragmentSpreads.forEach(v=>{h.add(v)})});const g=S=>!!(!h.has(S)||r(S).removed),w={enter(S){if(g(S.name.value))return null}};return ak(Sr(m,{FragmentSpread:w,FragmentDefinition:w,OperationDefinition:{leave(S){if(S.variableDefinitions){const v=f(n(S.name&&S.name.value)).transitiveVars;if(v.size<S.variableDefinitions.length)return{...S,variableDefinitions:S.variableDefinitions.filter(p=>v.has(p.variable.name.value))}}}}}))}function xx(e){const t=new Map;return function(r=e){let i=t.get(r);return i||t.set(r,i={variables:new Set,fragmentSpreads:new Set}),i}}function ik(e){const t=new Map,n=new Map;return e.forEach(r=>{r&&(r.name?t.set(r.name,r):r.test&&n.set(r.test,r))}),r=>{let i=t.get(r.name.value);return!i&&n.size&&n.forEach((a,s)=>{s(r)&&(i=a)}),i}}function Nx(e,t){return!e||e.selectionSet.selections.every(n=>n.kind===Se.FRAGMENT_SPREAD&&Nx(t[n.name.value],t))}function ak(e){return Nx(Wr(e)||Z2(e),fo(ho(e)))?null:e}function sk(e){return Sr(e,{FragmentSpread(t){var n;if(!((n=t.directives)!=null&&n.some(({name:r})=>r.value==="unmask")))return null}})}function Rs(e){return e.alias?e.alias.value:e.name.value}function qu({directives:e},t){return!e||!e.length?!0:ok(e).every(({directive:n,ifArgument:r})=>{let i=!1;return r.value.kind==="Variable"?(i=t&&t[r.value.name.value],Ye(i!==void 0,15,n.name.value)):i=r.value.value,n.name.value==="skip"?!i:i})}function lk({name:{value:e}}){return e==="skip"||e==="include"}function ok(e){const t=[];return e&&e.length&&e.forEach(n=>{if(!lk(n))return;const r=n.arguments,i=n.name.value;Ye(r&&r.length===1,16,i);const a=r[0];Ye(a.name&&a.name.value==="if",17,i);const s=a.value;Ye(s&&(s.kind==="Variable"||s.kind==="BooleanValue"),18,i),t.push({directive:n,ifArgument:a})}),t}function ck(e,t){let n=null;e.directives&&(n={},e.directives.forEach(i=>{n[i.name.value]={},i.arguments&&i.arguments.forEach(({name:a,value:s})=>Os(n[i.name.value],a,s,t))}));let r=null;return e.arguments&&e.arguments.length&&(r={},e.arguments.forEach(({name:i,value:a})=>Os(r,i,a,t))),Sx(e.name.value,r,n)}function Hu(e){const t={data:e.data};return e.error&&(t.error=e.error),t}function lp(e,t=()=>{}){return n=>new xt(r=>{let i=t();return n.subscribe({next(a){let s;try{s=e(a,i)}catch(l){r.error(l)}s!==void 0&&r.next(s)},error(a){r.error(a)},complete(){r.complete()}})})}const{toString:Ex,hasOwnProperty:uk}=Object.prototype,Dx=Function.prototype.toString,op=new Map;function Rt(e,t){try{return cp(e,t)}finally{op.clear()}}function cp(e,t){if(e===t)return!0;const n=Ex.call(e),r=Ex.call(t);if(n!==r)return!1;switch(n){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":{if(_x(e,t))return!0;const i=Tx(e),a=Tx(t),s=i.length;if(s!==a.length)return!1;for(let l=0;l<s;++l)if(!uk.call(t,i[l]))return!1;for(let l=0;l<s;++l){const o=i[l];if(!cp(e[o],t[o]))return!1}return!0}case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!==e)return t!==t;case"[object Boolean]":case"[object Date]":return+e==+t;case"[object RegExp]":case"[object String]":return e==`${t}`;case"[object Map]":case"[object Set]":{if(e.size!==t.size)return!1;if(_x(e,t))return!0;const i=e.entries(),a=n==="[object Map]";for(;;){const s=i.next();if(s.done)break;const[l,o]=s.value;if(!t.has(l)||a&&!cp(o,t.get(l)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":e=new Uint8Array(e),t=new Uint8Array(t);case"[object DataView]":{let i=e.byteLength;if(i===t.byteLength)for(;i--&&e[i]===t[i];);return i===-1}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{const i=Dx.call(e);return i!==Dx.call(t)?!1:!hk(i,fk)}}return!1}function Tx(e){return Object.keys(e).filter(dk,e)}function dk(e){return this[e]!==void 0}const fk="{ [native code] }";function hk(e,t){const n=e.length-t.length;return n>=0&&e.indexOf(t,n)===n}function _x(e,t){let n=op.get(e);if(n){if(n.has(t))return!0}else op.set(e,n=new Set);return n.add(t),!1}function Ox(e,{data:t,...n},{data:r,...i},a){return Rt(n,i)&&Yu(yx(e).selectionSet,t,r,{fragmentMap:fo(ho(e)),variables:a})}function Yu(e,t,n,r){if(t===n)return!0;const i=new Set;return e.selections.every(a=>{if(i.has(a)||(i.add(a),!qu(a,r.variables))||Cx(a))return!0;if(vo(a)){const s=Rs(a),l=t&&t[s],o=n&&n[s],u=a.selectionSet;if(!u)return Rt(l,o);const d=Array.isArray(l),m=Array.isArray(o);if(d!==m)return!1;if(d&&m){const f=l.length;if(o.length!==f)return!1;for(let h=0;h<f;++h)if(!Yu(u,l[h],o[h],r))return!1;return!0}return Yu(u,l,o,r)}else{const s=Vu(a,r.fragmentMap);if(s)return Cx(s)?!0:Yu(s.selectionSet,t,n,r)}})}function Cx(e){return!!e.directives&&e.directives.some(mk)}function mk(e){return e.name.value==="nonreactive"}class pk{constructor(){H(this,"startRequest")}isIncrementalResult(t){return!1}prepareRequest(t){return Ye(!go(["defer"],t.query),64),t}extractErrors(){}}function gk(e,{client:t}){const n={query:e.query,variables:e.variables||{},extensions:e.extensions||{},operationName:As(e.query),operationType:Wr(e.query).operation};let r={...e.context};const i=s=>{typeof s=="function"?r={...r,...s(a())}:r={...r,...s}},a=()=>Object.freeze({...r});return Object.defineProperty(n,"setContext",{enumerable:!1,value:i}),Object.defineProperty(n,"getContext",{enumerable:!1,value:a}),Object.defineProperty(n,"client",{enumerable:!1,value:t}),n}function vk(e,t){const n={...e},r=new Set(Object.keys(e));return Sr(t,{Variable(i,a,s){s&&s.kind!=="VariableDefinition"&&r.delete(i.name.value)}}),r.forEach(i=>{delete n[i]}),n}class tn{constructor(t){H(this,"left");H(this,"right");t&&(this.request=t)}static empty(){return new tn(()=>Ru)}static from(t){if(t.length===0)return tn.empty();const[n,...r]=t;return n.concat(...r)}static split(t,n,r=new tn((i,a)=>a(i))){const i=new tn((a,s)=>t(a)?n.request(a,s):r.request(a,s));return Object.assign(i,{left:n,right:r})}static execute(t,n,r){return t.request(gk(n,r),()=>Ru)}static concat(...t){return tn.from(t)}split(t,n,r){return this.concat(tn.split(t,n,r))}concat(...t){return t.length===0?this:t.reduce(this.combine.bind(this),this)}combine(t,n){const r=new tn((i,a)=>t.request(i,s=>n.request(s,a)));return Object.assign(r,{left:t,right:n})}request(t,n){throw Kn(63)}}const yk=tn.from,up=tn.execute;function bk(e){return e}class Xr{constructor(t,n={}){H(this,"transform");H(this,"cached");H(this,"resultCache",new WeakSet);H(this,"left");H(this,"right");this.transform=t,n.getCacheKey&&(this.getCacheKey=n.getCacheKey),this.cached=n.cache!==!1,this.resetCache()}getCacheKey(t){return[t]}static identity(){return new Xr(bk,{cache:!1})}static split(t,n,r=Xr.identity()){return Object.assign(new Xr(i=>(t(i)?n:r).transformDocument(i),{cache:!1}),{left:n,right:r})}resetCache(){if(this.cached){const t=new Ii;this.performWork=js(Xr.prototype.performWork.bind(this),{makeCacheKey:n=>{const r=this.getCacheKey(n);if(r)return Ye(Array.isArray(r),20),t.lookupArray(r)},max:Gr["documentTransform.cache"],cache:co})}}performWork(t){return zi(t),this.transform(t)}transformDocument(t){if(this.resultCache.has(t))return t;const n=this.performWork(t);return this.resultCache.add(n),n}concat(t){return Object.assign(new Xr(n=>t.transformDocument(this.transformDocument(n)),{cache:!1}),{left:this,right:t})}}let dp;const zs=Object.assign(e=>{let t=dp.get(e);return t||(t=jM(e),dp.set(e,t)),t},{reset(){dp=new wx(Gr.print||2e3)}});zs.reset();function mt(e){return!!(e&&typeof e=="object"&&typeof e.__ref=="string")}const jx={kind:Se.FIELD,name:{kind:Se.NAME,value:"__typename"}},Ax=Object.assign(function(e){return Sr(e,{SelectionSet:{enter(t,n,r){if(r&&r.kind===Se.OPERATION_DEFINITION)return;const{selections:i}=t;if(!i||i.some(l=>l.kind===Se.FIELD&&(l.name.value==="__typename"||l.name.value.lastIndexOf("__",0)===0)))return;const s=r;if(!(s.kind===Se.FIELD&&s.directives&&s.directives.some(l=>l.name.value==="export")))return{...t,selections:[...i,jx]}}}})},{added(e){return e===jx}});function Mx(e,t){var n;return((n=Wr(e))==null?void 0:n.operation)===t}function wk(e){return Mx(e,"mutation")}function Sk(e){return Mx(e,"subscription")}function xk(e){return e===7||e===8}function fp(e){return!xk(e)}class Nk{constructor(){H(this,"assumeImmutableResults",!1);H(this,"getFragmentDoc",js(Y2,{max:Gr["cache.fragmentQueryDocuments"]||1e3,cache:co}))}lookupFragment(t){return null}batch(t){const n=typeof t.optimistic=="string"?t.optimistic:t.optimistic===!1?null:void 0;let r;return this.performTransaction(()=>r=t.update(this),n),r}recordOptimisticTransaction(t,n){this.performTransaction(t,n)}transformDocument(t){return t}transformForLink(t){return t}identify(t){}gc(){return[]}modify(t){return!1}readQuery(t,n=!!t.optimistic){return this.read({...t,rootId:t.id||"ROOT_QUERY",optimistic:n})}watchFragment(t){const{fragment:n,fragmentName:r,from:i,optimistic:a=!0,...s}=t,l=this.getFragmentDoc(n,r),o=typeof i>"u"||typeof i=="string"?i:this.identify(i),u={...s,returnPartialData:!0,id:o,query:l,optimistic:a};let d;return new xt(m=>this.watch({...u,immediate:!0,callback:f=>{let h=f.result;if(h===null&&(h={}),d&&Ox(l,{data:d.result},{data:h},t.variables))return;const g={data:h,dataState:f.complete?"complete":"partial",complete:!!f.complete};f.missing&&(g.missing=f.missing.missing),d={...f,result:h},m.next(g)}}))}readFragment(t,n=!!t.optimistic){return this.read({...t,query:this.getFragmentDoc(t.fragment,t.fragmentName),rootId:t.id,optimistic:n})}writeQuery({id:t,data:n,...r}){return this.write(Object.assign(r,{dataId:t||"ROOT_QUERY",result:n}))}writeFragment({id:t,data:n,fragment:r,fragmentName:i,...a}){return this.write(Object.assign(a,{query:this.getFragmentDoc(r,i),dataId:t,result:n}))}updateQuery(t,n){return this.batch({update(r){const i=r.readQuery(t),a=n(i);return a==null?i:(r.writeQuery({...t,data:a}),a)}})}updateFragment(t,n){return this.batch({update(r){const i=r.readFragment(t),a=n(i);return a==null?i:(r.writeFragment({...t,data:a}),a)}})}}class hp extends Error{constructor(n,r,i,a){super(n);H(this,"message");H(this,"path");H(this,"query");H(this,"variables");H(this,"missing");if(this.message=n,this.path=r,this.query=i,this.variables=a,this.name="MissingFieldError",Array.isArray(this.path)){this.missing=this.message;for(let s=this.path.length-1;s>=0;--s)this.missing={[this.path[s]]:this.missing}}else this.missing=this.path;this.__proto__=hp.prototype}}const{hasOwnProperty:Qt}=Object.prototype;function kx({__typename:e,id:t,_id:n},r){if(typeof e=="string"&&(r&&(r.keyObject=t!=null?{id:t}:n!=null?{_id:n}:void 0),t==null&&n!=null&&(t=n),t!=null))return`${e}:${typeof t=="number"||typeof t=="string"?t:JSON.stringify(t)}`}const Ek={dataIdFromObject:kx,resultCaching:!0};function Dk(e){return Jn(Ek,e)}const Ix=/^[_a-z][_0-9a-z]*/i;function Ls(e){const t=e.match(Ix);return t?t[0]:e}function mp(e,t,n){return wn(t)?Bt(t)?t.every(r=>mp(e,r,n)):e.selections.every(r=>{if(vo(r)&&qu(r,n)){const i=Rs(r);return Qt.call(t,i)&&(!r.selectionSet||mp(r.selectionSet,t[i],n))}return!0}):!1}function Us(e){return wn(e)&&!mt(e)&&!Bt(e)}function Tk(){return new Ms}function Rx(e,t){const n=fo(ho(e));return{fragmentMap:n,lookupFragment(r){let i=n[r];return!i&&t&&(i=t.lookup(r)),i||null}}}const Zu={},pp=()=>Zu,zx={};class Qu{constructor(t,n){H(this,"policies");H(this,"group");H(this,"data",{});H(this,"rootIds",{});H(this,"refs",{});H(this,"getFieldValue",(t,n)=>mt(t)?this.get(t.__ref,n):t&&t[n]);H(this,"canRead",t=>mt(t)?this.has(t.__ref):typeof t=="object");H(this,"toReference",(t,n)=>{if(typeof t=="string")return Is(t);if(mt(t))return t;const[r]=this.policies.identify(t);if(r){const i=Is(r);return n&&this.merge(r,t),i}});this.policies=t,this.group=n}toObject(){return{...this.data}}has(t){return this.lookup(t,!0)!==void 0}get(t,n){if(this.group.depend(t,n),Qt.call(this.data,t)){const r=this.data[t];if(r&&Qt.call(r,n))return r[n]}if(n==="__typename"&&Qt.call(this.policies.rootTypenamesById,t))return this.policies.rootTypenamesById[t];if(this instanceof Nr)return this.parent.get(t,n)}lookup(t,n){if(n&&this.group.depend(t,"__exists"),Qt.call(this.data,t))return this.data[t];if(this instanceof Nr)return this.parent.lookup(t,n);if(this.policies.rootTypenamesById[t])return{}}merge(t,n){let r;mt(t)&&(t=t.__ref),mt(n)&&(n=n.__ref);const i=typeof t=="string"?this.lookup(r=t):t,a=typeof n=="string"?this.lookup(r=n):n;if(!a)return;Ye(typeof r=="string",95);const s=new Ms(Ck).merge(i,a);if(this.data[r]=s,s!==i&&(delete this.refs[r],this.group.caching)){const l={};i||(l.__exists=1),Object.keys(a).forEach(o=>{if(!i||i[o]!==s[o]){l[o]=1;const u=Ls(o);u!==o&&!this.policies.hasKeyArgs(s.__typename,u)&&(l[u]=1),s[o]===void 0&&!(this instanceof Nr)&&delete s[o]}}),l.__typename&&!(i&&i.__typename)&&this.policies.rootTypenamesById[r]===s.__typename&&delete l.__typename,Object.keys(l).forEach(o=>this.group.dirty(r,o))}}modify(t,n,r){const i=this.lookup(t);if(i){const a={};let s=!1,l=!0;const o={DELETE:Zu,INVALIDATE:zx,isReference:mt,toReference:this.toReference,canRead:this.canRead,readField:(u,d)=>this.policies.readField(typeof u=="string"?{fieldName:u,from:d||Is(t)}:u,{store:this})};if(Object.keys(i).forEach(u=>{const d=Ls(u);let m=i[u];if(m===void 0)return;const f=typeof n=="function"?n:n[u]||(r?void 0:n[d]);if(f){let h=f===pp?Zu:f(m,{...o,fieldName:d,storeFieldName:u,storage:this.getStorage(t,u)});h===zx?this.group.dirty(t,u):(h===Zu&&(h=void 0),h!==m&&(a[u]=h,s=!0,m=h))}m!==void 0&&(l=!1)}),s)return this.merge(t,a),l&&(this instanceof Nr?this.data[t]=void 0:delete this.data[t],this.group.dirty(t,"__exists")),!0}return!1}delete(t,n,r){const i=this.lookup(t);if(i){const a=this.getFieldValue(i,"__typename"),s=n&&r?this.policies.getStoreFieldName({typename:a,fieldName:n,args:r}):n;return this.modify(t,s?{[s]:pp}:pp,!!r)}return!1}evict(t,n){let r=!1;return t.id&&(Qt.call(this.data,t.id)&&(r=this.delete(t.id,t.fieldName,t.args)),this instanceof Nr&&this!==n&&(r=this.parent.evict(t,n)||r),(t.fieldName||r)&&this.group.dirty(t.id,t.fieldName||"__exists")),r}clear(){this.replace(null)}extract(){const t=this.toObject(),n=[];return this.getRootIdSet().forEach(r=>{Qt.call(this.policies.rootTypenamesById,r)||n.push(r)}),n.length&&(t.__META={extraRootIds:n.sort()}),t}replace(t){if(Object.keys(this.data).forEach(n=>{t&&Qt.call(t,n)||this.delete(n)}),t){const{__META:n,...r}=t;Object.keys(r).forEach(i=>{this.merge(i,r[i])}),n&&n.extraRootIds.forEach(this.retain,this)}}retain(t){return this.rootIds[t]=(this.rootIds[t]||0)+1}release(t){if(this.rootIds[t]>0){const n=--this.rootIds[t];return n||delete this.rootIds[t],n}return 0}getRootIdSet(t=new Set){return Object.keys(this.rootIds).forEach(t.add,t),this instanceof Nr?this.parent.getRootIdSet(t):Object.keys(this.policies.rootTypenamesById).forEach(t.add,t),t}gc(){const t=this.getRootIdSet(),n=this.toObject();t.forEach(i=>{Qt.call(n,i)&&(Object.keys(this.findChildRefIds(i)).forEach(t.add,t),delete n[i])});const r=Object.keys(n);if(r.length){let i=this;for(;i instanceof Nr;)i=i.parent;r.forEach(a=>i.delete(a))}return r}findChildRefIds(t){if(!Qt.call(this.refs,t)){const n=this.refs[t]={},r=this.data[t];if(!r)return n;const i=new Set([r]);i.forEach(a=>{mt(a)&&(n[a.__ref]=!0),wn(a)&&Object.keys(a).forEach(s=>{const l=a[s];wn(l)&&i.add(l)})})}return this.refs[t]}makeCacheKey(){return this.group.keyMaker.lookupArray(arguments)}get supportsResultCaching(){return this.group.caching}}class Lx{constructor(t,n=null){H(this,"caching");H(this,"parent");H(this,"d",null);H(this,"keyMaker");this.caching=t,this.parent=n,this.resetCaching()}resetCaching(){this.d=this.caching?gx():null,this.keyMaker=new Ii}depend(t,n){if(this.d){this.d(gp(t,n));const r=Ls(n);r!==n&&this.d(gp(t,r)),this.parent&&this.parent.depend(t,n)}}dirty(t,n){this.d&&this.d.dirty(gp(t,n),n==="__exists"?"forget":"setDirty")}}function gp(e,t){return t+"#"+e}function Ux(e,t){yo(e)&&e.group.depend(t,"__exists")}class _k extends Qu{constructor({policies:n,resultCaching:r=!0,seed:i}){super(n,new Lx(r));H(this,"stump",new Ok(this));H(this,"storageTrie",new Ii);i&&this.replace(i)}addLayer(n,r){return this.stump.addLayer(n,r)}removeLayer(){return this}getStorage(){return this.storageTrie.lookupArray(arguments)}}Qu.Root=_k;class Nr extends Qu{constructor(n,r,i,a){super(r.policies,a);H(this,"id");H(this,"parent");H(this,"replay");H(this,"group");this.id=n,this.parent=r,this.replay=i,this.group=a,i(this)}addLayer(n,r){return new Nr(n,this,r,this.group)}removeLayer(n){const r=this.parent.removeLayer(n);return n===this.id?(this.group.caching&&Object.keys(this.data).forEach(i=>{const a=this.data[i],s=r.lookup(i);s?a?a!==s&&Object.keys(a).forEach(l=>{Rt(a[l],s[l])||this.group.dirty(i,l)}):(this.group.dirty(i,"__exists"),Object.keys(s).forEach(l=>{this.group.dirty(i,l)})):this.delete(i)}),r):r===this.parent?this:r.addLayer(this.id,this.replay)}toObject(){return{...this.parent.toObject(),...this.data}}findChildRefIds(n){const r=this.parent.findChildRefIds(n);return Qt.call(this.data,n)?{...r,...super.findChildRefIds(n)}:r}getStorage(...n){let r=this.parent;for(;r.parent;)r=r.parent;return r.getStorage(...n)}}class Ok extends Nr{constructor(t){super("EntityStore.Stump",t,()=>{},new Lx(t.group.caching,t.group))}removeLayer(){return this}merge(t,n){return this.parent.merge(t,n)}}function Ck(e,t,n){const r=e[n],i=t[n];return Rt(r,i)?r:i}function yo(e){return!!(e&&e.supportsResultCaching)}const $x=new Pu;function jk(e){var r,i;const t=(r=e.directives)==null?void 0:r.find(({name:a})=>a.value==="unmask");if(!t)return"mask";const n=(i=t.arguments)==null?void 0:i.find(({name:a})=>a.value==="mode");return n&&"value"in n.value&&n.value.value==="migrate"?"migrate":"unmask"}function Px(e,t,n){return $x.withValue(!0,()=>bo(e,t,n,!1))}function Ak(e,t){if(t.has(e))return t.get(e);const n=Array.isArray(e)?[]:{};return t.set(e,n),n}function bo(e,t,n,r,i){const{knownChanged:a}=n,s=Ak(e,n.mutableTargets);if(Array.isArray(e)){for(const[l,o]of Array.from(e.entries())){if(o===null){s[l]=null;continue}const u=bo(o,t,n,r);a.has(u)&&a.add(s),s[l]=u}return a.has(s)?s:e}for(const l of t.selections){let o;if(r&&a.add(s),l.kind===Se.FIELD){const u=Rs(l),d=l.selectionSet;if(o=s[u]||e[u],o===void 0)continue;if(d&&o!==null){const m=bo(e[u],d,n,r);a.has(m)&&(o=m)}s[u]=o}if(l.kind===Se.INLINE_FRAGMENT&&(!l.typeCondition||n.cache.fragmentMatches(l,e.__typename))&&(o=bo(e,l.selectionSet,n,r)),l.kind===Se.FRAGMENT_SPREAD){const u=l.name.value,d=n.fragmentMap[u]||(n.fragmentMap[u]=n.cache.lookupFragment(u));Ye(d,39,u);const m=jk(l);m!=="mask"&&(o=bo(e,d.selectionSet,n,m==="migrate"))}a.has(o)&&a.add(s)}return"__typename"in e&&!("__typename"in s)&&(s.__typename=e.__typename),Object.keys(s).length!==Object.keys(e).length&&a.add(s),a.has(s)?s:e}function Mk(e,t,n,r){const i=t.definitions.filter(s=>s.kind===Se.FRAGMENT_DEFINITION);typeof r>"u"&&(Ye(i.length===1,41,i.length),r=i[0].name.value);const a=i.find(s=>s.name.value===r);return Ye(!!a,42,r),e==null||Rt(e,{})?e:Px(e,a.selectionSet,{operationName:a.name.value,fragmentMap:fo(ho(t)),cache:n,mutableTargets:new WeakMap,knownChanged:new WeakSet})}function kk(e,t,n){var i;const r=Wr(t);return Ye(r,43),e==null?e:Px(e,r.selectionSet,{operationType:r.operation,operationName:(i=r.name)==null?void 0:i.value,fragmentMap:fo(ho(t)),cache:n,mutableTargets:new WeakMap,knownChanged:new WeakSet})}const Fx={};function vp(e){const t=JSON.stringify(e);return Fx[t]||(Fx[t]={})}function Bx(e){const t=vp(e);return t.keyFieldsFn||(t.keyFieldsFn=(n,r)=>{const i=(s,l)=>r.readField(l,s),a=r.keyObject=yp(e,s=>{let l=$s(r.storeObject,s,i);return l===void 0&&n!==r.storeObject&&Qt.call(n,s[0])&&(l=$s(n,s,Hx)),Ye(l!==void 0,98,s.join("."),n),l});return`${r.typename}:${JSON.stringify(a)}`})}function Vx(e){const t=vp(e);return t.keyArgsFn||(t.keyArgsFn=(n,{field:r,variables:i,fieldName:a})=>{const s=yp(e,o=>{const u=o[0],d=u.charAt(0);if(d==="@"){if(r&&ap(r.directives)){const m=u.slice(1),f=r.directives.find(g=>g.name.value===m),h=f&&Gm(f,i);return h&&$s(h,o.slice(1))}return}if(d==="$"){const m=u.slice(1);if(i&&Qt.call(i,m)){const f=o.slice(0);return f[0]=m,$s(i,f)}return}if(n)return $s(n,o)}),l=JSON.stringify(s);return(n||l!=="{}")&&(a+=":"+l),a})}function yp(e,t){const n=new Ms;return qx(e).reduce((r,i)=>{let a=t(i);if(a!==void 0){for(let s=i.length-1;s>=0;--s)a={[i[s]]:a};r=n.merge(r,a)}return r},{})}function qx(e){const t=vp(e);if(!t.paths){const n=t.paths=[],r=[];e.forEach((i,a)=>{Bt(i)?(qx(i).forEach(s=>n.push(r.concat(s))),r.length=0):(r.push(i),Bt(e[a+1])||(n.push(r.slice(0)),r.length=0))})}return t.paths}function Hx(e,t){return e[t]}function $s(e,t,n){return n=n||Hx,Yx(t.reduce(function r(i,a){return Bt(i)?i.map(s=>r(s,a)):i&&n(i,a)},e))}function Yx(e){return wn(e)?Bt(e)?e.map(Yx):yp(Object.keys(e).sort(),t=>$s(e,t)):e}const Zx=new Pu,Qx=new WeakMap;function wo(e){let t=Qx.get(e);return t||Qx.set(e,t={vars:new Set,dep:gx()}),t}function Gx(e){wo(e).vars.forEach(t=>t.forgetCache(e))}function Ik(e){wo(e).vars.forEach(t=>t.attachCache(e))}function Rk(e){const t=new Set,n=new Set,r=function(a){if(arguments.length>0){if(e!==a){e=a,t.forEach(l=>{wo(l).dep.dirty(r),zk(l)});const s=Array.from(n);n.clear(),s.forEach(l=>l(e))}}else{const s=Zx.getValue();s&&(i(s),wo(s).dep(r))}return e};r.onNextChange=a=>(n.add(a),()=>{n.delete(a)});const i=r.attachCache=a=>(t.add(a),wo(a).vars.add(r),r);return r.forgetCache=a=>t.delete(a),r}function zk(e){e.broadcastWatches&&e.broadcastWatches()}function bp(e){return e.args!==void 0?e.args:e.field?Gm(e.field,e.variables):null}const Lk=()=>{},Wx=(e,t)=>t.fieldName,Xx=(e,t,{mergeObjects:n})=>n(e,t),Kx=(e,t)=>t;class Uk{constructor(t){H(this,"config");H(this,"typePolicies",{});H(this,"toBeAdded",{});H(this,"supertypeMap",new Map);H(this,"fuzzySubtypes",new Map);H(this,"cache");H(this,"rootIdsByTypename",{});H(this,"rootTypenamesById",{});H(this,"usingPossibleTypes",!1);this.config=t,this.config={dataIdFromObject:kx,...t},this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),t.possibleTypes&&this.addPossibleTypes(t.possibleTypes),t.typePolicies&&this.addTypePolicies(t.typePolicies)}identify(t,n){var d;const r=this,i=n&&(n.typename||((d=n.storeObject)==null?void 0:d.__typename))||t.__typename;if(i===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];const a=n&&n.storeObject||t,s={...n,typename:i,storeObject:a,readField:n&&n.readField||((...m)=>{const f=wp(m,a);return r.readField(f,{store:r.cache.data,variables:f.variables})})};let l;const o=i&&this.getTypePolicy(i);let u=o&&o.keyFn||this.config.dataIdFromObject;return $x.withValue(!0,()=>{for(;u;){const m=u({...t,...a},s);if(Bt(m))u=Bx(m);else{l=m;break}}}),l=l?String(l):void 0,s.keyObject?[l,s.keyObject]:[l]}addTypePolicies(t){Object.keys(t).forEach(n=>{const{queryType:r,mutationType:i,subscriptionType:a,...s}=t[n];r&&this.setRootTypename("Query",n),i&&this.setRootTypename("Mutation",n),a&&this.setRootTypename("Subscription",n),Qt.call(this.toBeAdded,n)?this.toBeAdded[n].push(s):this.toBeAdded[n]=[s]})}updateTypePolicy(t,n,r){const i=this.getTypePolicy(t),{keyFields:a,fields:s}=n;function l(o,u){o.merge=typeof u=="function"?u:u===!0?Xx:u===!1?Kx:o.merge}l(i,n.merge),i.keyFn=a===!1?Lk:Bt(a)?Bx(a):typeof a=="function"?a:i.keyFn,s&&Object.keys(s).forEach(o=>{let u=r[o];(!u||(u==null?void 0:u.typename)!==t)&&(u=r[o]={typename:t});const d=s[o];if(typeof d=="function")u.read=d;else{const{keyArgs:m,read:f,merge:h}=d;u.keyFn=m===!1?Wx:Bt(m)?Vx(m):typeof m=="function"?m:u.keyFn,typeof f=="function"&&(u.read=f),l(u,h)}u.read&&u.merge&&(u.keyFn=u.keyFn||Wx)})}setRootTypename(t,n=t){const r="ROOT_"+t.toUpperCase(),i=this.rootTypenamesById[r];n!==i&&(Ye(!i||i===t,99,t),i&&delete this.rootIdsByTypename[i],this.rootIdsByTypename[n]=r,this.rootTypenamesById[r]=n)}addPossibleTypes(t){this.usingPossibleTypes=!0,Object.keys(t).forEach(n=>{this.getSupertypeSet(n,!0),t[n].forEach(r=>{this.getSupertypeSet(r,!0).add(n);const i=r.match(Ix);(!i||i[0]!==r)&&this.fuzzySubtypes.set(r,new RegExp(r))})})}getTypePolicy(t){if(!Qt.call(this.typePolicies,t)){const r=this.typePolicies[t]={};r.fields={};let i=this.supertypeMap.get(t);!i&&this.fuzzySubtypes.size&&(i=this.getSupertypeSet(t,!0),this.fuzzySubtypes.forEach((a,s)=>{if(a.test(t)){const l=this.supertypeMap.get(s);l&&l.forEach(o=>i.add(o))}})),i&&i.size&&i.forEach(a=>{const{fields:s,...l}=this.getTypePolicy(a);Object.assign(r,l),Object.assign(r.fields,s)})}const n=this.toBeAdded[t];return n&&n.length&&n.splice(0).forEach(r=>{this.updateTypePolicy(t,r,this.typePolicies[t].fields)}),this.typePolicies[t]}getFieldPolicy(t,n){if(t)return this.getTypePolicy(t).fields[n]}getSupertypeSet(t,n){let r=this.supertypeMap.get(t);return!r&&n&&this.supertypeMap.set(t,r=new Set),r}fragmentMatches(t,n,r,i){if(!t.typeCondition)return!0;if(!n)return!1;const a=t.typeCondition.name.value;if(n===a)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(a)){const s=this.getSupertypeSet(n,!0),l=[s],o=d=>{const m=this.getSupertypeSet(d,!1);m&&m.size&&l.indexOf(m)<0&&l.push(m)};let u=!!(r&&this.fuzzySubtypes.size);for(let d=0;d<l.length;++d){const m=l[d];if(m.has(a))return s.has(a)||s.add(a),!0;m.forEach(o),u&&d===l.length-1&&mp(t.selectionSet,r,i)&&(u=!1,this.fuzzySubtypes.forEach((f,h)=>{const g=n.match(f);g&&g[0]===n&&o(h)}))}}return!1}hasKeyArgs(t,n){const r=this.getFieldPolicy(t,n);return!!(r&&r.keyFn)}getStoreFieldName(t){const{typename:n,fieldName:r}=t,i=this.getFieldPolicy(n,r);let a,s=i&&i.keyFn;if(s&&n){const l={typename:n,fieldName:r,field:t.field||null,variables:t.variables},o=bp(t);for(;s;){const u=s(o,l);if(Bt(u))s=Vx(u);else{a=u||r;break}}}return a===void 0&&(a=t.field?ck(t.field,t.variables):Sx(r,bp(t))),a===!1?r:r===Ls(a)?a:r+":"+a}readField(t,n){const r=t.from;if(!r||!(t.field||t.fieldName))return;if(t.typename===void 0){const d=n.store.getFieldValue(r,"__typename");d&&(t.typename=d)}const a=this.getStoreFieldName(t),s=Ls(a),l=n.store.getFieldValue(r,a),o=this.getFieldPolicy(t.typename,s),u=o&&o.read;if(u){const d=Jx(this,r,t,n,n.store.getStorage(mt(r)?r.__ref:r,a));return Zx.withValue(this.cache,u,[l,d])}return l}getReadFunction(t,n){const r=this.getFieldPolicy(t,n);return r&&r.read}getMergeFunction(t,n,r){let i=this.getFieldPolicy(t,n),a=i&&i.merge;return!a&&r&&(i=this.getTypePolicy(r),a=i&&i.merge),a}runMergeFunction(t,n,{field:r,typename:i,merge:a},s,l){return a===Xx?eN(s.store)(t,n):a===Kx?n:(s.overwrite&&(t=void 0),a(t,n,Jx(this,void 0,{typename:i,fieldName:r.name.value,field:r,variables:s.variables},s,l||{})))}}function Jx(e,t,n,r,i){const a=e.getStoreFieldName(n),s=Ls(a),l=n.variables||r.variables,{toReference:o,canRead:u}=r.store;return{args:bp(n),field:n.field||null,fieldName:s,storeFieldName:a,variables:l,isReference:mt,toReference:o,storage:i,cache:e.cache,canRead:u,readField(...d){return e.readField(wp(d,t,l),r)},mergeObjects:eN(r.store)}}function wp(e,t,n){const{0:r,1:i,length:a}=e;let s;return typeof r=="string"?s={fieldName:r,from:a>1?i:t}:(s={...r},Qt.call(s,"from")||(s.from=t)),s.variables===void 0&&(s.variables=n),s}function eN(e){return function(n,r){if(Bt(n)||Bt(r))throw Kn(102);if(wn(n)&&wn(r)){const i=e.getFieldValue(n,"__typename"),a=e.getFieldValue(r,"__typename");if(i&&a&&i!==a)return r;if(mt(n)&&Us(r))return e.merge(n.__ref,r),n;if(Us(n)&&mt(r))return e.merge(n,r.__ref),r;if(Us(n)&&Us(r))return{...n,...r}}return r}}function tN(e){return[e.selectionSet,e.objectOrReference,e.context]}class $k{constructor(t){H(this,"executeSelectionSet");H(this,"executeSubSelectedArray");H(this,"config");H(this,"knownResults",new WeakMap);this.config=t,this.executeSelectionSet=js(n=>{const r=tN(n),i=this.executeSelectionSet.peek(...r);return i||(Ux(n.context.store,n.enclosingRef.__ref),this.execSelectionSetImpl(n))},{max:Gr["inMemoryCache.executeSelectionSet"]||5e4,keyArgs:tN,makeCacheKey(n,r,i){if(yo(i.store))return i.store.makeCacheKey(n,mt(r)?r.__ref:r,i.varString)}}),this.executeSubSelectedArray=js(n=>(Ux(n.context.store,n.enclosingRef.__ref),this.execSubSelectedArrayImpl(n)),{max:Gr["inMemoryCache.executeSubSelectedArray"]||1e4,makeCacheKey({field:n,array:r,context:i}){if(yo(i.store))return i.store.makeCacheKey(n,r,i.varString)}})}diffQueryAgainstStore({store:t,query:n,rootId:r="ROOT_QUERY",variables:i,returnPartialData:a=!0}){const s=this.config.cache.policies;i={...rp(Q2(n)),...i};const l=Is(r),o=this.executeSelectionSet({selectionSet:yx(n).selectionSet,objectOrReference:l,enclosingRef:l,context:{store:t,query:n,policies:s,variables:i,varString:Li(i),...Rx(n,this.config.fragments)}});let u;o.missing&&(u=new hp(Pk(o.missing),o.missing,n,i));const d=!u,{result:m}=o;return{result:d||a?Object.keys(m).length===0?null:m:null,complete:d,missing:u}}isFresh(t,n,r,i){if(yo(i.store)&&this.knownResults.get(t)===r){const a=this.executeSelectionSet.peek(r,n,i);if(a&&t===a.result)return!0}return!1}execSelectionSetImpl({selectionSet:t,objectOrReference:n,enclosingRef:r,context:i}){if(mt(n)&&!i.policies.rootTypenamesById[n.__ref]&&!i.store.has(n.__ref))return{result:{},missing:`Dangling reference to missing ${n.__ref} object`};const{variables:a,policies:s,store:l}=i,o=l.getFieldValue(n,"__typename"),u=[];let d;const m=new Ms;typeof o=="string"&&!s.rootIdsByTypename[o]&&u.push({__typename:o});function f(v,p){return v.missing&&(d=m.merge(d,{[p]:v.missing})),v.result}const h=new Set(t.selections);h.forEach(v=>{if(qu(v,a))if(vo(v)){let p=s.readField({fieldName:v.name.value,field:v,variables:i.variables,from:n},i);const y=Rs(v);p===void 0?Ax.added(v)||(d=m.merge(d,{[y]:`Can't find field '${v.name.value}' on ${mt(n)?n.__ref+" object":"object "+JSON.stringify(n,null,2)}`})):Bt(p)?p.length>0&&(p=f(this.executeSubSelectedArray({field:v,array:p,enclosingRef:r,context:i}),y)):v.selectionSet&&p!=null&&(p=f(this.executeSelectionSet({selectionSet:v.selectionSet,objectOrReference:p,enclosingRef:mt(p)?p:r,context:i}),y)),p!==void 0&&u.push({[y]:p})}else{const p=Vu(v,i.lookupFragment);if(!p&&v.kind===Se.FRAGMENT_SPREAD)throw Kn(103,v.name.value);p&&s.fragmentMatches(p,o)&&p.selectionSet.selections.forEach(h.add,h)}});const w={result:tk(u),missing:d},S=w;return S.result&&this.knownResults.set(S.result,t),S}execSubSelectedArrayImpl({field:t,array:n,enclosingRef:r,context:i}){let a,s=new Ms;function l(o,u){return o.missing&&(a=s.merge(a,{[u]:o.missing})),o.result}return t.selectionSet&&(n=n.filter(i.store.canRead)),n=n.map((o,u)=>o===null?null:Bt(o)?l(this.executeSubSelectedArray({field:t,array:o,enclosingRef:r,context:i}),u):t.selectionSet?l(this.executeSelectionSet({selectionSet:t.selectionSet,objectOrReference:o,enclosingRef:mt(o)?o:r,context:i}),u):o),{result:n,missing:a}}}function Pk(e){try{JSON.stringify(e,(t,n)=>{if(typeof n=="string")throw n;return n})}catch(t){return t}}function Sp(e,t,n){const r=`${t}${n}`;let i=e.flavors.get(r);return i||e.flavors.set(r,i=e.clientOnly===t&&e.deferred===n?e:{...e,clientOnly:t,deferred:n}),i}class Fk{constructor(t,n,r){H(this,"cache");H(this,"reader");H(this,"fragments");this.cache=t,this.reader=n,this.fragments=r}writeToStore(t,{query:n,result:r,dataId:i,variables:a,overwrite:s}){const l=Wr(n),o=Tk();a={...rp(l),...a};const u={store:t,written:{},merge(m,f){return o.merge(m,f)},variables:a,varString:Li(a),...Rx(n,this.fragments),overwrite:!!s,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map},d=this.processSelectionSet({result:r||{},dataId:i,selectionSet:l.selectionSet,mergeTree:{map:new Map},context:u});if(!mt(d))throw Kn(105,r);return u.incomingById.forEach(({storeObject:m,mergeTree:f,fieldNodeSet:h},g)=>{const w=Is(g);if(f&&f.map.size){const S=this.applyMerges(f,w,m,u);if(mt(S))return;m=S}t.merge(g,m)}),t.retain(d.__ref),d}processSelectionSet({dataId:t,result:n,selectionSet:r,context:i,mergeTree:a}){const{policies:s}=this.cache;let l={};const o=t&&s.rootTypenamesById[t]||Np(n,r,i.fragmentMap)||t&&i.store.get(t,"__typename");typeof o=="string"&&(l.__typename=o);const u=(...m)=>{const f=wp(m,l,i.variables);if(mt(f.from)){const h=i.incomingById.get(f.from.__ref);if(h){const g=s.readField({...f,from:h.storeObject},i);if(g!==void 0)return g}}return s.readField(f,i)},d=new Set;this.flattenFields(r,n,i,o).forEach((m,f)=>{const h=Rs(f),g=n[h];if(d.add(f),g!==void 0){const w=s.getStoreFieldName({typename:o,fieldName:f.name.value,field:f,variables:m.variables}),S=rN(a,w);let v=this.processFieldValue(g,f,f.selectionSet?Sp(m,!1,!1):m,S),p;f.selectionSet&&(mt(v)||Us(v))&&(p=u("__typename",v));const y=s.getMergeFunction(o,f.name.value,p);y?S.info={field:f,typename:o,merge:y}:iN(a,w),l=m.merge(l,{[w]:v})}});try{const[m,f]=s.identify(n,{typename:o,selectionSet:r,fragmentMap:i.fragmentMap,storeObject:l,readField:u});t=t||m,f&&(l=i.merge(l,f))}catch(m){if(!t)throw m}if(typeof t=="string"){const m=Is(t),f=i.written[t]||(i.written[t]=[]);if(f.indexOf(r)>=0||(f.push(r),this.reader&&this.reader.isFresh(n,m,r,i)))return m;const h=i.incomingById.get(t);return h?(h.storeObject=i.merge(h.storeObject,l),h.mergeTree=xp(h.mergeTree,a),d.forEach(g=>h.fieldNodeSet.add(g))):i.incomingById.set(t,{storeObject:l,mergeTree:Gu(a)?void 0:a,fieldNodeSet:d}),m}return l}processFieldValue(t,n,r,i){return!n.selectionSet||t===null?t:Bt(t)?t.map((a,s)=>{const l=this.processFieldValue(a,n,r,rN(i,s));return iN(i,s),l}):this.processSelectionSet({result:t,selectionSet:n.selectionSet,context:r,mergeTree:i})}flattenFields(t,n,r,i=Np(n,t,r.fragmentMap)){const a=new Map,{policies:s}=this.cache,l=new Ii(!1);return function o(u,d){const m=l.lookup(u,d.clientOnly,d.deferred);m.visited||(m.visited=!0,u.selections.forEach(f=>{if(!qu(f,r.variables))return;let{clientOnly:h,deferred:g}=d;if(!(h&&g)&&ap(f.directives)&&f.directives.forEach(w=>{const S=w.name.value;if(S==="client"&&(h=!0),S==="defer"){const v=Gm(w,r.variables);(!v||v.if!==!1)&&(g=!0)}}),vo(f)){const w=a.get(f);w&&(h=h&&w.clientOnly,g=g&&w.deferred),a.set(f,Sp(r,h,g))}else{const w=Vu(f,r.lookupFragment);if(!w&&f.kind===Se.FRAGMENT_SPREAD)throw Kn(107,f.name.value);w&&s.fragmentMatches(w,i,n,r.variables)&&o(w.selectionSet,Sp(r,h,g))}}))}(t,r),a}applyMerges(t,n,r,i,a){if(t.map.size&&!mt(r)){const s=!Bt(r)&&(mt(n)||Us(n))?n:void 0,l=r;s&&!a&&(a=[mt(s)?s.__ref:s]);let o;const u=(d,m)=>Bt(d)?typeof m=="number"?d[m]:void 0:i.store.getFieldValue(d,String(m));t.map.forEach((d,m)=>{const f=u(s,m),h=u(l,m);if(h===void 0)return;a&&a.push(m);const g=this.applyMerges(d,f,h,i,a);g!==h&&(o=o||new Map,o.set(m,g)),a&&Ye(a.pop()===m)}),o&&(r=Bt(l)?l.slice(0):{...l},o.forEach((d,m)=>{r[m]=d}))}return t.info?this.cache.policies.runMergeFunction(n,r,t.info,i,a&&i.store.getStorage(...a)):r}}const nN=[];function rN({map:e},t){return e.has(t)||e.set(t,nN.pop()||{map:new Map}),e.get(t)}function xp(e,t){if(e===t||!t||Gu(t))return e;if(!e||Gu(e))return t;const n=e.info&&t.info?{...e.info,...t.info}:e.info||t.info,r=e.map.size&&t.map.size,i=r?new Map:e.map.size?e.map:t.map,a={info:n,map:i};if(r){const s=new Set(t.map.keys());e.map.forEach((l,o)=>{a.map.set(o,xp(l,t.map.get(o))),s.delete(o)}),s.forEach(l=>{a.map.set(l,xp(t.map.get(l),e.map.get(l)))})}return a}function Gu(e){return!e||!(e.info||e.map.size)}function iN({map:e},t){const n=e.get(t);n&&Gu(n)&&(nN.push(n),e.delete(t))}function Np(e,t,n){let r;for(const i of t.selections)if(vo(i)){if(i.name.value==="__typename")return e[Rs(i)]}else r?r.push(i):r=[i];if(typeof e.__typename=="string")return e.__typename;if(r)for(const i of r){const a=Np(e,Vu(i,n).selectionSet,n);if(typeof a=="string")return a}}class Bk extends Nk{constructor(n={}){super();H(this,"data");H(this,"optimisticData");H(this,"config");H(this,"watches",new Set);H(this,"storeReader");H(this,"storeWriter");H(this,"addTypenameTransform",new Xr(Ax));H(this,"maybeBroadcastWatch");H(this,"assumeImmutableResults",!0);H(this,"policies");H(this,"makeVar",Rk);H(this,"txCount",0);this.config=Dk(n),this.policies=new Uk({cache:this,dataIdFromObject:this.config.dataIdFromObject,possibleTypes:this.config.possibleTypes,typePolicies:this.config.typePolicies}),this.init()}init(){const n=this.data=new Qu.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=n.stump,this.resetResultCache()}resetResultCache(){const{fragments:n}=this.config;this.addTypenameTransform.resetCache(),n==null||n.resetCaches(),this.storeWriter=new Fk(this,this.storeReader=new $k({cache:this,fragments:n}),n),this.maybeBroadcastWatch=js((r,i)=>this.broadcastWatch(r,i),{max:Gr["inMemoryCache.maybeBroadcastWatch"]||5e3,makeCacheKey:r=>{const i=r.optimistic?this.optimisticData:this.data;if(yo(i)){const{optimistic:a,id:s,variables:l}=r;return i.makeCacheKey(r.query,r.callback,Li({optimistic:a,id:s,variables:l}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(r=>r.resetCaching())}restore(n){return this.init(),n&&this.data.replace(n),this}extract(n=!1){return(n?this.optimisticData:this.data).extract()}read(n){const{returnPartialData:r=!1}=n;return this.storeReader.diffQueryAgainstStore({...n,store:n.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:r}).result}write(n){try{return++this.txCount,this.storeWriter.writeToStore(this.data,n)}finally{!--this.txCount&&n.broadcast!==!1&&this.broadcastWatches()}}modify(n){if(Qt.call(n,"id")&&!n.id)return!1;const r=n.optimistic?this.optimisticData:this.data;try{return++this.txCount,r.modify(n.id||"ROOT_QUERY",n.fields,!1)}finally{!--this.txCount&&n.broadcast!==!1&&this.broadcastWatches()}}diff(n){return this.storeReader.diffQueryAgainstStore({...n,store:n.optimistic?this.optimisticData:this.data,rootId:n.id||"ROOT_QUERY",config:this.config})}watch(n){return this.watches.size||Ik(this),this.watches.add(n),n.immediate&&this.maybeBroadcastWatch(n),()=>{this.watches.delete(n)&&!this.watches.size&&Gx(this),this.maybeBroadcastWatch.forget(n)}}gc(n){Li.reset(),zs.reset();const r=this.optimisticData.gc();return n&&!this.txCount&&n.resetResultCache&&this.resetResultCache(),r}retain(n,r){return(r?this.optimisticData:this.data).retain(n)}release(n,r){return(r?this.optimisticData:this.data).release(n)}identify(n){if(mt(n))return n.__ref;try{return this.policies.identify(n)[0]}catch{}}evict(n){if(!n.id){if(Qt.call(n,"id"))return!1;n={...n,id:"ROOT_QUERY"}}try{return++this.txCount,this.optimisticData.evict(n,this.data)}finally{!--this.txCount&&n.broadcast!==!1&&this.broadcastWatches()}}reset(n){return this.init(),Li.reset(),n&&n.discardWatches?(this.watches.forEach(r=>this.maybeBroadcastWatch.forget(r)),this.watches.clear(),Gx(this)):this.broadcastWatches(),Promise.resolve()}removeOptimistic(n){const r=this.optimisticData.removeLayer(n);r!==this.optimisticData&&(this.optimisticData=r,this.broadcastWatches())}batch(n){const{update:r,optimistic:i=!0,removeOptimistic:a,onWatchUpdated:s}=n;let l;const o=d=>{const{data:m,optimisticData:f}=this;++this.txCount,d&&(this.data=this.optimisticData=d);try{return l=r(this)}finally{--this.txCount,this.data=m,this.optimisticData=f}},u=new Set;return s&&!this.txCount&&this.broadcastWatches({...n,onWatchUpdated(d){return u.add(d),!1}}),typeof i=="string"?this.optimisticData=this.optimisticData.addLayer(i,o):i===!1?o(this.data):o(),typeof a=="string"&&(this.optimisticData=this.optimisticData.removeLayer(a)),s&&u.size?(this.broadcastWatches({...n,onWatchUpdated(d,m){const f=s.call(this,d,m);return f!==!1&&u.delete(d),f}}),u.size&&u.forEach(d=>this.maybeBroadcastWatch.dirty(d))):this.broadcastWatches(n),l}performTransaction(n,r){return this.batch({update:n,optimistic:r||r!==null})}transformDocument(n){return this.addTypenameTransform.transformDocument(this.addFragmentsToDocument(n))}fragmentMatches(n,r){return this.policies.fragmentMatches(n,r)}lookupFragment(n){var r;return((r=this.config.fragments)==null?void 0:r.lookup(n))||null}broadcastWatches(n){this.txCount||this.watches.forEach(r=>this.maybeBroadcastWatch(r,n))}addFragmentsToDocument(n){const{fragments:r}=this.config;return r?r.transform(n):n}broadcastWatch(n,r){const{lastDiff:i}=n,a=this.diff(n);r&&(n.optimistic&&typeof r.optimistic=="string"&&(a.fromOptimisticTransaction=!0),r.onWatchUpdated&&r.onWatchUpdated.call(this,n,a,i)===!1)||(!i||!Rt(i.result,a.result))&&n.callback(n.lastDiff=a,i)}}function So(e,t){return typeof e=="object"&&e!==null&&e[Symbol.for("apollo.error")]===t}function xo(e){Object.defineProperty(e,Symbol.for("apollo.error"),{value:e.name,enumerable:!1,writable:!1,configurable:!1})}function aN(e){return e.map(t=>t.message||"Error message not found.").join(`
`)}const Ao=class Ao extends Error{constructor(n){super(Ao.formatMessage(n,{defaultFormatMessage:aN}));H(this,"errors");this.name="CombinedProtocolErrors",this.errors=n,xo(this),Object.setPrototypeOf(this,Ao.prototype)}static is(n){return So(n,"CombinedProtocolErrors")}};H(Ao,"formatMessage",aN);let Wu=Ao;function Vk(e){return e!==null&&typeof e=="object"&&typeof e.message=="string"&&typeof e.name=="string"&&(typeof e.stack=="string"||typeof e.stack>"u")}class Ep extends Error{static is(t){return So(t,"UnconventionalError")}constructor(t){super("An error of unexpected shape occurred.",{cause:t}),this.name="UnconventionalError",xo(this),Object.setPrototypeOf(this,Ep.prototype)}}function sN(e){return e.filter(t=>t).map(t=>t.message||"Error message not found.").join(`
`)}const Mo=class Mo extends Error{constructor(n,r=n.errors||[]){super(Mo.formatMessage(r,{result:n,defaultFormatMessage:sN}));H(this,"errors");H(this,"data");H(this,"extensions");this.errors=r,this.data=n.data,this.extensions=n.extensions,this.name="CombinedGraphQLErrors",xo(this),Object.setPrototypeOf(this,Mo.prototype)}static is(n){return So(n,"CombinedGraphQLErrors")}};H(Mo,"formatMessage",sN);let Ui=Mo;const qk=new WeakSet;function Hk(e){qk.add(e)}class Xu extends Error{constructor(n,r){super(n);H(this,"response");H(this,"statusCode");H(this,"bodyText");this.name="ServerError",this.response=r.response,this.statusCode=r.response.status,this.bodyText=r.bodyText,xo(this),Object.setPrototypeOf(this,Xu.prototype)}static is(n){return So(n,"ServerError")}}class Ku extends Error{constructor(n,r){super(n instanceof Error?n.message:"Could not parse server response",{cause:n});H(this,"response");H(this,"statusCode");H(this,"bodyText");this.name="ServerParseError",this.response=r.response,this.statusCode=r.response.status,this.bodyText=r.bodyText,xo(this),Object.setPrototypeOf(this,Ku.prototype)}static is(n){return So(n,"ServerParseError")}}const Ps=Symbol();function Dp(e){return"extensions"in e?Wu.is(e.extensions[Ps]):!1}function Ju(e){return Vk(e)?e:typeof e=="string"?new Error(e,{cause:e}):new Ep(e)}var Le;(function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error",e[e.streaming=9]="streaming"})(Le||(Le={}));const{assign:lN}=Object,Fs={loading:!0,networkStatus:Le.loading,data:void 0,dataState:"empty",partial:!0},Tp={loading:!1,networkStatus:Le.ready,data:void 0,dataState:"empty",partial:!0};LN=Symbol.observable;class _p{constructor({queryManager:t,options:n,transformedQuery:r=t.transform(n.query)}){H(this,"options");H(this,"queryName");H(this,"_lastWrite");H(this,"unsubscribeFromCache");H(this,"input");H(this,"subject");H(this,"isTornDown");H(this,"queryManager");H(this,"subscriptions",new Set);H(this,"waitForNetworkResult");H(this,"lastQuery");H(this,"linkSubscription");H(this,"pollingInfo");H(this,"subscribe");H(this,"pipe");H(this,LN);H(this,"@@observable");H(this,"stableLastResult");H(this,"didWarnCacheOnlyPolling",!1);H(this,"dirty",!1);H(this,"notifyTimeout");H(this,"activeOperations",new Set);H(this,"operator",lp(t=>{const{query:n,variables:r,meta:i}=t;if(t.source==="setResult")return{query:n,variables:r,result:t.value,meta:i};if(t.kind==="C"||!No(t,this))return;let a;const s=this.subject.getValue();if(t.source==="cache"){if(a=t.value,a.networkStatus===Le.ready&&a.partial&&(!this.options.returnPartialData||s.result.networkStatus===Le.error)&&this.options.fetchPolicy!=="cache-only")return}else if(t.source==="network")this.waitForNetworkResult&&(this.waitForNetworkResult=!1,this.resubscribeCache()),a=t.kind==="E"?{...No(s,t)?s.result:{data:void 0,dataState:"empty",partial:!0},error:t.error,networkStatus:Le.error,loading:!1}:t.value,t.kind==="E"&&a.dataState==="streaming"&&(a.dataState="complete"),a.error&&(i.shouldEmit=1);else if(t.source==="newNetworkStatus"){const l=No(s,t)?s.result:this.getInitialResult(i.fetchPolicy),{resetError:o}=t.value,u=o?void 0:l.error,d=u?Le.error:Le.ready;a={...l,error:u,networkStatus:d}}return Ye(a),a.error||delete a.error,a.networkStatus=this.calculateNetworkStatus(a.networkStatus),a.loading=fp(a.networkStatus),a=this.maskResult(a),{query:n,variables:r,result:a,meta:i}}));this.queryManager=t,this.waitForNetworkResult=n.fetchPolicy==="network-only",this.isTornDown=!1,this.subscribeToMore=this.subscribeToMore.bind(this),this.maskResult=this.maskResult.bind(this);const{watchQuery:{fetchPolicy:i="cache-first"}={}}=t.defaultOptions,{fetchPolicy:a=i,initialFetchPolicy:s=a==="standby"?i:a}=n;this.lastQuery=r,this.options={...n,initialFetchPolicy:s,fetchPolicy:a,variables:this.getVariablesWithDefaults(n.variables)},this.initializeObservablesQueue(),this["@@observable"]=()=>this,Symbol.observable&&(this[Symbol.observable]=()=>this);const l=Wr(this.query);this.queryName=l&&l.name&&l.name.value}get query(){return this.lastQuery}get variables(){return this.options.variables}get networkStatus(){return this.subject.getValue().result.networkStatus}initializeObservablesQueue(){this.subject=new ZM({query:this.query,variables:this.variables,result:Fs,meta:{}});const t=this.subject.pipe(Uu({subscribe:()=>{this.subject.observed||(this.reobserve(),setTimeout(()=>this.updatePolling()))},unsubscribe:()=>{this.subject.observed||this.tearDownQuery()}}),lp(({query:n,variables:r,result:i,meta:a},s)=>{const{shouldEmit:l}=a;if(i===Fs&&(s.previous=void 0,s.previousVariables=void 0),this.options.fetchPolicy==="standby"||l===2)return;if(l===1)return d();const{previous:o,previousVariables:u}=s;if(o){const m=this.queryManager.getDocumentInfo(n),f=this.queryManager.dataMasking,h=f?m.nonReactiveQuery:n;if((f||m.hasNonreactiveDirective?Ox(h,o,i,r):Rt(o,i))&&Rt(u,r))return}if(l===3&&(!this.options.notifyOnNetworkStatusChange||Rt(o,i)))return;return d();function d(){return s.previous=i,s.previousVariables=r,i}},()=>({})));this.pipe=t.pipe.bind(t),this.subscribe=t.subscribe.bind(t),this.input=new Ts,this.input.complete=()=>{},this.input.pipe(this.operator).subscribe(this.subject)}getCacheDiff({optimistic:t=!0}={}){return this.queryManager.cache.diff({query:this.query,variables:this.variables,returnPartialData:!0,optimistic:t})}getInitialResult(t){const n=this.queryManager.prioritizeCacheValues?"cache-first":t||this.options.fetchPolicy,r=()=>{const i=this.getCacheDiff(),a=this.options.returnPartialData||i.complete?i.result??void 0:void 0;return this.maskResult({data:a,dataState:i.complete?"complete":a===void 0?"empty":"partial",loading:!i.complete,networkStatus:i.complete?Le.ready:Le.loading,partial:!i.complete})};switch(n){case"cache-only":return{...r(),loading:!1,networkStatus:Le.ready};case"cache-first":return r();case"cache-and-network":return{...r(),loading:!0,networkStatus:Le.loading};case"standby":return Tp;default:return Fs}}resubscribeCache(){var o;const{variables:t,fetchPolicy:n}=this.options,r=this.query,i=n==="standby"||n==="no-cache"||this.waitForNetworkResult,a=!No({query:r,variables:t},this.unsubscribeFromCache)&&!this.waitForNetworkResult;if((i||a)&&((o=this.unsubscribeFromCache)==null||o.call(this)),i||!a)return;const s={query:r,variables:t,optimistic:!0,watcher:this,callback:u=>{const d=this.queryManager.getDocumentInfo(r);if((d.hasClientExports||d.hasForcedResolvers)&&(s.lastDiff=void 0),s.lastOwnDiff===u)return;const{result:m}=this.subject.getValue();!u.complete&&(m.error||m===Fs||m===Tp)||Rt(m.data,u.result)||this.scheduleNotify()}},l=this.queryManager.cache.watch(s);this.unsubscribeFromCache=Object.assign(()=>{this.unsubscribeFromCache=void 0,l()},{query:r,variables:t})}getCurrentResult(){const{result:t}=this.subject.getValue();let n=t.networkStatus===Le.error||this.hasObservers()||this.options.fetchPolicy==="no-cache"?t:this.getInitialResult();return n===Fs&&(n=this.getInitialResult()),Rt(this.stableLastResult,n)||(this.stableLastResult=n),this.stableLastResult}refetch(t){const{fetchPolicy:n}=this.options,r={pollInterval:0};return n==="no-cache"?r.fetchPolicy="no-cache":r.fetchPolicy="network-only",t&&!Rt(this.variables,t)&&(r.variables=this.options.variables=this.getVariablesWithDefaults({...this.variables,...t})),this._lastWrite=void 0,this._reobserve(r,{newNetworkStatus:Le.refetch})}fetchMore({query:t,variables:n,context:r,errorPolicy:i,updateQuery:a}){Ye(this.options.fetchPolicy!=="cache-only",78,As(this.query,"(anonymous)"));const s={...Jn(this.options,{errorPolicy:"none"},{query:t,context:r,errorPolicy:i}),variables:t?n:{...this.variables,...n},fetchPolicy:"no-cache",notifyOnNetworkStatusChange:this.options.notifyOnNetworkStatusChange};s.query=this.transformDocument(s.query),this.lastQuery=t?this.transformDocument(this.options.query):s.query;let l=!1;const o=this.options.fetchPolicy!=="no-cache";o||Ye(a,79);const{finalize:u,pushNotification:d}=this.pushOperation(Le.fetchMore);return d({source:"newNetworkStatus",kind:"N",value:{}},{shouldEmit:3}),this.queryManager.fetchQuery(s,Le.fetchMore).then(m=>{if(u(),o){const f=this.getCacheDiff();this.queryManager.cache.batch({update:h=>{a?h.updateQuery({query:this.query,variables:this.variables,returnPartialData:!0,optimistic:!1},g=>a(g,{fetchMoreResult:m.data,variables:s.variables})):h.writeQuery({query:s.query,variables:s.variables,data:m.data})},onWatchUpdated:(h,g)=>{h.watcher===this&&!Rt(g.result,f.result)&&(l=!0)}})}else{const f=this.getCurrentResult(),h=a(f.data,{fetchMoreResult:m.data,variables:s.variables});d({kind:"N",value:{...f,networkStatus:Le.ready,loading:!1,data:h,dataState:f.dataState==="streaming"?"streaming":"complete"},source:"network"})}return this.maskResult(m)}).finally(()=>{u(),o&&!l&&d({kind:"N",source:"newNetworkStatus",value:{}},{shouldEmit:1})})}subscribeToMore(t){const n=this.queryManager.startGraphQLSubscription({query:t.document,variables:t.variables,context:t.context}).subscribe({next:r=>{const{updateQuery:i,onError:a}=t,{error:s}=r;if(s){a?a(s):Ye.error(80,s);return}i&&this.updateQuery((l,o)=>i(l,{subscriptionData:r,...o}))}});return this.subscriptions.add(n),()=>{this.subscriptions.delete(n)&&n.unsubscribe()}}applyOptions(t){const n=Jn(this.options,t||{});lN(this.options,n),this.updatePolling()}async setVariables(t){return t=this.getVariablesWithDefaults(t),Rt(this.variables,t)?Hu(this.getCurrentResult()):(this.options.variables=t,this.hasObservers()?this._reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:t},{newNetworkStatus:Le.setVariables}):Hu(this.getCurrentResult()))}updateQuery(t){const{queryManager:n}=this,{result:r,complete:i}=this.getCacheDiff({optimistic:!1}),a=t(r,{variables:this.variables,complete:!!i,previousData:r});a&&(n.cache.writeQuery({query:this.options.query,data:a,variables:this.variables}),n.broadcastQueries())}startPolling(t){this.options.pollInterval=t,this.updatePolling()}stopPolling(){this.options.pollInterval=0,this.updatePolling()}applyNextFetchPolicy(t,n){if(n.nextFetchPolicy){const{fetchPolicy:r="cache-first",initialFetchPolicy:i=r}=n;r==="standby"||(typeof n.nextFetchPolicy=="function"?n.fetchPolicy=n.nextFetchPolicy.call(n,r,{reason:t,options:n,observable:this,initialFetchPolicy:i}):t==="variables-changed"?n.fetchPolicy=i:n.fetchPolicy=n.nextFetchPolicy)}return n.fetchPolicy}fetch(t,n,r,i){const a=this.options.fetchPolicy;t.context??(t.context={});let s=!1;const l=()=>{s=!0},o=S=>new xt(v=>{try{return S.subscribe({next(p){s=!0,v.next(p)},error:p=>v.error(p),complete:()=>v.complete()})}finally{s||(h.override=n,this.input.next({kind:"N",source:"newNetworkStatus",value:{resetError:!0},query:m,variables:f,meta:{shouldEmit:3,fetchPolicy:a}}))}});let{observable:u,fromLink:d}=this.queryManager.fetchObservableWithInfo(t,{networkStatus:n,query:r,onCacheHit:l,fetchQueryOperator:o,observableQuery:this});const{query:m,variables:f}=this,h={abort:()=>{w.unsubscribe()},query:m,variables:f};this.activeOperations.add(h);let g=n==Le.refetch||n==Le.setVariables;u=u.pipe(i,Lu());const w=u.pipe(Uu({next:S=>{S.source==="newNetworkStatus"||S.kind==="N"&&S.value.loading?h.override=n:delete h.override},finalize:()=>this.activeOperations.delete(h)})).subscribe({next:S=>{const v={};g&&S.kind==="N"&&"loading"in S.value&&!S.value.loading&&(g=!1,v.shouldEmit=1),this.input.next({...S,query:m,variables:f,meta:v})}});return{fromLink:d,subscription:w,observable:u}}updatePolling(){if(this.queryManager.ssrMode)return;const{pollingInfo:t,options:{fetchPolicy:n,pollInterval:r}}=this;if(!r||!this.hasObservers()||n==="cache-only"){this.cancelPolling();return}if((t==null?void 0:t.interval)===r)return;const i=t||(this.pollingInfo={});i.interval=r;const a=()=>{var l,o;this.pollingInfo&&(!fp(this.networkStatus)&&!((o=(l=this.options).skipPollAttempt)!=null&&o.call(l))?this._reobserve({fetchPolicy:this.options.initialFetchPolicy==="no-cache"?"no-cache":"network-only"},{newNetworkStatus:Le.poll}).then(s,s):s())},s=()=>{const l=this.pollingInfo;l&&(clearTimeout(l.timeout),l.timeout=setTimeout(a,l.interval))};s()}cancelPolling(){this.pollingInfo&&(clearTimeout(this.pollingInfo.timeout),delete this.pollingInfo)}reobserve(t){return this._reobserve(t)}_reobserve(t,n){this.isTornDown=!1;let{newNetworkStatus:r}=n||{};this.queryManager.obsQueries.add(this);const i=r===Le.refetch||r===Le.poll,a=this.variables,s=this.options.fetchPolicy,l=Jn(this.options,t||{}),o=i?l:lN(this.options,l),u=this.transformDocument(o.query);this.lastQuery=u,t&&"variables"in t&&(o.variables=this.getVariablesWithDefaults(t.variables)),i||(this.updatePolling(),t&&t.variables&&!Rt(t.variables,a)&&o.fetchPolicy!=="standby"&&(o.fetchPolicy===s||typeof o.nextFetchPolicy=="function")&&(this.applyNextFetchPolicy("variables-changed",o),r===void 0&&(r=Le.setVariables)));const d=this.networkStatus;r||(r=Le.loading,d!==Le.loading&&(t!=null&&t.variables)&&!Rt(t.variables,a)&&(r=Le.setVariables),o.fetchPolicy==="standby"&&(r=Le.ready)),o.fetchPolicy==="standby"&&this.cancelPolling(),this.resubscribeCache();const{promise:m,operator:f}=Yk(v=>{switch(v.kind){case"E":throw v.error;case"N":if(v.source!=="newNetworkStatus"&&!v.value.loading)return v.value}},o.fetchPolicy==="standby"?{data:void 0}:void 0),{subscription:h,observable:g,fromLink:w}=this.fetch(o,r,u,f);!i&&(w||!this.linkSubscription)&&(this.linkSubscription&&this.linkSubscription.unsubscribe(),this.linkSubscription=h);const S=Object.assign(nk(m.then(v=>Hu(this.maskResult(v))).finally(()=>{!this.hasObservers()&&this.activeOperations.size===0&&this.tearDownQuery()})),{retain:()=>{const v=g.subscribe({}),p=()=>v.unsubscribe();return m.then(p,p),S}});return S}hasObservers(){return this.subject.observed}stop(){this.subject.complete(),this.initializeObservablesQueue(),this.tearDownQuery()}tearDownQuery(){var t;this.isTornDown||(this.resetNotifications(),(t=this.unsubscribeFromCache)==null||t.call(this),this.linkSubscription&&(this.linkSubscription.unsubscribe(),delete this.linkSubscription),this.stopPolling(),this.subscriptions.forEach(n=>n.unsubscribe()),this.subscriptions.clear(),this.queryManager.obsQueries.delete(this),this.isTornDown=!0,this.abortActiveOperations(),this._lastWrite=void 0)}transformDocument(t){return this.queryManager.transform(t)}maskResult(t){const n=this.queryManager.maskOperation({document:this.query,data:t.data,fetchPolicy:this.options.fetchPolicy,cause:this});return n===t.data?t:{...t,data:n}}resetNotifications(){this.notifyTimeout&&(clearTimeout(this.notifyTimeout),this.notifyTimeout=void 0),this.dirty=!1}scheduleNotify(){this.dirty||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(()=>this.notify(!0),0)))}notify(t=!1){if(!t){const r=this.queryManager.getDocumentInfo(this.query);if(r.hasClientExports||r.hasForcedResolvers)return}const{dirty:n}=this;if(this.resetNotifications(),n&&(this.options.fetchPolicy=="cache-only"||this.options.fetchPolicy=="cache-and-network"||!this.activeOperations.size)){const r=this.getCacheDiff();Rt(r.result,this.getCacheDiff({optimistic:!1}).result)?this.reobserveCacheFirst():this.input.next({kind:"N",value:{data:r.result,dataState:r.complete?"complete":r.result?"partial":"empty",networkStatus:Le.ready,loading:!1,error:void 0,partial:!r.complete},source:"cache",query:this.query,variables:this.variables,meta:{}})}}pushOperation(t){let n=!1;const{query:r,variables:i}=this,a=()=>{this.activeOperations.delete(s)},s={override:t,abort:()=>{n=!0,a()},query:r,variables:i};return this.activeOperations.add(s),{finalize:a,pushNotification:(l,o)=>{n||this.input.next({...l,query:r,variables:i,meta:{...o}})}}}calculateNetworkStatus(t){if(t===Le.streaming)return t;const n=Array.from(this.activeOperations.values()).findLast(r=>No(r,this)&&r.override!==void 0);return(n==null?void 0:n.override)??t}abortActiveOperations(){this.activeOperations.forEach(t=>t.abort())}reset(){const t=this.options.fetchPolicy==="cache-only";this.setResult(t?Tp:Fs,{shouldEmit:t?1:2}),this.abortActiveOperations()}setResult(t,n){this.input.next({source:"setResult",kind:"N",value:t,query:this.query,variables:this.variables,meta:{...n}})}reobserveCacheFirst(){const{fetchPolicy:t,nextFetchPolicy:n}=this.options;t==="cache-and-network"||t==="network-only"?this.reobserve({fetchPolicy:"cache-first",nextFetchPolicy(r,i){return this.nextFetchPolicy=n,typeof this.nextFetchPolicy=="function"?this.nextFetchPolicy(r,i):t}}):this.reobserve()}getVariablesWithDefaults(t){return this.queryManager.getVariables(this.query,t)}}function No(e,t){return!!(e&&t&&e.query===t.query&&Rt(e.variables,t.variables))}function Yk(e,t){let n=t,r,i;const a=new Promise((l,o)=>{r=l,i=o}),s=Uu({next(l){try{const o=e(l);o!==void 0&&(n=o)}catch(o){i(o)}},finalize:()=>{if(n)r(n);else{const l="The operation was aborted.",o="AbortError";i(typeof DOMException<"u"?new DOMException(l,o):Object.assign(new Error(l),{name:o}))}}});return{promise:a,operator:s}}const oN={},Bs=new WeakMap;function Op(e,t){const n=e[t];typeof n=="function"&&(e[t]=function(){return Bs.set(e,(Bs.get(e)+1)%1e15),n.apply(this,arguments)})}const cN=new WeakMap;class Cp{constructor(t,n){H(this,"lastRequestId",1);H(this,"cache");H(this,"queryManager");H(this,"id");H(this,"observableQuery");H(this,"incremental");H(this,"_lastWrite");const r=this.cache=t.cache,i=(cN.get(t)||0)+1;cN.set(t,i),this.id=i+"",this.observableQuery=n,this.queryManager=t,Bs.has(r)||(Bs.set(r,0),Op(r,"evict"),Op(r,"modify"),Op(r,"reset"))}get lastWrite(){return(this.observableQuery||this)._lastWrite}set lastWrite(t){(this.observableQuery||this)._lastWrite=t}resetLastWrite(){this.lastWrite=void 0}shouldWrite(t,n){const{lastWrite:r}=this;return!(r&&r.dmCount===Bs.get(this.cache)&&Rt(n,r.variables)&&Rt(t.data,r.result.data))}get hasNext(){return this.incremental?this.incremental.hasNext:!1}maybeHandleIncrementalResult(t,n,r){const{incrementalHandler:i}=this.queryManager;return i.isIncrementalResult(n)?(this.incremental||(this.incremental=i.startRequest({query:r})),this.incremental.handle(t,n)):n}markQueryResult(t,{document:n,variables:r,errorPolicy:i,cacheWriteBehavior:a}){var d;const s={query:n,variables:r,returnPartialData:!0,optimistic:!0};(d=this.observableQuery)==null||d.resetNotifications();const l=a===0,o=l?void 0:this.cache.diff(s);let u=this.maybeHandleIncrementalResult(o==null?void 0:o.result,t,n);return l||(jp(u,i)?this.cache.batch({onWatchUpdated:(m,f)=>{m.watcher===this.observableQuery&&(m.lastOwnDiff=f)},update:m=>{if(this.shouldWrite(u,r))m.writeQuery({query:n,data:u.data,variables:r,overwrite:a===1}),this.lastWrite={result:u,variables:r,dmCount:Bs.get(this.cache)};else if(o&&o.complete){u={...u,data:o.result};return}const f=m.diff(s);f.complete&&(u={...u,data:f.result})}}):this.lastWrite=void 0),u}markMutationResult(t,n,r=this.cache){const i=[],a=n.cacheWriteBehavior===0;let s=this.maybeHandleIncrementalResult(a?void 0:r.diff({id:"ROOT_MUTATION",query:this.queryManager.getDocumentInfo(n.document).asQuery,variables:n.variables,optimistic:!1,returnPartialData:!0}).result,t,n.document);if(n.errorPolicy==="ignore"&&(s={...s,errors:[]}),ks(s)&&n.errorPolicy==="none")return Promise.resolve(s);const l=()=>({...s,dataState:this.hasNext?"streaming":"complete"});if(!a&&jp(s,n.errorPolicy)){i.push({result:s.data,dataId:"ROOT_MUTATION",query:n.document,variables:n.variables});const{updateQueries:u}=n;u&&this.queryManager.getObservableQueries("all").forEach(d=>{const m=d&&d.queryName;if(!m||!Object.hasOwnProperty.call(u,m))return;const f=u[m],{query:h,variables:g}=d,{result:w,complete:S}=d.getCacheDiff({optimistic:!1});if(S&&w){const v=f(w,{mutationResult:l(),queryName:h&&As(h)||void 0,queryVariables:g});v&&i.push({result:v,dataId:"ROOT_QUERY",query:h,variables:g})}})}let o=n.refetchQueries;if(typeof o=="function"&&(o=o(l())),i.length>0||(o||"").length>0||n.update||n.onQueryUpdated||n.removeOptimistic){const u=[];if(this.queryManager.refetchQueries({updateCache:d=>{a||i.forEach(f=>d.write(f));const{update:m}=n;if(m){if(!a){const f=d.diff({id:"ROOT_MUTATION",query:this.queryManager.getDocumentInfo(n.document).asQuery,variables:n.variables,optimistic:!1,returnPartialData:!0});f.complete&&(s={...s,data:f.result})}this.hasNext||m(d,s,{context:n.context,variables:n.variables})}!a&&!n.keepRootFields&&!this.hasNext&&d.modify({id:"ROOT_MUTATION",fields(f,{fieldName:h,DELETE:g}){return h==="__typename"?f:g}})},include:o,optimistic:!1,removeOptimistic:n.removeOptimistic,onQueryUpdated:n.onQueryUpdated||null}).forEach(d=>u.push(d)),n.awaitRefetchQueries||n.onQueryUpdated)return Promise.all(u).then(()=>s)}return Promise.resolve(s)}markMutationOptimistic(t,n){const r=typeof t=="function"?t(n.variables,{IGNORE:oN}):t;return r===oN?!1:(this.cache.recordOptimisticTransaction(i=>{try{this.markMutationResult({data:r},n,i)}catch(a){Ye.error(a)}},this.id),!0)}markSubscriptionResult(t,{document:n,variables:r,errorPolicy:i,cacheWriteBehavior:a}){a!==0&&(jp(t,i)&&this.cache.write({query:n,result:t.data,dataId:"ROOT_SUBSCRIPTION",variables:r}),this.queryManager.broadcastQueries())}}function jp(e,t="none"){const n=t==="ignore"||t==="all";let r=!ks(e);return!r&&n&&e.data&&(r=!0),r}class Zk{constructor(t){H(this,"defaultOptions");H(this,"client");H(this,"clientOptions");H(this,"assumeImmutableResults");H(this,"documentTransform");H(this,"ssrMode");H(this,"defaultContext");H(this,"dataMasking");H(this,"incrementalHandler");H(this,"localState");H(this,"queryDeduplication");H(this,"prioritizeCacheValues",!1);H(this,"onBroadcast");H(this,"mutationStore");H(this,"obsQueries",new Set);H(this,"fetchCancelFns",new Map);H(this,"transformCache",new wx(Gr["queryManager.getDocumentInfo"]||2e3));H(this,"requestIdCounter",1);H(this,"inFlightLinkObservables",new Ii(!1));H(this,"noCacheWarningsByCause",new WeakSet);const n=new Xr(i=>this.cache.transformDocument(i),{cache:!1});this.client=t.client,this.defaultOptions=t.defaultOptions,this.queryDeduplication=t.queryDeduplication,this.clientOptions=t.clientOptions,this.ssrMode=t.ssrMode,this.assumeImmutableResults=t.assumeImmutableResults,this.dataMasking=t.dataMasking,this.localState=t.localState,this.incrementalHandler=t.incrementalHandler;const r=t.documentTransform;this.documentTransform=r?n.concat(r).concat(n):n,this.defaultContext=t.defaultContext||{},(this.onBroadcast=t.onBroadcast)&&(this.mutationStore={})}get link(){return this.client.link}get cache(){return this.client.cache}stop(){this.obsQueries.forEach(t=>t.stop()),this.cancelPendingFetches(Kn(83))}cancelPendingFetches(t){this.fetchCancelFns.forEach(n=>n(t)),this.fetchCancelFns.clear()}async mutate({mutation:t,variables:n,optimisticResponse:r,updateQueries:i,refetchQueries:a=[],awaitRefetchQueries:s=!1,update:l,onQueryUpdated:o,fetchPolicy:u,errorPolicy:d,keepRootFields:m,context:f}){const h=new Cp(this);t=this.cache.transformForLink(this.transform(t));const{hasClientExports:g}=this.getDocumentInfo(t);n=this.getVariables(t,n),g&&(n=await this.localState.getExportedVariables({client:this.client,document:t,variables:n,context:f}));const w=this.mutationStore&&(this.mutationStore[h.id]={mutation:t,variables:n,loading:!0,error:null}),S=r&&h.markMutationOptimistic(r,{document:t,variables:n,cacheWriteBehavior:u==="no-cache"?0:2,errorPolicy:d,context:f,updateQueries:i,update:l,keepRootFields:m});return this.broadcastQueries(),new Promise((v,p)=>{const y={};return this.getObservableFromLink(t,{...f,optimisticResponse:S?r:void 0},n,{},!1).observable.pipe(uN(),_s(x=>{const C={...x};return ya(h.markMutationResult(C,{document:t,variables:n,cacheWriteBehavior:u==="no-cache"?0:2,errorPolicy:d,context:f,update:l,updateQueries:i,awaitRefetchQueries:s,refetchQueries:a,removeOptimistic:S?h.id:void 0,onQueryUpdated:o,keepRootFields:m}))})).pipe(wa(x=>{if(ks(x)&&d==="none")throw new Ui(x);return w&&(w.loading=!1,w.error=null),x})).subscribe({next:x=>{if(this.broadcastQueries(),!h.hasNext){const C={data:this.maskOperation({document:t,data:x.data,fetchPolicy:u,cause:y})};ks(x)&&(C.error=new Ui(x)),Object.keys(x.extensions||{}).length&&(C.extensions=x.extensions),v(C)}},error:x=>{if(w&&(w.loading=!1,w.error=x),S&&this.cache.removeOptimistic(h.id),this.broadcastQueries(),d==="ignore")return v({data:void 0});if(d==="all")return v({data:void 0,error:x});p(x)}})})}fetchQuery(t,n){return zi(t.query,cr.QUERY),(async()=>f2(this.fetchObservableWithInfo(t,{networkStatus:n}).observable.pipe(lp(r=>{switch(r.kind){case"E":throw r.error;case"N":if(r.source!=="newNetworkStatus")return Hu(r.value)}})),{defaultValue:{data:void 0}}))()}transform(t){return this.documentTransform.transformDocument(t)}getDocumentInfo(t){const{transformCache:n}=this;if(!n.has(t)){const i=Wr(t),a={hasClientExports:go(["client","export"],t,!0),hasForcedResolvers:J2(t),hasNonreactiveDirective:go(["nonreactive"],t),hasIncrementalDirective:go(["defer"],t),nonReactiveQuery:Qk(t),clientQuery:go(["client"],t)?t:null,serverQuery:rk([{name:"client",remove:!0},{name:"connection"},{name:"nonreactive"},{name:"unmask"}],t),operationType:i==null?void 0:i.operation,defaultVars:rp(i),asQuery:{...t,definitions:t.definitions.map(s=>s.kind==="OperationDefinition"&&s.operation!=="query"?{...s,operation:"query"}:s)}};n.set(t,a)}const r=n.get(t);if(r.violation)throw r.violation;return r}getVariables(t,n){const r=this.getDocumentInfo(t).defaultVars,i=Object.entries(n??{}).map(([a,s])=>[a,s===void 0?r[a]:s]);return{...r,...Object.fromEntries(i)}}watchQuery(t){zi(t.query,cr.QUERY);const n=this.transform(t.query);return t={...t,variables:this.getVariables(n,t.variables)},typeof t.notifyOnNetworkStatusChange>"u"&&(t.notifyOnNetworkStatusChange=!0),new _p({queryManager:this,options:t,transformedQuery:n})}query(t){const n=this.transform(t.query);return this.fetchQuery({...t,query:n}).then(r=>({...r,data:this.maskOperation({document:n,data:r==null?void 0:r.data,fetchPolicy:t.fetchPolicy})}))}generateRequestId(){return this.requestIdCounter++}clearStore(t={discardWatches:!0}){return this.cancelPendingFetches(Kn(85)),this.obsQueries.forEach(n=>{n.reset()}),this.mutationStore&&(this.mutationStore={}),this.cache.reset(t)}getObservableQueries(t="active"){const n=new Set,r=new Map,i=new Map,a=new Set;return Array.isArray(t)&&t.forEach(s=>{if(typeof s=="string")r.set(s,s),i.set(s,!1);else if(ek(s)){const l=zs(this.transform(s));r.set(l,As(s)),i.set(l,!1)}else wn(s)&&s.query&&a.add(s)}),this.obsQueries.forEach(s=>{const l=zs(this.transform(s.options.query));if(t==="all"){n.add(s);return}const{queryName:o,options:{fetchPolicy:u}}=s;t==="active"&&u==="standby"||(t==="active"||o&&i.has(o)||l&&i.has(l))&&(n.add(s),o&&i.set(o,!0),l&&i.set(l,!0))}),a.size&&a.forEach(s=>{const l=new _p({queryManager:this,options:{...s,fetchPolicy:"network-only"}});n.add(l)}),n}refetchObservableQueries(t=!1){const n=[];return this.getObservableQueries(t?"all":"active").forEach(r=>{const{fetchPolicy:i}=r.options;(t||i!=="standby")&&i!=="cache-only"&&n.push(r.refetch())}),this.broadcastQueries(),Promise.all(n)}startGraphQLSubscription(t){let{query:n,variables:r}=t;const{fetchPolicy:i,errorPolicy:a="none",context:s={},extensions:l={}}=t;zi(n,cr.SUBSCRIPTION),n=this.transform(n),r=this.getVariables(n,r);let o;const u=(this.getDocumentInfo(n).hasClientExports?ya(this.localState.getExportedVariables({client:this.client,document:n,variables:r,context:s})):ba(r)).pipe(_s(d=>{const{observable:m,restart:f}=this.getObservableFromLink(n,s,d,l),h=new Cp(this);return o=f,m.pipe(wa(g=>{h.markSubscriptionResult(g,{document:n,variables:d,errorPolicy:a,cacheWriteBehavior:i==="no-cache"?0:2});const w={data:g.data??void 0};return ks(g)?w.error=new Ui(g):Dp(g)&&(w.error=g.extensions[Ps],delete g.extensions[Ps]),g.extensions&&Object.keys(g.extensions).length&&(w.extensions=g.extensions),w.error&&a==="none"&&(w.data=void 0),a==="ignore"&&delete w.error,w}),zu(g=>ba(a==="ignore"?{data:void 0}:{data:void 0,error:g})),g2(g=>!!(g.data||g.error)))}));return Object.assign(u,{restart:()=>o==null?void 0:o()})}broadcastQueries(){this.onBroadcast&&this.onBroadcast(),this.obsQueries.forEach(t=>t.notify())}getObservableFromLink(t,n,r,i,a=(n==null?void 0:n.queryDeduplication)??this.queryDeduplication){let s={};const{serverQuery:l,clientQuery:o,operationType:u,hasIncrementalDirective:d}=this.getDocumentInfo(t),m=As(t),f={client:this.client};if(l){const{inFlightLinkObservables:h,link:g}=this;try{let S=function(v){return new xt(p=>{function y(){return v.subscribe({next:p.next.bind(p),complete:p.complete.bind(p),error:p.error.bind(p)})}let x=y();return s.restart||(s.restart=()=>{x.unsubscribe(),x=y()}),()=>{x.unsubscribe(),s.restart=void 0}})};const w=this.incrementalHandler.prepareRequest({query:l,variables:r,context:{...this.defaultContext,...n,queryDeduplication:a},extensions:i});if(n=w.context,a){const v=zs(l),p=Li(r);s=h.lookup(v,p),s.observable||(s.observable=up(g,w,f).pipe(S,v2(()=>{h.peek(v,p)===s&&h.remove(v,p)}),u===cr.SUBSCRIPTION?Lu():b2({refCount:!0})))}else s.observable=up(g,w,f).pipe(S)}catch(w){s.observable=YS(()=>w)}}else s.observable=ba({data:{}});if(o){const{operation:h}=Wr(t);Ye(!d,90,h[0].toUpperCase()+h.slice(1),m??"(anonymous)"),s.observable=s.observable.pipe(_s(g=>ya(this.localState.execute({client:this.client,document:o,remoteResult:g,context:n,variables:r}))))}return{restart:()=>{var h;return(h=s.restart)==null?void 0:h.call(s)},observable:s.observable.pipe(zu(h=>{throw h=Ju(h),Hk(h),h}))}}getResultsFromLink(t,{queryInfo:n,cacheWriteBehavior:r,observableQuery:i}){const a=n.lastRequestId=this.generateRequestId(),{errorPolicy:s}=t,l=this.cache.transformForLink(t.query);return this.getObservableFromLink(l,t.context,t.variables).observable.pipe(wa(o=>{const u=n.markQueryResult(o,{...t,document:l,cacheWriteBehavior:r}),d=ks(u);if(d&&s==="none")throw n.resetLastWrite(),i==null||i.resetNotifications(),new Ui(u);const m={data:u.data,...n.hasNext?{loading:!0,networkStatus:Le.streaming,dataState:"streaming",partial:!0}:{dataState:u.data?"complete":"empty",loading:!1,networkStatus:Le.ready,partial:!u.data}};return d&&(s==="none"&&(m.data=void 0,m.dataState="empty"),s!=="ignore"&&(m.error=new Ui(u),m.dataState!=="streaming"&&(m.networkStatus=Le.error))),m}),zu(o=>{if(a>=n.lastRequestId&&s==="none")throw n.resetLastWrite(),i==null||i.resetNotifications(),o;const u={data:void 0,dataState:"empty",loading:!1,networkStatus:Le.ready,partial:!0};return s!=="ignore"&&(u.error=o,u.networkStatus=Le.error),ba(u)}))}fetchObservableWithInfo(t,{networkStatus:n=Le.loading,query:r=t.query,fetchQueryOperator:i=l=>l,onCacheHit:a=()=>{},observableQuery:s}){const l=this.getVariables(r,t.variables),o=this.defaultOptions.watchQuery;let{fetchPolicy:u=o&&o.fetchPolicy||"cache-first",errorPolicy:d=o&&o.errorPolicy||"none",returnPartialData:m=!1,notifyOnNetworkStatusChange:f=!0,context:h={}}=t;this.prioritizeCacheValues&&(u==="network-only"||u==="cache-and-network")&&(u="cache-first");const g=Object.assign({},t,{query:r,variables:l,fetchPolicy:u,errorPolicy:d,returnPartialData:m,notifyOnNetworkStatusChange:f,context:h}),w=new Cp(this,s),S=C=>{g.variables=C;const V=u==="no-cache"?0:n===Le.refetch&&g.refetchWritePolicy!=="merge"?1:2,D=this.fetchQueryByPolicy(g,{queryInfo:w,cacheWriteBehavior:V,onCacheHit:a,observableQuery:s});return D.observable=D.observable.pipe(i),g.fetchPolicy!=="standby"&&(s==null||s.applyNextFetchPolicy("after-fetch",t)),D},v=()=>{this.fetchCancelFns.delete(w.id)};this.fetchCancelFns.set(w.id,C=>{p.next({kind:"E",error:C,source:"network"})});const p=new Ts;let y,x;if(this.getDocumentInfo(g.query).hasClientExports)y=ya(this.localState.getExportedVariables({client:this.client,document:g.query,variables:g.variables,context:g.context})).pipe(_s(C=>S(C).observable)),x=!0;else{const C=S(g.variables);x=C.fromLink,y=C.observable}return{observable:new xt(C=>{C.add(v),y.subscribe(C),p.subscribe(C)}).pipe(Lu()),fromLink:x}}refetchQueries({updateCache:t,include:n,optimistic:r=!1,removeOptimistic:i=r?GS("refetchQueries"):void 0,onQueryUpdated:a}){const s=new Map;n&&this.getObservableQueries(n).forEach(o=>{if(o.options.fetchPolicy==="cache-only")return;const u=o.getCurrentResult();s.set(o,{oq:o,lastDiff:{result:u==null?void 0:u.data,complete:!(u!=null&&u.partial)}})});const l=new Map;if(t){const o=new Set;this.cache.batch({update:t,optimistic:r&&i||!1,removeOptimistic:i,onWatchUpdated(u,d,m){const f=u.watcher;if(f instanceof _p&&!o.has(f)){if(o.add(f),a){s.delete(f);let h=a(f,d,m);return h===!0&&(h=f.refetch().retain()),h!==!1&&l.set(f,h),h}a!==null&&f.options.fetchPolicy!=="cache-only"&&s.set(f,{oq:f,lastDiff:m,diff:d})}}})}return s.size&&s.forEach(({oq:o,lastDiff:u,diff:d})=>{let m;a&&(d||(d=o.getCacheDiff()),m=a(o,d,u)),(!a||m===!0)&&(m=o.refetch().retain()),m!==!1&&l.set(o,m)}),i&&this.cache.removeOptimistic(i),l}maskOperation(t){const{document:n,data:r}=t;return this.dataMasking?kk(r,n,this.cache):r}maskFragment(t){const{data:n,fragment:r,fragmentName:i}=t;return this.dataMasking?Mk(n,r,this.cache,i):n}fetchQueryByPolicy({query:t,variables:n,fetchPolicy:r,errorPolicy:i,returnPartialData:a,context:s},{cacheWriteBehavior:l,onCacheHit:o,queryInfo:u,observableQuery:d}){const m=()=>this.cache.diff({query:t,variables:n,returnPartialData:!0,optimistic:!0}),f=(g,w)=>{const S=g.result,v=y=>(!g.complete&&!a&&(y=void 0),{data:y,dataState:g.complete?"complete":y?"partial":"empty",loading:fp(w),networkStatus:w,partial:!g.complete}),p=y=>ba({kind:"N",value:v(y),source:"cache"});return(g.complete||a)&&this.getDocumentInfo(t).hasForcedResolvers?(o(),ya(this.localState.execute({client:this.client,document:t,remoteResult:S?{data:S}:void 0,context:s,variables:n,onlyRunForcedResolvers:!0,returnPartialData:!0}).then(y=>({kind:"N",value:v(y.data||void 0),source:"cache"})))):i==="none"&&w===Le.refetch&&g.missing?p(void 0):p(S||void 0)},h=()=>this.getResultsFromLink({query:t,variables:n,context:s,fetchPolicy:r,errorPolicy:i},{cacheWriteBehavior:l,queryInfo:u,observableQuery:d}).pipe(uN(),y2(),wa(g=>({...g,source:"network"})));switch(r){default:case"cache-first":{const g=m();return g.complete?{fromLink:!1,observable:f(g,Le.ready)}:a?{fromLink:!0,observable:Vm(f(g,Le.loading),h())}:{fromLink:!0,observable:h()}}case"cache-and-network":{const g=m();return g.complete||a?{fromLink:!0,observable:Vm(f(g,Le.loading),h())}:{fromLink:!0,observable:h()}}case"cache-only":return{fromLink:!1,observable:Vm(f(m(),Le.ready))};case"network-only":return{fromLink:!0,observable:h()};case"no-cache":return{fromLink:!0,observable:h()};case"standby":return{fromLink:!1,observable:Ru}}}}function uN(){let e=!1;return Uu({next(){e=!0},complete(){Ye(e,94)}})}function Qk(e){return Sr(e,{FragmentSpread:t=>{var n;if(!((n=t.directives)!=null&&n.some(r=>r.name.value==="unmask")))return{...t,directives:[...t.directives||[],{kind:Se.DIRECTIVE,name:{kind:Se.NAME,value:"nonreactive"}}]}}})}class Gk{constructor(t){H(this,"link");H(this,"cache");H(this,"disableNetworkFetches");H(this,"version");H(this,"queryDeduplication");H(this,"defaultOptions");H(this,"devtoolsConfig");H(this,"queryManager");H(this,"devToolsHookCb");H(this,"resetStoreCallbacks",[]);H(this,"clearStoreCallbacks",[]);H(this,"reFetchObservableQueries");H(this,"maskedFragmentTransform",new Xr(sk));const{cache:n,documentTransform:r,ssrMode:i=!1,ssrForceFetchDelay:a=0,queryDeduplication:s=!0,defaultOptions:l,defaultContext:o,assumeImmutableResults:u=n.assumeImmutableResults,localState:d,devtools:m,dataMasking:f,link:h,incrementalHandler:g=new pk}=t;this.link=h,this.cache=n,this.queryDeduplication=s,this.defaultOptions=l||{},this.devtoolsConfig={...m,enabled:(m==null?void 0:m.enabled)??w2},this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.watchFragment=this.watchFragment.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.refetchObservableQueries=this.refetchObservableQueries.bind(this),this.version=Ym,this.queryManager=new Zk({client:this,defaultOptions:this.defaultOptions,defaultContext:o,documentTransform:r,queryDeduplication:s,ssrMode:i,dataMasking:!!f,clientOptions:t,incrementalHandler:g,assumeImmutableResults:u,onBroadcast:this.devtoolsConfig.enabled?()=>{this.devToolsHookCb&&this.devToolsHookCb()}:void 0,localState:d}),this.prioritizeCacheValues=i||a>0,a&&setTimeout(()=>{this.prioritizeCacheValues=!1},a),this.devtoolsConfig.enabled&&this.connectToDevTools()}set prioritizeCacheValues(t){this.queryManager.prioritizeCacheValues=t}get prioritizeCacheValues(){return this.queryManager.prioritizeCacheValues}connectToDevTools(){if(typeof window>"u")return;const t=window,n=Symbol.for("apollo.devtools");(t[n]=t[n]||[]).push(this),t.__APOLLO_CLIENT__=this}get documentTransform(){return this.queryManager.documentTransform}get localState(){return this.queryManager.localState}set localState(t){this.queryManager.localState=t}stop(){this.queryManager.stop()}watchQuery(t){return this.defaultOptions.watchQuery&&(t=sp(this.defaultOptions.watchQuery,t)),this.queryManager.watchQuery(t)}query(t){return this.defaultOptions.query&&(t=sp(this.defaultOptions.query,t)),this.queryManager.query(t)}mutate(t){const n=sp(Jn({fetchPolicy:"network-only",errorPolicy:"none"},this.defaultOptions.mutate),t);return zi(n.mutation,cr.MUTATION),this.queryManager.mutate(n)}subscribe(t){const n={},r=this.queryManager.startGraphQLSubscription(t),i=r.pipe(wa(a=>({...a,data:this.queryManager.maskOperation({document:t.query,data:a.data,fetchPolicy:t.fetchPolicy,cause:n})})));return Object.assign(i,{restart:r.restart})}readQuery(t,n=!1){return this.cache.readQuery({...t,query:this.transform(t.query)},n)}watchFragment(t){const n=this.queryManager.dataMasking;return this.cache.watchFragment({...t,fragment:this.transform(t.fragment,n)}).pipe(wa(r=>r))}readFragment(t,n=!1){return this.cache.readFragment({...t,fragment:this.transform(t.fragment)},n)}writeQuery(t){const n=this.cache.writeQuery(t);return t.broadcast!==!1&&this.queryManager.broadcastQueries(),n}writeFragment(t){const n=this.cache.writeFragment(t);return t.broadcast!==!1&&this.queryManager.broadcastQueries(),n}__actionHookForDevTools(t){this.devToolsHookCb=t}__requestRaw(t){return up(this.link,t,{client:this})}resetStore(){return Promise.resolve().then(()=>this.queryManager.clearStore({discardWatches:!1})).then(()=>Promise.all(this.resetStoreCallbacks.map(t=>t()))).then(()=>this.refetchObservableQueries())}clearStore(){return Promise.resolve().then(()=>this.queryManager.clearStore({discardWatches:!0})).then(()=>Promise.all(this.clearStoreCallbacks.map(t=>t())))}onResetStore(t){return this.resetStoreCallbacks.push(t),()=>{this.resetStoreCallbacks=this.resetStoreCallbacks.filter(n=>n!==t)}}onClearStore(t){return this.clearStoreCallbacks.push(t),()=>{this.clearStoreCallbacks=this.clearStoreCallbacks.filter(n=>n!==t)}}refetchObservableQueries(t){return this.queryManager.refetchObservableQueries(t)}refetchQueries(t){const n=this.queryManager.refetchQueries(t),r=[],i=[];n.forEach((s,l)=>{r.push(l),i.push(s)});const a=Promise.all(i);return a.queries=r,a.results=i,a.catch(s=>{}),a}getObservableQueries(t="active"){return this.queryManager.getObservableQueries(t)}extract(t){return this.cache.extract(t)}restore(t){return this.cache.restore(t)}setLink(t){this.link=t}get defaultContext(){return this.queryManager.defaultContext}transform(t,n=!1){const r=this.queryManager.transform(t);return n?this.maskedFragmentTransform.transformDocument(r):r}}const{hasOwnProperty:dN}=Object.prototype;function Wk(e){return wn(e)&&"payload"in e}async function*Xk(e){var f;const t=new TextDecoder("utf-8"),n=(f=e.headers)==null?void 0:f.get("content-type"),r=n==null?void 0:n.match(/;\s*boundary=(?:'([^']+)'|"([^"]+)"|([^"'].+?))\s*(?:;|$)/i),i=`\r
--`+((r==null?void 0:r.findLast(h=>!!h))||"-");let a="";Ye(e.body&&typeof e.body.getReader=="function",60);const l=e.body.getReader();let o=!1,u=!1,d;const m=()=>u&&a[0]=="-"&&a[1]=="-";try{for(;!o;){({value:d,done:o}=await l.read());const h=typeof d=="string"?d:t.decode(d),g=a.length-i.length+1;a+=h;let w=a.indexOf(i,g);for(;w>-1&&!m();){u=!0;let S;[S,a]=[a.slice(0,w),a.slice(w+i.length)];const v=S.indexOf(`\r
\r
`),y=Jk(S.slice(0,v))["content-type"];if(y&&y.toLowerCase().indexOf("application/json")===-1)throw new Error("Unsupported patch content type: application/json is required.");const x=S.slice(v);x&&(yield x),w=a.indexOf(i)}if(m())return}throw new Error("premature end of multipart body")}finally{l.cancel()}}async function Kk(e,t){for await(const n of Xk(e)){const r=fN(e,n);if(Object.keys(r).length!=0)if(Wk(r)){if(Object.keys(r).length===1&&r.payload===null)return;let i={...r.payload};"errors"in r&&(i.extensions={...i.extensions,[Ps]:new Wu(r.errors??[])}),t(i)}else t(r)}}function Jk(e){const t={};return e.split(`
`).forEach(n=>{const r=n.indexOf(":");if(r>-1){const i=n.slice(0,r).trim().toLowerCase(),a=n.slice(r+1).trim();t[i]=a}}),t}function fN(e,t){if(e.status>=300)throw new Xu(`Response not successful: Received status code ${e.status}`,{response:e,bodyText:t});try{return JSON.parse(t)}catch(n){throw new Ku(n,{response:e,bodyText:t})}}function eI(e,t){try{return JSON.parse(t)}catch(n){throw new Ku(n,{response:e,bodyText:t})}}function tI(e,t){const n=e.headers.get("content-type");return n!=null&&n.includes("application/graphql-response+json")?eI(e,t):fN(e,t)}function nI(e){return t=>t.text().then(n=>{const r=tI(t,n);if(!Array.isArray(r)&&!dN.call(r,"data")&&!dN.call(r,"errors"))throw new Xu(`Server response was malformed for query '${Array.isArray(e)?e.map(i=>i.operationName):e.operationName}'.`,{response:t,bodyText:n});return r})}const rI={http:{includeQuery:!0,includeExtensions:!0,preserveHeaderCase:!1},headers:{accept:"application/graphql-response+json,application/json;q=0.9","content-type":"application/json"},options:{method:"POST"}},iI=(e,t)=>t(e);function aI(e,t,...n){let r={},i={};n.forEach(d=>{var m;r={...r,...d.options,headers:{...r.headers,...d.headers}},d.credentials&&(r.credentials=d.credentials),r.headers.accept=(((m=d.http)==null?void 0:m.accept)||[]).concat(r.headers.accept).join(","),i={...i,...d.http}}),r.headers=sI(r.headers,i.preserveHeaderCase);const{operationName:a,extensions:s,variables:l,query:o}=e,u={operationName:a,variables:l};return i.includeExtensions&&Object.keys(s||{}).length&&(u.extensions=s),i.includeQuery&&(u.query=t(o,zs)),{options:r,body:u}}function sI(e,t){if(!t){const i={};return Object.keys(Object(e)).forEach(a=>{i[a.toLowerCase()]=e[a]}),i}const n={};Object.keys(Object(e)).forEach(i=>{n[i.toLowerCase()]={originalName:i,value:e[i]}});const r={};return Object.keys(n).forEach(i=>{r[n[i].originalName]=n[i].value}),r}const lI=(e,t)=>{const r=e.getContext().uri;return r||(typeof t=="function"?t(e):t||"/graphql")};function oI(e,t){const n=[],r=(u,d)=>{n.push(`${u}=${encodeURIComponent(d)}`)};if("query"in t&&r("query",t.query),t.operationName&&r("operationName",t.operationName),t.variables){let u;try{u=JSON.stringify(t.variables)}catch(d){return{parseError:d}}r("variables",u)}if(t.extensions){let u;try{u=JSON.stringify(t.extensions)}catch(d){return{parseError:d}}r("extensions",u)}let i="",a=e;const s=e.indexOf("#");s!==-1&&(i=e.substr(s),a=e.substr(0,s));const l=a.indexOf("?")===-1?"?":"&";return{newURI:a+l+n.join("&")+i}}const cI=ki(()=>fetch);function uI(){}class dI extends tn{constructor(t={}){let{uri:n="/graphql",fetch:r,print:i=iI,includeExtensions:a,preserveHeaderCase:s,useGETForQueries:l,includeUnusedVariables:o=!1,...u}=t;const d={http:Jn({includeExtensions:a,preserveHeaderCase:s}),options:u.fetchOptions,credentials:u.credentials,headers:u.headers};super(m=>{let f=lI(m,n);const h=m.getContext(),g={...h.http};Sk(m.query)&&(g.accept=["multipart/mixed;boundary=graphql;subscriptionSpec=1.0",...g.accept||[]]);const w={http:g,options:h.fetchOptions,credentials:h.credentials,headers:h.headers},{options:S,body:v}=aI(m,i,rI,d,w);v.variables&&!o&&(v.variables=vk(v.variables,m.query));let p=new AbortController,y=()=>{p=void 0};if(S.signal){const x=S.signal,C=()=>{p==null||p.abort(x.reason)};x.addEventListener("abort",C,{once:!0}),y=()=>{p==null||p.signal.removeEventListener("abort",y),p=void 0,x.removeEventListener("abort",C),y=uI},p.signal.addEventListener("abort",y,{once:!0})}return S.signal=p.signal,l&&!wk(m.query)&&(S.method="GET"),new xt(x=>{if(S.method==="GET"){const{newURI:D,parseError:k}=oI(f,v);if(k)throw k;f=D}else S.body=JSON.stringify(v);const C=r||ki(()=>fetch)||cI,V=x.next.bind(x);return C(f,S).then(D=>{var M;m.setContext({response:D});const k=(M=D.headers)==null?void 0:M.get("content-type");return k!==null&&/^multipart\/mixed/i.test(k)?Kk(D,V):nI(m)(D).then(V)}).then(()=>{y(),x.complete()}).catch(D=>{y(),x.error(D)}),()=>{p&&p.abort()}})})}}class fI extends tn{constructor(t={}){super((n,r)=>{const i=n.client,a=i.queryManager.clientOptions,s=n.getContext();{const{name:l,version:o,transport:u="headers"}=Jn({},a.clientAwareness,t.clientAwareness,s.clientAwareness);u==="headers"&&n.setContext(({headers:d,extensions:m})=>({headers:Jn({"apollographql-client-name":l,"apollographql-client-version":o},d)}))}{const{transport:l="extensions"}=Jn({},a.enhancedClientAwareness,t.enhancedClientAwareness);l==="extensions"&&(n.extensions=Jn({clientLibrary:{name:"@apollo/client",version:i.version}},n.extensions))}return r(n)})}}class hI extends tn{constructor(t={}){const{left:n,right:r,request:i}=tn.from([new fI(t),new dI(t)]);super(i),Object.assign(this,{left:n,right:r})}}var ed=new Map,Ap=new Map,hN=!0,td=!1;function mN(e){return e.replace(/[\s,]+/g," ").trim()}function mI(e){return mN(e.source.body.substring(e.start,e.end))}function pI(e){var t=new Set,n=[];return e.definitions.forEach(function(r){if(r.kind==="FragmentDefinition"){var i=r.name.value,a=mI(r.loc),s=Ap.get(i);s&&!s.has(a)?hN&&console.warn("Warning: fragment with name "+i+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):s||Ap.set(i,s=new Set),s.add(a),t.has(a)||(t.add(a),n.push(r))}else n.push(r)}),Cu(Cu({},e),{definitions:n})}function gI(e){var t=new Set(e.definitions);t.forEach(function(r){r.loc&&delete r.loc,Object.keys(r).forEach(function(i){var a=r[i];a&&typeof a=="object"&&t.add(a)})});var n=e.loc;return n&&(delete n.startToken,delete n.endToken),e}function vI(e){var t=mN(e);if(!ed.has(t)){var n=NM(e,{experimentalFragmentVariables:td,allowLegacyFragmentVariables:td});if(!n||n.kind!=="Document")throw new Error("Not a valid GraphQL document.");ed.set(t,gI(pI(n)))}return ed.get(t)}function nn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];typeof e=="string"&&(e=[e]);var r=e[0];return t.forEach(function(i,a){i&&i.kind==="Document"?r+=i.loc.source.body:r+=i,r+=e[a+1]}),vI(r)}function yI(){ed.clear(),Ap.clear()}function bI(){hN=!1}function wI(){td=!0}function SI(){td=!1}var Eo={gql:nn,resetCaches:yI,disableFragmentWarnings:bI,enableExperimentalFragmentVariables:wI,disableExperimentalFragmentVariables:SI};(function(e){e.gql=Eo.gql,e.resetCaches=Eo.resetCaches,e.disableFragmentWarnings=Eo.disableFragmentWarnings,e.enableExperimentalFragmentVariables=Eo.enableExperimentalFragmentVariables,e.disableExperimentalFragmentVariables=Eo.disableExperimentalFragmentVariables})(nn||(nn={})),nn.default=nn;function xI(e){return new NI(e)}class NI extends tn{constructor(t){super((n,r)=>new xt(i=>{let a,s,l;try{a=r(n).subscribe({next:o=>{const u=n.client.queryManager.incrementalHandler,d=u.isIncrementalResult(o)?u.extractErrors(o):o.errors;d?l=t({error:new Ui(o,d),result:o,operation:n,forward:r}):Dp(o)&&(l=t({error:o.extensions[Ps],result:o,operation:n,forward:r})),s=l==null?void 0:l.subscribe(i),s||i.next(o)},error:o=>{l=t({operation:n,error:Ju(o),forward:r}),s=l==null?void 0:l.subscribe(i),s||i.error(o)},complete:()=>{l||i.complete()}})}catch(o){t({error:Ju(o),operation:n,forward:r}),i.error(o)}return()=>{a&&a.unsubscribe(),s&&s.unsubscribe()}}))}}function EI(e){const{initial:t=300,jitter:n=!0,max:r=1/0}=e||{},i=n?t:t/2;return function(s){let l=Math.min(r,i*2**s);return n&&(l=Math.random()*l),l}}function DI(e){const{retryIf:t,max:n=5}=e||{};return function(i,a,s){return i>=n?!1:t?t(s,a):!!s}}class TI{constructor(t,n,r,i,a){H(this,"observer");H(this,"operation");H(this,"forward");H(this,"delayFor");H(this,"retryIf");H(this,"retryCount",0);H(this,"currentSubscription",null);H(this,"timerId");H(this,"onError",async(t,n)=>{this.retryCount+=1;const r=Ju(t);if(await this.retryIf(this.retryCount,this.operation,r)){this.scheduleRetry(this.delayFor(this.retryCount,this.operation,r));return}n()});this.observer=t,this.operation=n,this.forward=r,this.delayFor=i,this.retryIf=a,this.try()}cancel(){this.currentSubscription&&this.currentSubscription.unsubscribe(),clearTimeout(this.timerId),this.timerId=void 0,this.currentSubscription=null}try(){this.currentSubscription=this.forward(this.operation).subscribe({next:t=>{var n;if(Dp(t)){this.onError(t.extensions[Ps],()=>this.observer.next(t)),(n=this.currentSubscription)==null||n.unsubscribe();return}this.observer.next(t)},error:t=>this.onError(t,()=>this.observer.error(t)),complete:this.observer.complete.bind(this.observer)})}scheduleRetry(t){if(this.timerId)throw new Error("RetryLink BUG! Encountered overlapping retries");this.timerId=setTimeout(()=>{this.timerId=void 0,this.try()},t)}}class _I extends tn{constructor(n){super();H(this,"delayFor");H(this,"retryIf");const{attempts:r,delay:i}=n||{};this.delayFor=typeof i=="function"?i:EI(i),this.retryIf=typeof r=="function"?r:DI(r)}request(n,r){return new xt(i=>{const a=new TI(i,n,r,this.delayFor,this.retryIf);return()=>{a.cancel()}})}}function OI(e){return new CI((t,n)=>e(n,t))}class CI extends tn{constructor(t){super((n,r)=>{const{...i}=n;return Object.defineProperty(i,"client",{enumerable:!1,value:n.client}),new xt(a=>{let s=!1;return Promise.resolve(i).then(l=>t(n.getContext(),l)).then(n.setContext).then(()=>{s||r(n).subscribe(a)}).catch(a.error.bind(a)),()=>{s=!0}})})}}const nd={development:{graphqlEndpoint:"https://test.brokerapp.ru/graphql",timeout:3e4,retryAttempts:3,enableLogging:!0,enableErrorReporting:!0},staging:{graphqlEndpoint:"https://test.brokerapp.ru/graphql",timeout:3e4,retryAttempts:2,enableLogging:!0,enableErrorReporting:!0},production:{graphqlEndpoint:"https://test.brokerapp.ru/graphql",timeout:2e4,retryAttempts:1,enableLogging:!1,enableErrorReporting:!0}}["production"],jI=new hI({uri:nd.graphqlEndpoint,fetchOptions:{mode:"cors",credentials:"include"}}),AI=OI((e,{headers:t})=>{let n=null;const r=window.WIDGET_AUTH_TOKEN;if(r)n=`Basic ${r}`;else{const i=sessionStorage.getItem("auth_credentials");if(i)try{const{username:a,password:s}=JSON.parse(i);n=`Basic ${btoa(`${a}:${s}`)}`}catch(a){b.error("    :",a)}}return{headers:{...t,"Content-Type":"application/json",Accept:"application/json",...n&&{Authorization:n}}}}),MI=new _I({delay:{initial:1e3,max:5e3,jitter:!0},attempts:{max:nd.retryAttempts,retryIf:(e,t)=>!!e&&"networkError"in e}}),kI=xI(({graphQLErrors:e,networkError:t,operation:n})=>{nd.enableLogging&&(e&&e.forEach(({message:r,locations:i,path:a})=>{b.error(`[GraphQL error]: Message: ${r}, Location: ${i}, Path: ${a}`)}),t&&(b.error(`[Network error]: ${t}`),t.message&&t.message.includes("Mixed Content")&&(b.error(" Mixed Content Error:    HTTPS,     HTTP "),b.error("  : ,   API endpoints  HTTPS")))),nd.enableErrorReporting&&b.error("Production error:",{graphQLErrors:e,networkError:t,operation:n})}),Kr=new Gk({link:yk([kI,MI,AI,jI]),cache:new Bk({typePolicies:{Query:{fields:{brands:{merge(e,t){return t}},modelsByBrand:{merge(e,t){return t}}}}}}),defaultOptions:{watchQuery:{errorPolicy:"all",fetchPolicy:"cache-first"},query:{errorPolicy:"all",fetchPolicy:"cache-first"},mutate:{errorPolicy:"all"}}}),II=nn`
  query VehicleInfo($registrationPlate: String!, $marketplaceId: String!) {
    vehicleInfo(registrationPlate: $registrationPlate, marketplaceId: $marketplaceId) {
      vehicle {
        registrationPlate
        vin
        brand
        model
        yearOfManufacture
        enginePower
        documents {
          type
          series
          number
          issueDate
        }
      }
      previousPolicy {
        series
        number
        insurer
      }
      startDate
    }
  }
`;nn`
  query Insurers {
    insurers {
      id
      name_EN
      name_RU
    }
  }
`,nn`
  query Catalogs {
    catalogs
  }
`;const RI=nn`
  query CatalogItems($catalog: String!) {
    catalogItems(catalog: $catalog) {
      id
      name_EN
      name_RU
    }
  }
`,zI=nn`
  query GetBrands($query: String, $size: Int, $page: Int) {
    brands(query: $query, size: $size, page: $page) {
      edges {
        node {
          brandId
          name
        }
      }
      pageInfo {
        hasNext
        hasPrevious
        currentPage
        totalPages
        count
        totalCount
      }
    }
  }
`,LI=nn`
  query GetModelsByBrand($brandId: ID!, $query: String, $size: Int, $page: Int) {
    modelsByBrand(brandId: $brandId, query: $query, size: $size, page: $page) {
      edges {
        node {
          name
          modelId
        }
      }
      pageInfo {
        count
        currentPage
        hasNext
        hasPrevious
        totalCount
        totalPages
      }
    }
  }
`,UI=nn`
  query AddressSuggestions($query: String!) {
    addressSuggestions(query: $query) {
      value
      flat
      block
      cityWithType
      cityKladrId
      country
      countryIsoCode
      areaWithType
      fiasId
      houseFiasId
      house
      settlementWithType
      settlementFiasId
      regionWithType
      regionIsoCode
      street
      postalCode
      kladrId
      streetFiasId
      streetKladrId
      cityFiasId
    }
  }
`,$I=nn`
  query DocumentTypesWithEntity {
    documentTypesWithEntity {
      documentType
      entityType
      order
    }
  }
`,PI=nn`
  mutation CalculateOsago(
    $vehicle: VehicleInput!
    $multidrive: Boolean!
    $owner: SubjectInput!
    $policyholder: SubjectInput!
    $policyholderIsOwner: Boolean!
    $startDate: Date!
    $monthDuration: Int!
    $drivers: [DriverInput!]
    $previousPolicy: PreviousPolicyInput
  ) {
    calculateOsago(
      calculationInput: {
        multidrive: $multidrive
        owner: $owner
        policyholder: $policyholder
        policyholderIsOwner: $policyholderIsOwner
        startDate: $startDate
        monthDuration: $monthDuration
        vehicle: $vehicle
        drivers: $drivers
        previousPolicy: $previousPolicy
      }
    ) {
      calculationId
      insurerCalculationId
      insurer
      totalPremium
      basePremium
      coefficients {
        id
        value
      }
      additionalProducts {
        name
        price
      }
      drivers {
        firstName
        lastName
        middleName
        kbm {
          id
          value
        }
      }
      success
      errors
    }
  }
`,FI=nn`
  mutation BuyOsagoPolicy($osagoPolicyInput: OsagoPolicyInput!) {
    buyOsagoPolicy(osagoPolicyInput: $osagoPolicyInput) {
      policyId
    }
  }
`,BI=nn`
  mutation Payment($policyId: ID!) {
    generatePaymentLink(paymentInput: { policyId: $policyId }) {
      paymentLink
    }
  }
`;function pN(e){var t,n,r,i,a,s,l,o;if(b.error("GraphQL Error:",e),e.networkError)return{code:"NETWORK_ERROR",message:" .    .",type:"network"};if(e.graphQLErrors&&e.graphQLErrors.length>0){const u=e.graphQLErrors[0];return((t=u.extensions)==null?void 0:t.code)==="InvalidRegistrationPlateException"||(n=u.message)!=null&&n.includes("Invalid registration plate format")?{code:"INVALID_PLATE",message:"  .   999999",type:"validation"}:((r=u.extensions)==null?void 0:r.code)==="CalculationFailedException"?{code:"CALCULATION_FAILED",message:" .      .",type:"business"}:((i=u.extensions)==null?void 0:i.code)==="BrokerAccessException"?{code:"ACCESS_DENIED",message:"   .   .",type:"business"}:((a=u.extensions)==null?void 0:a.code)==="InvalidPageNumberException"?{code:"INVALID_PAGE",message:"  .",type:"validation"}:((s=u.extensions)==null?void 0:s.code)==="InvalidPageSizeException"?{code:"INVALID_PAGE_SIZE",message:"  .",type:"validation"}:((l=u.extensions)==null?void 0:l.code)==="UnknownReferenceTypeException"?{code:"UNKNOWN_REFERENCE",message:"  .",type:"business"}:(o=u.message)!=null&&o.includes("INTERNAL_ERROR")?{code:"SERVICE_UNAVAILABLE",message:"     .     ",type:"business"}:{code:"GRAPHQL_ERROR",message:u.message||"  ",type:"business"}}return{code:"UNKNOWN_ERROR",message:e.message||"  ",type:"unknown"}}function VI(e){const t=e.replace(/\s/g,"");return/^[ ]\d{3}[ ]{2}\d{2,3}$/.test(t)?null:"  .   999999"}function Er(e,t,n){b.error(` API Error in ${e}`),b.error("Error:",t),n&&b.error("Additional data:",n),t!=null&&t.stack&&b.error("Stack trace:",t.stack)}async function gN(e,t=""){var n,r;try{b.log("    :",{registrationPlate:e,marketplaceId:t});const i=e.replace(/\s/g,"").toUpperCase();b.debug("  :",i);const a=VI(i);if(a)throw new Error(a);const{data:s,error:l}=await Kr.query({query:II,variables:{registrationPlate:i,marketplaceId:t},errorPolicy:"all"});if(l){const o=pN(l);if(!((n=s==null?void 0:s.vehicleInfo)!=null&&n.vehicle))throw Er("getVehicleInfo",l,{registrationPlate:i,marketplaceId:t}),new Error(o.message);Er("getVehicleInfo_partial",l,{registrationPlate:i,marketplaceId:t}),b.warn("  getVehicleInfo:   ,  GraphQL  .    .",{message:o.message})}if(b.log("   :",s),b.debug("    API:"),b.debug("   data:",JSON.stringify(s,null,2)),b.debug(" vehicleInfo:",JSON.stringify(s==null?void 0:s.vehicleInfo,null,2)),(r=s==null?void 0:s.vehicleInfo)!=null&&r.vehicle){const o=s.vehicleInfo.vehicle;b.debug("  :"),b.debug("   :",o.registrationPlate),b.debug("   :",o.brand||" "),b.debug("   :",o.model||" "),b.debug("   :",o.yearOfManufacture||" "),b.debug("   :",o.enginePower||" "),b.debug("   VIN:",o.vin||" "),b.debug("   :",o.documents||" "),o.brand?b.debug("  :",o.brand):b.warn("  :       API!"),o.model?b.debug("  :",o.model):b.warn("  :       API!")}else b.error(" : vehicle     API!");return s==null?void 0:s.vehicleInfo}catch(i){throw Er("getVehicleInfo",i,{registrationPlate:e,marketplaceId:t}),i}}async function qI(e,t,n,r,i,a,s,l,o){var u,d,m,f,h,g,w,S,v,p,y,x;try{b.log("   :",{vehicle:e,multidrive:t,owner:n,policyholder:r,policyholderIsOwner:i,startDate:a,monthDuration:s,drivers:l,previousPolicy:o}),b.debug("  :",{registrationPlate:e.registrationPlate,category:e.category,brand:e.brand,model:e.model,yearOfManufacture:e.yearOfManufacture,enginePower:e.enginePower,document:e.document,vin:e.vin}),b.log("  EMAIL  PHONE  calculateOsago (vehicleApi.ts):",{owner:{email:n.email||"",phone:n.phone||"",hasEmail:!!n.email,hasPhone:!!n.phone},policyholder:{email:r.email||"",phone:r.phone||"",hasEmail:!!r.email,hasPhone:!!r.phone},policyholderIsOwner:i}),b.debug("  :",{lastName:n.lastName,firstName:n.firstName,birthDate:n.birthDate,passport:n.passport,phone:n.phone,email:n.email}),b.debug("  :",{lastName:r.lastName,firstName:r.firstName,birthDate:r.birthDate,passport:r.passport,phone:r.phone,email:r.email}),b.debug("  :",(l==null?void 0:l.map((_,G)=>({index:G+1,lastName:_.lastName,firstName:_.firstName,birthDate:_.birthDate,drivingLicense:_.drivingLicense,previousDrivingLicense:_.previousDrivingLicense,firstLicenseDate:_.firstLicenseDate})))||"  ");const C=(_,G)=>{if(Array.isArray(_))return _.map(X=>C(X)).filter(X=>X!=null);if(_&&typeof _=="object"){const X={};for(const P of Object.keys(_)){const Y=C(_[P],P);Y!=null&&(typeof Y=="string"&&Y.trim()===""&&P!=="email"&&P!=="phone"||(X[P]=Y))}const J=G==="owner"||G==="policyholder"||G==="vehicle";return Object.keys(X).length>0||J?X:void 0}return _},V={vehicle:e,multidrive:t,owner:n,policyholder:r,policyholderIsOwner:i,startDate:a,monthDuration:s,drivers:l||[]};o&&(V.previousPolicy=o);const D=C(V);b.log("    API (variablesCleaned):",JSON.stringify(D,null,2)),b.log("     (email  phone):",{owner:{email:((u=D.owner)==null?void 0:u.email)||"",phone:((d=D.owner)==null?void 0:d.phone)||"",hasEmail:!!((m=D.owner)!=null&&m.email),hasPhone:!!((f=D.owner)!=null&&f.phone),ownerObject:D.owner?Object.keys(D.owner):" "},policyholder:{email:((h=D.policyholder)==null?void 0:h.email)||"",phone:((g=D.policyholder)==null?void 0:g.phone)||"",hasEmail:!!((w=D.policyholder)!=null&&w.email),hasPhone:!!((S=D.policyholder)!=null&&S.phone),policyholderObject:D.policyholder?Object.keys(D.policyholder):" "}}),b.debug("       GRAPHQL:",{ownerFull:JSON.stringify(D.owner,null,2),policyholderFull:JSON.stringify(D.policyholder,null,2)});const{data:k,error:M}=await Kr.mutate({mutation:PI,variables:D,errorPolicy:"all"});if(b.log("    GRAPHQL (email  phone):",{owner:{email:((v=D.owner)==null?void 0:v.email)||"",phone:((p=D.owner)==null?void 0:p.phone)||""},policyholder:{email:((y=D.policyholder)==null?void 0:y.email)||"",phone:((x=D.policyholder)==null?void 0:x.phone)||""},fullVariables:JSON.stringify(D,null,2)}),M){b.error(" GraphQL Error:",M);const _=pN(M);throw Er("calculateOsago",M,{vehicle:e,owner:n,startDate:a}),new Error(_.message)}return b.log("    :",k),k!=null&&k.calculateOsago&&(b.debug("   :",k.calculateOsago),k.calculateOsago.forEach((_,G)=>{b.debug(`   ${G+1}:`,{calculationId:_.calculationId,insurerCalculationId:_.insurerCalculationId,insurer:_.insurer,totalPremium:_.totalPremium,basePremium:_.basePremium,additionalProducts:_.additionalProducts,success:_.success,errors:_.errors})})),(k==null?void 0:k.calculateOsago)||[]}catch(C){throw Er("calculateOsago",C,{vehicle:e,owner:n,startDate:a}),C}}async function vN(e){try{b.log("     API:",{catalogId:e});const{data:t,error:n}=await Kr.query({query:RI,variables:{catalog:e},errorPolicy:"all"});if(n)throw b.error("    :",n),new Error(`   : ${n.message}`);return b.log("   :",t),(t==null?void 0:t.catalogItems)||[]}catch(t){return b.error("  API getCatalogItems:",t),Er("getCatalogItems",t),b.log("   ,   "),[]}}async function HI(e="",t=50,n=0){try{b.log("     API:",{query:e,size:t,page:n});const{data:r,error:i}=await Kr.query({query:zI,variables:{query:e,size:t,page:n},errorPolicy:"all"});if(i)throw b.error("   :",i),new Error(`  : ${i.message}`);return b.log("  :",r),(r==null?void 0:r.brands)||{edges:[],pageInfo:{hasNext:!1,hasPrevious:!1,currentPage:0,totalPages:0,count:0,totalCount:0}}}catch(r){return b.error("  API getBrands:",r),Er("getBrands",r),{edges:[],pageInfo:{hasNext:!1,hasPrevious:!1,currentPage:0,totalPages:0,count:0,totalCount:0}}}}async function YI(e,t="",n=50,r=0){try{b.log("      API:",{brandId:e,query:t,size:n,page:r});const{data:i,error:a}=await Kr.query({query:LI,variables:{brandId:e,query:t,size:n,page:r},errorPolicy:"all"});if(a)throw b.error("   :",a),new Error(`  : ${a.message}`);return b.log("  :",i),(i==null?void 0:i.modelsByBrand)||{edges:[],pageInfo:{hasNext:!1,hasPrevious:!1,currentPage:0,totalPages:0,count:0,totalCount:0}}}catch(i){return b.error("  API getModelsByBrand:",i),Er("getModelsByBrand",i),{edges:[],pageInfo:{hasNext:!1,hasPrevious:!1,currentPage:0,totalPages:0,count:0,totalCount:0}}}}async function ZI(){try{b.log("         API...");const{data:e,error:t}=await Kr.query({query:$I,errorPolicy:"all"});if(t)throw b.error("      :",t),new Error(`     : ${t.message}`);return b.log("     :",e),(e==null?void 0:e.documentTypesWithEntity)||[]}catch(e){return b.error("  API getDocumentTypesWithEntity:",e),Er("getDocumentTypesWithEntity",e),[]}}const Mp="DocumentType";async function yN(e){var t;try{b.log("     :",e);const n=await gN(e,"");if(!(n!=null&&n.vehicle))return b.log("    "),null;const r=n.vehicle,i=(t=r.documents)==null?void 0:t[0];b.debug("    :"),b.debug("   vehicle:",JSON.stringify(r,null,2)),b.debug(" :",JSON.stringify(r.documents,null,2));const a={brand:r.brand||"",model:r.model||"",year:r.yearOfManufacture||0,power:parseFloat(r.enginePower||"0"),vin:r.vin||"",documentType:(i==null?void 0:i.type)||"",documentSeries:(i==null?void 0:i.series)||"",documentNumber:(i==null?void 0:i.number)||"",documentIssueDate:(i==null?void 0:i.issueDate)||""};return b.debug("    :"),b.debug("    (brand):",a.brand||"  "),b.debug("    (model):",a.model||"  "),b.debug("   :",a.year),b.debug("   :",a.power),b.debug("   VIN:",a.vin||"  "),b.debug("    :",a.documentType||"  "),b.debug("    :",a.documentSeries||"  "),b.debug("    :",a.documentNumber||"  "),a.brand?b.debug("  :",a.brand):b.warn("  :      !"),a.model?b.debug("  :",a.model):b.warn("  :      !"),a.documentType?b.debug("   :",a.documentType):b.warn("  :      !"),b.log("   :",a),a}catch(n){return b.error("    :",n),null}}async function Do(){var e;try{b.log("     ( )...");const t=[];let n=0;const r=1e3;for(;;){const i=await HI("",r,n),a=(i==null?void 0:i.edges)||[];if(!a.length)break;for(const l of a)t.push({id:l.node.brandId,name:l.node.name});const s=!!((e=i==null?void 0:i.pageInfo)!=null&&e.hasNext);if(b.debug(`   : page=${n}, batch=${a.length}, hasNext=${s}`),!s)break;n+=1}return b.log("   :",t.length),t}catch(t){return b.error("   :",t),[]}}async function Vs(e){var t;try{b.log("     ( ):",e);const n=[];let r=0;const i=1e3;for(;;){const a=await YI(e,"",i,r),s=(a==null?void 0:a.edges)||[];if(!s.length)break;for(const o of s)n.push({id:o.node.modelId,name:o.node.name,brandId:e});const l=!!((t=a==null?void 0:a.pageInfo)!=null&&t.hasNext);if(b.debug(`   : page=${r}, batch=${s.length}, hasNext=${l}`),!l)break;r+=1}return b.log("     ",e,":",n.length),n}catch(n){return b.error("   :",n),[]}}async function qs(e){try{b.log("   ...",e?` : ${e}`:" ");const t=await ZI();b.debug("     :",Mp);const n=await vN(Mp),r=new Map;n.forEach(s=>{r.set(s.id,{name_RU:s.name_RU,name_EN:s.name_EN})});let i=t;e&&(i=t.filter(s=>s.entityType===e),b.debug(`    ${e}:`,i.length)),i.sort((s,l)=>(s.order||999)-(l.order||999));const a=i.map(s=>{const l=r.get(s.documentType);return{id:s.documentType,name:(l==null?void 0:l.name_RU)||(l==null?void 0:l.name_EN)||s.documentType,code:(l==null?void 0:l.name_EN)||s.documentType}});return b.log("   :",a.length,e?` ${e}`:""),a}catch(t){b.error("    :",t);try{const r=(await vN(Mp)).map(i=>({id:i.id,name:i.name_RU||i.name_EN,code:i.name_EN||i.id}));return b.log("   fallback:    "),r}catch(n){return b.error("  fallback   :",n),[{id:"1",name:"",code:"STS"},{id:"2",name:"",code:"PTS"},{id:"rfPassport",name:"   ",code:"passportOfACitizenOfTheRussianFederation"}]}}}function QI({calculation:e,onClick:t}){var l,o,u;const[n,r]=E.useState(""),[i,a]=E.useState("");E.useEffect(()=>{let d=!0;return(async()=>{var f,h;try{if(!((f=e==null?void 0:e.vehicle)!=null&&f.brand))return;const w=(await Do()).find(S=>S.id===e.vehicle.brand);if(d&&r((w==null?void 0:w.name)||""),(h=e==null?void 0:e.vehicle)!=null&&h.model){const v=(await Vs(e.vehicle.brand)).find(p=>p.id===e.vehicle.model);d&&a((v==null?void 0:v.name)||"")}}catch{}})(),()=>{d=!1}},[(l=e==null?void 0:e.vehicle)==null?void 0:l.brand,(o=e==null?void 0:e.vehicle)==null?void 0:o.model]);const s=[n,i].filter(Boolean).join("  ");return c.jsxs("div",{className:"widget-calc-history-item",onClick:t,onKeyDown:d=>{(d.key==="Enter"||d.key===" ")&&(d.preventDefault(),t())},role:"button",tabIndex:0,style:{cursor:"pointer",padding:"8px 12px",border:"1px solid #e5e7eb",borderRadius:"6px",transition:"all 0.2s ease",minWidth:"120px",flex:"0 0 auto"},onMouseEnter:d=>{d.currentTarget.style.borderColor="var(--main-color, #4298ee)",d.currentTarget.style.backgroundColor="#f8f9fa"},onMouseLeave:d=>{d.currentTarget.style.borderColor="#e5e7eb",d.currentTarget.style.backgroundColor="transparent"},children:[c.jsx("div",{style:{fontWeight:700,marginBottom:2,fontSize:14,lineHeight:"1.2"},children:((u=e.vehicle)==null?void 0:u.plate)||" "}),s&&c.jsx("div",{style:{color:"#374151",fontSize:12,marginBottom:2,lineHeight:"1.2",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:s}),c.jsx("div",{style:{color:"#6b7280",fontSize:11,lineHeight:"1.2"},children:new Date(e.ts).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit"})})]})}function GI(){const e=Yr(),{setVehicle:t,setPolicyholder:n,setOwner:r,addDriver:i,setOptions:a,reset:s,clearForNewCalculation:l,setNewCalculationFlag:o}=or(),{isAuthenticated:u}=Xh(),[d,m]=E.useState(null),[f,h]=E.useState([]),[g,w]=E.useState(!1),[S,v]=E.useState(!1),[p,y]=E.useState(""),[x,C]=E.useState(""),V=Oi({plate:Qj}),{handleSubmit:D,setValue:k,formState:{errors:M}}=Ss({resolver:xs(V),defaultValues:{plate:""}});E.useEffect(()=>{try{const O=_m();h(O),m(O.length>0?O[0]:null)}catch{h([]),m(null)}},[]),E.useEffect(()=>{const A=new URLSearchParams(window.location.search).get("plate");A&&(C(A),k("plate",A),b.log("    URL:",A))},[k]);const _=async O=>{var A,B,U;v(!0),y("");try{b.log("          "),b.log(" :",O);const L=await gN(O);if(b.log("    API:",L),L){b.debug("      :"),b.debug("   :",L.vehicle.registrationPlate),b.debug("   :",L.vehicle.brand||" "),b.debug("   :",L.vehicle.model||" "),b.debug("   :",L.vehicle.yearOfManufacture||" "),b.debug("   :",L.vehicle.enginePower||" "),b.debug("   VIN:",L.vehicle.vin||" "),b.debug("   :",L.vehicle.documents||" "),L.vehicle.brand?b.debug("     :",L.vehicle.brand):b.warn("  :       API   !"),L.vehicle.model?b.debug("     :",L.vehicle.model):b.warn("  :       API   !"),b.debug("     STORE:");const le=(A=L.vehicle.documents)==null?void 0:A[0],z={plate:L.vehicle.registrationPlate,vin:L.vehicle.vin,brand:L.vehicle.brand,model:L.vehicle.model,year:L.vehicle.yearOfManufacture?String(L.vehicle.yearOfManufacture):void 0,yearOfManufacture:L.vehicle.yearOfManufacture,power:L.vehicle.enginePower?String(L.vehicle.enginePower):void 0,enginePower:L.vehicle.enginePower,documentType:le==null?void 0:le.type,documentSeries:le==null?void 0:le.series,documentNumber:le==null?void 0:le.number,documentIssueDate:le==null?void 0:le.issueDate,documents:L.vehicle.documents,previousPolicy:L.previousPolicy};b.debug("     store:",z),b.debug("  :",{type:le==null?void 0:le.type,series:le==null?void 0:le.series,number:le==null?void 0:le.number,issueDate:le==null?void 0:le.issueDate}),t(z),(B=L.previousPolicy)!=null&&B.series&&((U=L.previousPolicy)!=null&&U.number)&&(b.log("       API,   "),a({hasPreviousPolicy:!0,previousPolicySeries:L.previousPolicy.series,previousPolicyNumber:L.previousPolicy.number,previousPolicyInsurer:L.previousPolicy.insurer}),b.debug("     :",{hasPreviousPolicy:!0,previousPolicySeries:L.previousPolicy.series,previousPolicyNumber:L.previousPolicy.number,previousPolicyInsurer:L.previousPolicy.insurer})),ji("vehicle_info_loaded_from_api"),b.log("    "),e("/vehicle")}else b.log("    "),t({plate:O}),ji("vehicle_info_not_found"),e("/vehicle")}catch(L){b.error("    :",L),y(L instanceof Error?L.message:"   "),t({plate:O}),ji("vehicle_info_load_failed"),e("/vehicle")}finally{v(!1)}},G=D(async O=>{if(ji("home_calculate_click"),l(),y(""),!u){w(!0);return}await _(O.plate)}),X=async()=>{const O=document.querySelector('input[name="plate"]');O!=null&&O.value&&await _(O.value)},J=()=>{ji("home_calculate_without_plate"),l(),e("/vehicle")},P=O=>{var A,B;try{const U=O||d;U&&(s(),t(U.vehicle||{}),n(U.policyholder||{}),r(U.owner||{}),(U.drivers||[]).forEach(L=>i({id:L.id||String(Math.random()),...L})),a(U.options||{}),ji("calculation_restored_from_history"),(A=U.vehicle)!=null&&A.brand&&((B=U.vehicle)!=null&&B.model),e("/vehicle"))}catch(U){b.error("Error restoring calculation:",U)}},Y=O=>{P(O)},I=O=>{const A=globalThis.__OSAGO_ASSET_BASE;if(A)try{const L=A.endsWith("/")?A:`${A}/`;return new URL(O,L).toString()}catch{}let B="/";if(B.startsWith("./")){const le=window.location.pathname.split("/").filter(Boolean);le.length===0?B="/":B="/"+le[0]+"/";const z=document.querySelector("base");if(z&&z.href)try{const ie=new URL(z.href),ge=ie.pathname.endsWith("/")?ie.pathname:ie.pathname+"/";ge!=="/"&&ge.length>B.length&&(B=ge)}catch{}const K=document.querySelectorAll("script[src]");for(const ie of K){const ge=ie.src;if(ge&&(ge.includes("/assets/")||ge.includes("main")))try{const de=new URL(ge).pathname,ve=de.indexOf("/assets/");if(ve>=0){const re=de.substring(0,ve);if(re&&re!=="/"){B=re+"/";break}}}catch{}}}else B.startsWith("/"),B=B.endsWith("/")?B:B+"/";const U=O.startsWith("/")?O.slice(1):O;return`${B}${U}`};return E.useEffect(()=>{const O=setTimeout(()=>{const A=document.querySelector(".widget-calc-osago");A&&A.classList.add("active")},100);return()=>clearTimeout(O)},[]),E.useEffect(()=>{const O=()=>{if(typeof window>"u")return;const U=document.querySelector(".parallax-scene-1");if(U&&window.Parallax)try{const L=U.__parallaxInstance;L&&L.disable();const le=new window.Parallax(U,{relativeInput:!0,hoverOnly:!0});U.__parallaxInstance=le}catch(L){b.warn("Parallax initialization error:",L)}},B=setTimeout(()=>{if(typeof window<"u"&&window.Parallax){setTimeout(O,100);return}if(document.querySelector('script[src*="parallax"]')){const ie=setInterval(()=>{window.Parallax&&(clearInterval(ie),setTimeout(O,100))},100);setTimeout(()=>clearInterval(ie),5e3);return}const U=document.createElement("script"),le=globalThis.__OSAGO_ASSET_BASE||"/",K=`${le.endsWith("/")?le:`${le}/`}js/parallax.min.js`;U.src=K,U.async=!0,U.onload=()=>{setTimeout(O,100)},U.onerror=()=>{b.warn("Failed to load parallax.js")},document.body.appendChild(U)},200);return()=>{clearTimeout(B);const U=document.querySelector(".parallax-scene-1");if(U&&U.__parallaxInstance)try{U.__parallaxInstance.disable()}catch{}}},[]),c.jsxs("section",{className:"widget-calc-osago",children:[c.jsxs("div",{className:"",children:[c.jsxs("div",{className:"widget-calc-osago-icons-outer parallax-scene-1",children:[c.jsx("div",{"data-depth":"0.20",className:"pattern-layer",style:{backgroundImage:`url(${I("images/calc-osago/pattern-1.png")})`}}),c.jsx("div",{"data-depth":"0.40",className:"pattern-layer-two",style:{backgroundImage:`url(${I("images/calc-osago/pattern-2.png")})`}}),c.jsx("div",{"data-depth":"0.40",className:"pattern-layer-three",style:{backgroundImage:`url(${I("images/calc-osago/pattern-3.png")})`}}),c.jsx("div",{className:"pattern-layer-four",style:{backgroundImage:`url(${I("images/calc-osago/pattern-4.png")})`}}),c.jsx("div",{className:"pattern-layer-six",style:{backgroundImage:`url(${I("images/calc-osago/pattern-6.png")})`}})]}),c.jsx("div",{className:"widget-calc-osago-content",children:c.jsx("div",{className:"widget-calc-osago-block",children:c.jsxs("div",{className:"widget-row widget-clearfix",children:[c.jsx("div",{className:"content-column widget-col-lg-6 widget-col-md-12 widget-col-sm-12",children:c.jsxs("div",{className:"widget-inner-column",children:[c.jsx("div",{className:"widget-title",children:"7    "}),c.jsx("h1",{children:"  "}),c.jsx("div",{className:"widget-text",children:" ,       ,    "}),c.jsx("div",{className:"widget-calc-form",children:c.jsxs("form",{onSubmit:G,noValidate:!0,"aria-labelledby":"home-form-title",children:[c.jsx("h2",{id:"home-form-title",style:{position:"absolute",width:1,height:1,overflow:"hidden",clip:"rect(0 0 0 0)",whiteSpace:"nowrap",clipPath:"inset(50%)"},children:" "}),p&&c.jsx("div",{className:"widget-form-error",role:"alert",style:{marginBottom:12,padding:12,backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:6,color:"#dc2626"},children:p}),c.jsxs("div",{className:"widget-form-row",children:[c.jsxs("div",{className:"widget-form-input-wrapper",children:[c.jsx(Rn,{mask:"plate",id:"plate-input",value:x,onChange:O=>{C(O.target.value),k("plate",O.target.value)},"aria-invalid":!!M.plate,"aria-describedby":M.plate?"plate-error":void 0,disabled:S}),M.plate&&c.jsx("div",{id:"plate-error",className:"widget-form-error",role:"alert",children:M.plate.message})]}),c.jsx("div",{className:"widget-btns-box widget-clearfix",children:c.jsx("button",{type:"submit",className:"widget-btn-style-one widget-theme-btn",disabled:S,children:c.jsxs("span",{className:"widget-txt",children:[S?" ...":" ",c.jsx("i",{className:"fa fa-arrow-circle-right"})]})})})]}),c.jsx("div",{className:"widget-link-muted-wrapper",children:c.jsx("span",{className:"widget-link-muted",role:"button",tabIndex:0,onClick:J,onKeyDown:O=>{(O.key==="Enter"||O.key===" ")&&J()},children:"   "})})]})}),f.length>0&&c.jsx("div",{className:"widget-calc-history",children:c.jsx("div",{className:"widget-calc-history-items",children:f.map(O=>c.jsx(QI,{calculation:O,onClick:()=>Y(O)},O.ts))})})]})}),c.jsxs("div",{className:"widget-image-column widget-col-lg-6 widget-col-md-12 widget-col-sm-12",children:[c.jsx("div",{className:"pattern-layer-five",style:{backgroundImage:`url(${I("images/calc-osago/pattern-5.png")})`}}),c.jsx("div",{className:"widget-inner-column",style:{backgroundColor:"transparent"},children:c.jsx("div",{className:"widget-image",children:c.jsx("img",{src:I("images/calc-osago/content-image.png"),alt:"  ",width:"817",height:"411"})})})]})]})})})]}),c.jsx(P0,{isOpen:g,onClose:()=>w(!1),onSuccess:X,title:"    ",message:"              API"})]})}function tt({className:e,variant:t="primary",onKeyDown:n,children:r,...i}){const a=s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),i.disabled||s.target.click()),n==null||n(s)};return t==="theme"?c.jsx("button",{className:In("widget-theme-btn",e),onKeyDown:a,...i,children:c.jsx("span",{className:"widget-txt",children:r})}):c.jsx("button",{className:In("widget-ui-btn",`ui-btn--${t}`,e),onKeyDown:a,...i,children:r})}var kp=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Hs={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(e){return typeof console<"u"&&console.warn(e)},getWeek:function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},To={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},Sn=function(e,t){return t===void 0&&(t=2),("000"+e).slice(t*-1)},er=function(e){return e===!0?1:0};function bN(e,t){var n;return function(){var r=this,i=arguments;clearTimeout(n),n=setTimeout(function(){return e.apply(r,i)},t)}}var Ip=function(e){return e instanceof Array?e:[e]};function cn(e,t,n){if(n===!0)return e.classList.add(t);e.classList.remove(t)}function Xe(e,t,n){var r=window.document.createElement(e);return t=t||"",n=n||"",r.className=t,n!==void 0&&(r.textContent=n),r}function rd(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function wN(e,t){if(t(e))return e;if(e.parentNode)return wN(e.parentNode,t)}function id(e,t){var n=Xe("div","numInputWrapper"),r=Xe("input","numInput "+e),i=Xe("span","arrowUp"),a=Xe("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?r.type="number":(r.type="text",r.pattern="\\d*"),t!==void 0)for(var s in t)r.setAttribute(s,t[s]);return n.appendChild(r),n.appendChild(i),n.appendChild(a),n}function Un(e){try{if(typeof e.composedPath=="function"){var t=e.composedPath();return t[0]}return e.target}catch{return e.target}}var Rp=function(){},ad=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]},WI={D:Rp,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,n){e.setHours(e.getHours()%12+12*er(new RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(parseFloat(t)*1e3)},W:function(e,t,n){var r=parseInt(t),i=new Date(e.getFullYear(),0,2+(r-1)*7,0,0,0,0);return i.setDate(i.getDate()-i.getDay()+n.firstDayOfWeek),i},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:Rp,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},u:function(e,t){return new Date(parseFloat(t))},w:Rp,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},Sa={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},_o={Z:function(e){return e.toISOString()},D:function(e,t,n){return t.weekdays.shorthand[_o.w(e,t,n)]},F:function(e,t,n){return ad(_o.n(e,t,n)-1,!1,t)},G:function(e,t,n){return Sn(_o.h(e,t,n))},H:function(e){return Sn(e.getHours())},J:function(e,t){return t.ordinal!==void 0?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[er(e.getHours()>11)]},M:function(e,t){return ad(e.getMonth(),!0,t)},S:function(e){return Sn(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,n){return n.getWeek(e)},Y:function(e){return Sn(e.getFullYear(),4)},d:function(e){return Sn(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return Sn(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return Sn(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},u:function(e){return e.getTime()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},SN=function(e){var t=e.config,n=t===void 0?Hs:t,r=e.l10n,i=r===void 0?To:r,a=e.isMobile,s=a===void 0?!1:a;return function(l,o,u){var d=u||i;return n.formatDate!==void 0&&!s?n.formatDate(l,o,d):o.split("").map(function(m,f,h){return _o[m]&&h[f-1]!=="\\"?_o[m](l,d,n):m!=="\\"?m:""}).join("")}},zp=function(e){var t=e.config,n=t===void 0?Hs:t,r=e.l10n,i=r===void 0?To:r;return function(a,s,l,o){if(!(a!==0&&!a)){var u=o||i,d,m=a;if(a instanceof Date)d=new Date(a.getTime());else if(typeof a!="string"&&a.toFixed!==void 0)d=new Date(a);else if(typeof a=="string"){var f=s||(n||Hs).dateFormat,h=String(a).trim();if(h==="today")d=new Date,l=!0;else if(n&&n.parseDate)d=n.parseDate(a,f);else if(/Z$/.test(h)||/GMT$/.test(h))d=new Date(a);else{for(var g=void 0,w=[],S=0,v=0,p="";S<f.length;S++){var y=f[S],x=y==="\\",C=f[S-1]==="\\"||x;if(Sa[y]&&!C){p+=Sa[y];var V=new RegExp(p).exec(a);V&&(g=!0)&&w[y!=="Y"?"push":"unshift"]({fn:WI[y],val:V[++v]})}else x||(p+=".")}d=!n||!n.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),w.forEach(function(D){var k=D.fn,M=D.val;return d=k(d,M,u)||d}),d=g?d:void 0}}if(!(d instanceof Date&&!isNaN(d.getTime()))){n.errorHandler(new Error("Invalid date provided: "+m));return}return l===!0&&d.setHours(0,0,0,0),d}}};function $n(e,t,n){return n===void 0&&(n=!0),n!==!1?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}var XI=function(e,t,n){return e>Math.min(t,n)&&e<Math.max(t,n)},Lp=function(e,t,n){return e*3600+t*60+n},KI=function(e){var t=Math.floor(e/3600),n=(e-t*3600)/60;return[t,n,e-t*3600-n*60]},JI={DAY:864e5};function Up(e){var t=e.defaultHour,n=e.defaultMinute,r=e.defaultSeconds;if(e.minDate!==void 0){var i=e.minDate.getHours(),a=e.minDate.getMinutes(),s=e.minDate.getSeconds();t<i&&(t=i),t===i&&n<a&&(n=a),t===i&&n===a&&r<s&&(r=e.minDate.getSeconds())}if(e.maxDate!==void 0){var l=e.maxDate.getHours(),o=e.maxDate.getMinutes();t=Math.min(t,l),t===l&&(n=Math.min(o,n)),t===l&&n===o&&(r=e.maxDate.getSeconds())}return{hours:t,minutes:n,seconds:r}}typeof Object.assign!="function"&&(Object.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)throw TypeError("Cannot convert undefined or null to object");for(var r=function(l){l&&Object.keys(l).forEach(function(o){return e[o]=l[o]})},i=0,a=t;i<a.length;i++){var s=a[i];r(s)}return e});var rn=function(){return rn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},rn.apply(this,arguments)},xN=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],s=0,l=a.length;s<l;s++,i++)r[i]=a[s];return r},eR=300;function tR(e,t){var n={config:rn(rn({},Hs),zt.defaultConfig),l10n:To};n.parseDate=zp({config:n.config,l10n:n.l10n}),n._handlers=[],n.pluginElements=[],n.loadedPlugins=[],n._bind=w,n._setHoursFromDate=f,n._positionCalendar=Me,n.changeMonth=L,n.changeYear=Z,n.clear=le,n.close=z,n.onMouseOver=F,n._createElement=Xe,n.createDay=V,n.destroy=K,n.isEnabled=de,n.jumpToDate=p,n.updateValue=nr,n.open=De,n.redraw=q,n.set=Te,n.setDate=Ze,n.toggle=xn;function r(){n.utils={getDaysInMonth:function(N,T){return N===void 0&&(N=n.currentMonth),T===void 0&&(T=n.currentYear),N===1&&(T%4===0&&T%100!==0||T%400===0)?29:n.l10n.daysInMonth[N]}}}function i(){n.element=n.input=e,n.isOpen=!1,Q(),ye(),we(),ae(),r(),n.isMobile||C(),v(),(n.selectedDates.length||n.config.noCalendar)&&(n.config.enableTime&&f(n.config.noCalendar?n.latestSelectedDateObj:void 0),nr(!1)),l();var N=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!n.isMobile&&N&&Me(),Qe("onReady")}function a(){var N;return((N=n.calendarContainer)===null||N===void 0?void 0:N.getRootNode()).activeElement||document.activeElement}function s(N){return N.bind(n)}function l(){var N=n.config;N.weekNumbers===!1&&N.showMonths===1||N.noCalendar!==!0&&window.requestAnimationFrame(function(){if(n.calendarContainer!==void 0&&(n.calendarContainer.style.visibility="hidden",n.calendarContainer.style.display="block"),n.daysContainer!==void 0){var T=(n.days.offsetWidth+1)*N.showMonths;n.daysContainer.style.width=T+"px",n.calendarContainer.style.width=T+(n.weekWrapper!==void 0?n.weekWrapper.offsetWidth:0)+"px",n.calendarContainer.style.removeProperty("visibility"),n.calendarContainer.style.removeProperty("display")}})}function o(N){if(n.selectedDates.length===0){var T=n.config.minDate===void 0||$n(new Date,n.config.minDate)>=0?new Date:new Date(n.config.minDate.getTime()),$=Up(n.config);T.setHours($.hours,$.minutes,$.seconds,T.getMilliseconds()),n.selectedDates=[T],n.latestSelectedDateObj=T}N!==void 0&&N.type!=="blur"&&PR(N);var W=n._input.value;m(),nr(),n._input.value!==W&&n._debouncedChange()}function u(N,T){return N%12+12*er(T===n.l10n.amPM[1])}function d(N){switch(N%24){case 0:case 12:return 12;default:return N%12}}function m(){if(!(n.hourElement===void 0||n.minuteElement===void 0)){var N=(parseInt(n.hourElement.value.slice(-2),10)||0)%24,T=(parseInt(n.minuteElement.value,10)||0)%60,$=n.secondElement!==void 0?(parseInt(n.secondElement.value,10)||0)%60:0;n.amPM!==void 0&&(N=u(N,n.amPM.textContent));var W=n.config.minTime!==void 0||n.config.minDate&&n.minDateHasTime&&n.latestSelectedDateObj&&$n(n.latestSelectedDateObj,n.config.minDate,!0)===0,be=n.config.maxTime!==void 0||n.config.maxDate&&n.maxDateHasTime&&n.latestSelectedDateObj&&$n(n.latestSelectedDateObj,n.config.maxDate,!0)===0;if(n.config.maxTime!==void 0&&n.config.minTime!==void 0&&n.config.minTime>n.config.maxTime){var Ee=Lp(n.config.minTime.getHours(),n.config.minTime.getMinutes(),n.config.minTime.getSeconds()),$e=Lp(n.config.maxTime.getHours(),n.config.maxTime.getMinutes(),n.config.maxTime.getSeconds()),Ce=Lp(N,T,$);if(Ce>$e&&Ce<Ee){var Pe=KI(Ee);N=Pe[0],T=Pe[1],$=Pe[2]}}else{if(be){var Oe=n.config.maxTime!==void 0?n.config.maxTime:n.config.maxDate;N=Math.min(N,Oe.getHours()),N===Oe.getHours()&&(T=Math.min(T,Oe.getMinutes())),T===Oe.getMinutes()&&($=Math.min($,Oe.getSeconds()))}if(W){var ke=n.config.minTime!==void 0?n.config.minTime:n.config.minDate;N=Math.max(N,ke.getHours()),N===ke.getHours()&&T<ke.getMinutes()&&(T=ke.getMinutes()),T===ke.getMinutes()&&($=Math.max($,ke.getSeconds()))}}h(N,T,$)}}function f(N){var T=N||n.latestSelectedDateObj;T&&T instanceof Date&&h(T.getHours(),T.getMinutes(),T.getSeconds())}function h(N,T,$){n.latestSelectedDateObj!==void 0&&n.latestSelectedDateObj.setHours(N%24,T,$||0,0),!(!n.hourElement||!n.minuteElement||n.isMobile)&&(n.hourElement.value=Sn(n.config.time_24hr?N:(12+N)%12+12*er(N%12===0)),n.minuteElement.value=Sn(T),n.amPM!==void 0&&(n.amPM.textContent=n.l10n.amPM[er(N>=12)]),n.secondElement!==void 0&&(n.secondElement.value=Sn($)))}function g(N){var T=Un(N),$=parseInt(T.value)+(N.delta||0);($/1e3>1||N.key==="Enter"&&!/[^\d]/.test($.toString()))&&Z($)}function w(N,T,$,W){if(T instanceof Array)return T.forEach(function(be){return w(N,be,$,W)});if(N instanceof Array)return N.forEach(function(be){return w(be,T,$,W)});N.addEventListener(T,$,W),n._handlers.push({remove:function(){return N.removeEventListener(T,$,W)}})}function S(){Qe("onChange")}function v(){if(n.config.wrap&&["open","close","toggle","clear"].forEach(function($){Array.prototype.forEach.call(n.element.querySelectorAll("[data-"+$+"]"),function(W){return w(W,"click",n[$])})}),n.isMobile){Vt();return}var N=bN(ee,50);if(n._debouncedChange=bN(S,eR),n.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&w(n.daysContainer,"mouseover",function($){n.config.mode==="range"&&F(Un($))}),w(n._input,"keydown",me),n.calendarContainer!==void 0&&w(n.calendarContainer,"keydown",me),!n.config.inline&&!n.config.static&&w(window,"resize",N),window.ontouchstart!==void 0?w(window.document,"touchstart",ge):w(window.document,"mousedown",ge),w(window.document,"focus",ge,{capture:!0}),n.config.clickOpens===!0&&(w(n._input,"focus",n.open),w(n._input,"click",n.open)),n.daysContainer!==void 0&&(w(n.monthNav,"click",ud),w(n.monthNav,["keyup","increment"],g),w(n.daysContainer,"click",fe)),n.timeContainer!==void 0&&n.minuteElement!==void 0&&n.hourElement!==void 0){var T=function($){return Un($).select()};w(n.timeContainer,["increment"],o),w(n.timeContainer,"blur",o,{capture:!0}),w(n.timeContainer,"click",y),w([n.hourElement,n.minuteElement],["focus","click"],T),n.secondElement!==void 0&&w(n.secondElement,"focus",function(){return n.secondElement&&n.secondElement.select()}),n.amPM!==void 0&&w(n.amPM,"click",function($){o($)})}n.config.allowInput&&w(n._input,"blur",re)}function p(N,T){var $=N!==void 0?n.parseDate(N):n.latestSelectedDateObj||(n.config.minDate&&n.config.minDate>n.now?n.config.minDate:n.config.maxDate&&n.config.maxDate<n.now?n.config.maxDate:n.now),W=n.currentYear,be=n.currentMonth;try{$!==void 0&&(n.currentYear=$.getFullYear(),n.currentMonth=$.getMonth())}catch(Ee){Ee.message="Invalid date supplied: "+$,n.config.errorHandler(Ee)}T&&n.currentYear!==W&&(Qe("onYearChange"),J()),T&&(n.currentYear!==W||n.currentMonth!==be)&&Qe("onMonthChange"),n.redraw()}function y(N){var T=Un(N);~T.className.indexOf("arrow")&&x(N,T.classList.contains("arrowUp")?1:-1)}function x(N,T,$){var W=N&&Un(N),be=$||W&&W.parentNode&&W.parentNode.firstChild,Ee=tr("increment");Ee.delta=T,be&&be.dispatchEvent(Ee)}function C(){var N=window.document.createDocumentFragment();if(n.calendarContainer=Xe("div","flatpickr-calendar"),n.calendarContainer.tabIndex=-1,!n.config.noCalendar){if(N.appendChild(I()),n.innerContainer=Xe("div","flatpickr-innerContainer"),n.config.weekNumbers){var T=U(),$=T.weekWrapper,W=T.weekNumbers;n.innerContainer.appendChild($),n.weekNumbers=W,n.weekWrapper=$}n.rContainer=Xe("div","flatpickr-rContainer"),n.rContainer.appendChild(A()),n.daysContainer||(n.daysContainer=Xe("div","flatpickr-days"),n.daysContainer.tabIndex=-1),X(),n.rContainer.appendChild(n.daysContainer),n.innerContainer.appendChild(n.rContainer),N.appendChild(n.innerContainer)}n.config.enableTime&&N.appendChild(O()),cn(n.calendarContainer,"rangeMode",n.config.mode==="range"),cn(n.calendarContainer,"animate",n.config.animate===!0),cn(n.calendarContainer,"multiMonth",n.config.showMonths>1),n.calendarContainer.appendChild(N);var be=n.config.appendTo!==void 0&&n.config.appendTo.nodeType!==void 0;if((n.config.inline||n.config.static)&&(n.calendarContainer.classList.add(n.config.inline?"inline":"static"),n.config.inline&&(!be&&n.element.parentNode?n.element.parentNode.insertBefore(n.calendarContainer,n._input.nextSibling):n.config.appendTo!==void 0&&n.config.appendTo.appendChild(n.calendarContainer)),n.config.static)){var Ee=Xe("div","flatpickr-wrapper");n.element.parentNode&&n.element.parentNode.insertBefore(Ee,n.element),Ee.appendChild(n.element),n.altInput&&Ee.appendChild(n.altInput),Ee.appendChild(n.calendarContainer)}!n.config.static&&!n.config.inline&&(n.config.appendTo!==void 0?n.config.appendTo:window.document.body).appendChild(n.calendarContainer)}function V(N,T,$,W){var be=de(T,!0),Ee=Xe("span",N,T.getDate().toString());return Ee.dateObj=T,Ee.$i=W,Ee.setAttribute("aria-label",n.formatDate(T,n.config.ariaDateFormat)),N.indexOf("hidden")===-1&&$n(T,n.now)===0&&(n.todayDateElem=Ee,Ee.classList.add("today"),Ee.setAttribute("aria-current","date")),be?(Ee.tabIndex=-1,an(T)&&(Ee.classList.add("selected"),n.selectedDateElem=Ee,n.config.mode==="range"&&(cn(Ee,"startRange",n.selectedDates[0]&&$n(T,n.selectedDates[0],!0)===0),cn(Ee,"endRange",n.selectedDates[1]&&$n(T,n.selectedDates[1],!0)===0),N==="nextMonthDay"&&Ee.classList.add("inRange")))):Ee.classList.add("flatpickr-disabled"),n.config.mode==="range"&&Na(T)&&!an(T)&&Ee.classList.add("inRange"),n.weekNumbers&&n.config.showMonths===1&&N!=="prevMonthDay"&&W%7===6&&n.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+n.config.getWeek(T)+"</span>"),Qe("onDayCreate",Ee),Ee}function D(N){N.focus(),n.config.mode==="range"&&F(N)}function k(N){for(var T=N>0?0:n.config.showMonths-1,$=N>0?n.config.showMonths:-1,W=T;W!=$;W+=N)for(var be=n.daysContainer.children[W],Ee=N>0?0:be.children.length-1,$e=N>0?be.children.length:-1,Ce=Ee;Ce!=$e;Ce+=N){var Pe=be.children[Ce];if(Pe.className.indexOf("hidden")===-1&&de(Pe.dateObj))return Pe}}function M(N,T){for(var $=N.className.indexOf("Month")===-1?N.dateObj.getMonth():n.currentMonth,W=T>0?n.config.showMonths:-1,be=T>0?1:-1,Ee=$-n.currentMonth;Ee!=W;Ee+=be)for(var $e=n.daysContainer.children[Ee],Ce=$-n.currentMonth===Ee?N.$i+T:T<0?$e.children.length-1:0,Pe=$e.children.length,Oe=Ce;Oe>=0&&Oe<Pe&&Oe!=(T>0?Pe:-1);Oe+=be){var ke=$e.children[Oe];if(ke.className.indexOf("hidden")===-1&&de(ke.dateObj)&&Math.abs(N.$i-Oe)>=Math.abs(T))return D(ke)}n.changeMonth(be),_(k(be),0)}function _(N,T){var $=a(),W=ve($||document.body),be=N!==void 0?N:W?$:n.selectedDateElem!==void 0&&ve(n.selectedDateElem)?n.selectedDateElem:n.todayDateElem!==void 0&&ve(n.todayDateElem)?n.todayDateElem:k(T>0?1:-1);be===void 0?n._input.focus():W?M(be,T):D(be)}function G(N,T){for(var $=(new Date(N,T,1).getDay()-n.l10n.firstDayOfWeek+7)%7,W=n.utils.getDaysInMonth((T-1+12)%12,N),be=n.utils.getDaysInMonth(T,N),Ee=window.document.createDocumentFragment(),$e=n.config.showMonths>1,Ce=$e?"prevMonthDay hidden":"prevMonthDay",Pe=$e?"nextMonthDay hidden":"nextMonthDay",Oe=W+1-$,ke=0;Oe<=W;Oe++,ke++)Ee.appendChild(V("flatpickr-day "+Ce,new Date(N,T-1,Oe),Oe,ke));for(Oe=1;Oe<=be;Oe++,ke++)Ee.appendChild(V("flatpickr-day",new Date(N,T,Oe),Oe,ke));for(var st=be+1;st<=42-$&&(n.config.showMonths===1||ke%7!==0);st++,ke++)Ee.appendChild(V("flatpickr-day "+Pe,new Date(N,T+1,st%be),st,ke));var Tr=Xe("div","dayContainer");return Tr.appendChild(Ee),Tr}function X(){if(n.daysContainer!==void 0){rd(n.daysContainer),n.weekNumbers&&rd(n.weekNumbers);for(var N=document.createDocumentFragment(),T=0;T<n.config.showMonths;T++){var $=new Date(n.currentYear,n.currentMonth,1);$.setMonth(n.currentMonth+T),N.appendChild(G($.getFullYear(),$.getMonth()))}n.daysContainer.appendChild(N),n.days=n.daysContainer.firstChild,n.config.mode==="range"&&n.selectedDates.length===1&&F()}}function J(){if(!(n.config.showMonths>1||n.config.monthSelectorType!=="dropdown")){var N=function(W){return n.config.minDate!==void 0&&n.currentYear===n.config.minDate.getFullYear()&&W<n.config.minDate.getMonth()?!1:!(n.config.maxDate!==void 0&&n.currentYear===n.config.maxDate.getFullYear()&&W>n.config.maxDate.getMonth())};n.monthsDropdownContainer.tabIndex=-1,n.monthsDropdownContainer.innerHTML="";for(var T=0;T<12;T++)if(N(T)){var $=Xe("option","flatpickr-monthDropdown-month");$.value=new Date(n.currentYear,T).getMonth().toString(),$.textContent=ad(T,n.config.shorthandCurrentMonth,n.l10n),$.tabIndex=-1,n.currentMonth===T&&($.selected=!0),n.monthsDropdownContainer.appendChild($)}}}function P(){var N=Xe("div","flatpickr-month"),T=window.document.createDocumentFragment(),$;n.config.showMonths>1||n.config.monthSelectorType==="static"?$=Xe("span","cur-month"):(n.monthsDropdownContainer=Xe("select","flatpickr-monthDropdown-months"),n.monthsDropdownContainer.setAttribute("aria-label",n.l10n.monthAriaLabel),w(n.monthsDropdownContainer,"change",function($e){var Ce=Un($e),Pe=parseInt(Ce.value,10);n.changeMonth(Pe-n.currentMonth),Qe("onMonthChange")}),J(),$=n.monthsDropdownContainer);var W=id("cur-year",{tabindex:"-1"}),be=W.getElementsByTagName("input")[0];be.setAttribute("aria-label",n.l10n.yearAriaLabel),n.config.minDate&&be.setAttribute("min",n.config.minDate.getFullYear().toString()),n.config.maxDate&&(be.setAttribute("max",n.config.maxDate.getFullYear().toString()),be.disabled=!!n.config.minDate&&n.config.minDate.getFullYear()===n.config.maxDate.getFullYear());var Ee=Xe("div","flatpickr-current-month");return Ee.appendChild($),Ee.appendChild(W),T.appendChild(Ee),N.appendChild(T),{container:N,yearElement:be,monthElement:$}}function Y(){rd(n.monthNav),n.monthNav.appendChild(n.prevMonthNav),n.config.showMonths&&(n.yearElements=[],n.monthElements=[]);for(var N=n.config.showMonths;N--;){var T=P();n.yearElements.push(T.yearElement),n.monthElements.push(T.monthElement),n.monthNav.appendChild(T.container)}n.monthNav.appendChild(n.nextMonthNav)}function I(){return n.monthNav=Xe("div","flatpickr-months"),n.yearElements=[],n.monthElements=[],n.prevMonthNav=Xe("span","flatpickr-prev-month"),n.prevMonthNav.innerHTML=n.config.prevArrow,n.nextMonthNav=Xe("span","flatpickr-next-month"),n.nextMonthNav.innerHTML=n.config.nextArrow,Y(),Object.defineProperty(n,"_hidePrevMonthArrow",{get:function(){return n.__hidePrevMonthArrow},set:function(N){n.__hidePrevMonthArrow!==N&&(cn(n.prevMonthNav,"flatpickr-disabled",N),n.__hidePrevMonthArrow=N)}}),Object.defineProperty(n,"_hideNextMonthArrow",{get:function(){return n.__hideNextMonthArrow},set:function(N){n.__hideNextMonthArrow!==N&&(cn(n.nextMonthNav,"flatpickr-disabled",N),n.__hideNextMonthArrow=N)}}),n.currentYearElement=n.yearElements[0],Ea(),n.monthNav}function O(){n.calendarContainer.classList.add("hasTime"),n.config.noCalendar&&n.calendarContainer.classList.add("noCalendar");var N=Up(n.config);n.timeContainer=Xe("div","flatpickr-time"),n.timeContainer.tabIndex=-1;var T=Xe("span","flatpickr-time-separator",":"),$=id("flatpickr-hour",{"aria-label":n.l10n.hourAriaLabel});n.hourElement=$.getElementsByTagName("input")[0];var W=id("flatpickr-minute",{"aria-label":n.l10n.minuteAriaLabel});if(n.minuteElement=W.getElementsByTagName("input")[0],n.hourElement.tabIndex=n.minuteElement.tabIndex=-1,n.hourElement.value=Sn(n.latestSelectedDateObj?n.latestSelectedDateObj.getHours():n.config.time_24hr?N.hours:d(N.hours)),n.minuteElement.value=Sn(n.latestSelectedDateObj?n.latestSelectedDateObj.getMinutes():N.minutes),n.hourElement.setAttribute("step",n.config.hourIncrement.toString()),n.minuteElement.setAttribute("step",n.config.minuteIncrement.toString()),n.hourElement.setAttribute("min",n.config.time_24hr?"0":"1"),n.hourElement.setAttribute("max",n.config.time_24hr?"23":"12"),n.hourElement.setAttribute("maxlength","2"),n.minuteElement.setAttribute("min","0"),n.minuteElement.setAttribute("max","59"),n.minuteElement.setAttribute("maxlength","2"),n.timeContainer.appendChild($),n.timeContainer.appendChild(T),n.timeContainer.appendChild(W),n.config.time_24hr&&n.timeContainer.classList.add("time24hr"),n.config.enableSeconds){n.timeContainer.classList.add("hasSeconds");var be=id("flatpickr-second");n.secondElement=be.getElementsByTagName("input")[0],n.secondElement.value=Sn(n.latestSelectedDateObj?n.latestSelectedDateObj.getSeconds():N.seconds),n.secondElement.setAttribute("step",n.minuteElement.getAttribute("step")),n.secondElement.setAttribute("min","0"),n.secondElement.setAttribute("max","59"),n.secondElement.setAttribute("maxlength","2"),n.timeContainer.appendChild(Xe("span","flatpickr-time-separator",":")),n.timeContainer.appendChild(be)}return n.config.time_24hr||(n.amPM=Xe("span","flatpickr-am-pm",n.l10n.amPM[er((n.latestSelectedDateObj?n.hourElement.value:n.config.defaultHour)>11)]),n.amPM.title=n.l10n.toggleTitle,n.amPM.tabIndex=-1,n.timeContainer.appendChild(n.amPM)),n.timeContainer}function A(){n.weekdayContainer?rd(n.weekdayContainer):n.weekdayContainer=Xe("div","flatpickr-weekdays");for(var N=n.config.showMonths;N--;){var T=Xe("div","flatpickr-weekdaycontainer");n.weekdayContainer.appendChild(T)}return B(),n.weekdayContainer}function B(){if(n.weekdayContainer){var N=n.l10n.firstDayOfWeek,T=xN(n.l10n.weekdays.shorthand);N>0&&N<T.length&&(T=xN(T.splice(N,T.length),T.splice(0,N)));for(var $=n.config.showMonths;$--;)n.weekdayContainer.children[$].innerHTML=`
      <span class='flatpickr-weekday'>
        `+T.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function U(){n.calendarContainer.classList.add("hasWeeks");var N=Xe("div","flatpickr-weekwrapper");N.appendChild(Xe("span","flatpickr-weekday",n.l10n.weekAbbreviation));var T=Xe("div","flatpickr-weeks");return N.appendChild(T),{weekWrapper:N,weekNumbers:T}}function L(N,T){T===void 0&&(T=!0);var $=T?N:N-n.currentMonth;$<0&&n._hidePrevMonthArrow===!0||$>0&&n._hideNextMonthArrow===!0||(n.currentMonth+=$,(n.currentMonth<0||n.currentMonth>11)&&(n.currentYear+=n.currentMonth>11?1:-1,n.currentMonth=(n.currentMonth+12)%12,Qe("onYearChange"),J()),X(),Qe("onMonthChange"),Ea())}function le(N,T){if(N===void 0&&(N=!0),T===void 0&&(T=!0),n.input.value="",n.altInput!==void 0&&(n.altInput.value=""),n.mobileInput!==void 0&&(n.mobileInput.value=""),n.selectedDates=[],n.latestSelectedDateObj=void 0,T===!0&&(n.currentYear=n._initialDate.getFullYear(),n.currentMonth=n._initialDate.getMonth()),n.config.enableTime===!0){var $=Up(n.config),W=$.hours,be=$.minutes,Ee=$.seconds;h(W,be,Ee)}n.redraw(),N&&Qe("onChange")}function z(){n.isOpen=!1,n.isMobile||(n.calendarContainer!==void 0&&n.calendarContainer.classList.remove("open"),n._input!==void 0&&n._input.classList.remove("active")),Qe("onClose")}function K(){n.config!==void 0&&Qe("onDestroy");for(var N=n._handlers.length;N--;)n._handlers[N].remove();if(n._handlers=[],n.mobileInput)n.mobileInput.parentNode&&n.mobileInput.parentNode.removeChild(n.mobileInput),n.mobileInput=void 0;else if(n.calendarContainer&&n.calendarContainer.parentNode)if(n.config.static&&n.calendarContainer.parentNode){var T=n.calendarContainer.parentNode;if(T.lastChild&&T.removeChild(T.lastChild),T.parentNode){for(;T.firstChild;)T.parentNode.insertBefore(T.firstChild,T);T.parentNode.removeChild(T)}}else n.calendarContainer.parentNode.removeChild(n.calendarContainer);n.altInput&&(n.input.type="text",n.altInput.parentNode&&n.altInput.parentNode.removeChild(n.altInput),delete n.altInput),n.input&&(n.input.type=n.input._type,n.input.classList.remove("flatpickr-input"),n.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function($){try{delete n[$]}catch{}})}function ie(N){return n.calendarContainer.contains(N)}function ge(N){if(n.isOpen&&!n.config.inline){var T=Un(N),$=ie(T),W=T===n.input||T===n.altInput||n.element.contains(T)||N.path&&N.path.indexOf&&(~N.path.indexOf(n.input)||~N.path.indexOf(n.altInput)),be=!W&&!$&&!ie(N.relatedTarget),Ee=!n.config.ignoredFocusElements.some(function($e){return $e.contains(T)});be&&Ee&&(n.config.allowInput&&n.setDate(n._input.value,!1,n.config.altInput?n.config.altFormat:n.config.dateFormat),n.timeContainer!==void 0&&n.minuteElement!==void 0&&n.hourElement!==void 0&&n.input.value!==""&&n.input.value!==void 0&&o(),n.close(),n.config&&n.config.mode==="range"&&n.selectedDates.length===1&&n.clear(!1))}}function Z(N){if(!(!N||n.config.minDate&&N<n.config.minDate.getFullYear()||n.config.maxDate&&N>n.config.maxDate.getFullYear())){var T=N,$=n.currentYear!==T;n.currentYear=T||n.currentYear,n.config.maxDate&&n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth=Math.min(n.config.maxDate.getMonth(),n.currentMonth):n.config.minDate&&n.currentYear===n.config.minDate.getFullYear()&&(n.currentMonth=Math.max(n.config.minDate.getMonth(),n.currentMonth)),$&&(n.redraw(),Qe("onYearChange"),J())}}function de(N,T){var $;T===void 0&&(T=!0);var W=n.parseDate(N,void 0,T);if(n.config.minDate&&W&&$n(W,n.config.minDate,T!==void 0?T:!n.minDateHasTime)<0||n.config.maxDate&&W&&$n(W,n.config.maxDate,T!==void 0?T:!n.maxDateHasTime)>0)return!1;if(!n.config.enable&&n.config.disable.length===0)return!0;if(W===void 0)return!1;for(var be=!!n.config.enable,Ee=($=n.config.enable)!==null&&$!==void 0?$:n.config.disable,$e=0,Ce=void 0;$e<Ee.length;$e++){if(Ce=Ee[$e],typeof Ce=="function"&&Ce(W))return be;if(Ce instanceof Date&&W!==void 0&&Ce.getTime()===W.getTime())return be;if(typeof Ce=="string"){var Pe=n.parseDate(Ce,void 0,!0);return Pe&&Pe.getTime()===W.getTime()?be:!be}else if(typeof Ce=="object"&&W!==void 0&&Ce.from&&Ce.to&&W.getTime()>=Ce.from.getTime()&&W.getTime()<=Ce.to.getTime())return be}return!be}function ve(N){return n.daysContainer!==void 0?N.className.indexOf("hidden")===-1&&N.className.indexOf("flatpickr-disabled")===-1&&n.daysContainer.contains(N):!1}function re(N){var T=N.target===n._input,$=n._input.value.trimEnd()!==Zs();T&&$&&!(N.relatedTarget&&ie(N.relatedTarget))&&n.setDate(n._input.value,!0,N.target===n.altInput?n.config.altFormat:n.config.dateFormat)}function me(N){var T=Un(N),$=n.config.wrap?e.contains(T):T===n._input,W=n.config.allowInput,be=n.isOpen&&(!W||!$),Ee=n.config.inline&&$&&!W;if(N.keyCode===13&&$){if(W)return n.setDate(n._input.value,!0,T===n.altInput?n.config.altFormat:n.config.dateFormat),n.close(),T.blur();n.open()}else if(ie(T)||be||Ee){var $e=!!n.timeContainer&&n.timeContainer.contains(T);switch(N.keyCode){case 13:$e?(N.preventDefault(),o(),pe()):fe(N);break;case 27:N.preventDefault(),pe();break;case 8:case 46:$&&!n.config.allowInput&&(N.preventDefault(),n.clear());break;case 37:case 39:if(!$e&&!$){N.preventDefault();var Ce=a();if(n.daysContainer!==void 0&&(W===!1||Ce&&ve(Ce))){var Pe=N.keyCode===39?1:-1;N.ctrlKey?(N.stopPropagation(),L(Pe),_(k(1),0)):_(void 0,Pe)}}else n.hourElement&&n.hourElement.focus();break;case 38:case 40:N.preventDefault();var Oe=N.keyCode===40?1:-1;n.daysContainer&&T.$i!==void 0||T===n.input||T===n.altInput?N.ctrlKey?(N.stopPropagation(),Z(n.currentYear-Oe),_(k(1),0)):$e||_(void 0,Oe*7):T===n.currentYearElement?Z(n.currentYear-Oe):n.config.enableTime&&(!$e&&n.hourElement&&n.hourElement.focus(),o(N),n._debouncedChange());break;case 9:if($e){var ke=[n.hourElement,n.minuteElement,n.secondElement,n.amPM].concat(n.pluginElements).filter(function(Pn){return Pn}),st=ke.indexOf(T);if(st!==-1){var Tr=ke[st+(N.shiftKey?-1:1)];N.preventDefault(),(Tr||n._input).focus()}}else!n.config.noCalendar&&n.daysContainer&&n.daysContainer.contains(T)&&N.shiftKey&&(N.preventDefault(),n._input.focus());break}}if(n.amPM!==void 0&&T===n.amPM)switch(N.key){case n.l10n.amPM[0].charAt(0):case n.l10n.amPM[0].charAt(0).toLowerCase():n.amPM.textContent=n.l10n.amPM[0],m(),nr();break;case n.l10n.amPM[1].charAt(0):case n.l10n.amPM[1].charAt(0).toLowerCase():n.amPM.textContent=n.l10n.amPM[1],m(),nr();break}($||ie(T))&&Qe("onKeyDown",N)}function F(N,T){if(T===void 0&&(T="flatpickr-day"),!(n.selectedDates.length!==1||N&&(!N.classList.contains(T)||N.classList.contains("flatpickr-disabled")))){for(var $=N?N.dateObj.getTime():n.days.firstElementChild.dateObj.getTime(),W=n.parseDate(n.selectedDates[0],void 0,!0).getTime(),be=Math.min($,n.selectedDates[0].getTime()),Ee=Math.max($,n.selectedDates[0].getTime()),$e=!1,Ce=0,Pe=0,Oe=be;Oe<Ee;Oe+=JI.DAY)de(new Date(Oe),!0)||($e=$e||Oe>be&&Oe<Ee,Oe<W&&(!Ce||Oe>Ce)?Ce=Oe:Oe>W&&(!Pe||Oe<Pe)&&(Pe=Oe));var ke=Array.from(n.rContainer.querySelectorAll("*:nth-child(-n+"+n.config.showMonths+") > ."+T));ke.forEach(function(st){var Tr=st.dateObj,Pn=Tr.getTime(),ko=Ce>0&&Pn<Ce||Pe>0&&Pn>Pe;if(ko){st.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(Qs){st.classList.remove(Qs)});return}else if($e&&!ko)return;["startRange","inRange","endRange","notAllowed"].forEach(function(Qs){st.classList.remove(Qs)}),N!==void 0&&(N.classList.add($<=n.selectedDates[0].getTime()?"startRange":"endRange"),W<$&&Pn===W?st.classList.add("startRange"):W>$&&Pn===W&&st.classList.add("endRange"),Pn>=Ce&&(Pe===0||Pn<=Pe)&&XI(Pn,W,$)&&st.classList.add("inRange"))})}}function ee(){n.isOpen&&!n.config.static&&!n.config.inline&&Me()}function De(N,T){if(T===void 0&&(T=n._positionElement),n.isMobile===!0){if(N){N.preventDefault();var $=Un(N);$&&$.blur()}n.mobileInput!==void 0&&(n.mobileInput.focus(),n.mobileInput.click()),Qe("onOpen");return}else if(n._input.disabled||n.config.inline)return;var W=n.isOpen;n.isOpen=!0,W||(n.calendarContainer.classList.add("open"),n._input.classList.add("active"),Qe("onOpen"),Me(T)),n.config.enableTime===!0&&n.config.noCalendar===!0&&n.config.allowInput===!1&&(N===void 0||!n.timeContainer.contains(N.relatedTarget))&&setTimeout(function(){return n.hourElement.select()},50)}function te(N){return function(T){var $=n.config["_"+N+"Date"]=n.parseDate(T,n.config.dateFormat),W=n.config["_"+(N==="min"?"max":"min")+"Date"];$!==void 0&&(n[N==="min"?"minDateHasTime":"maxDateHasTime"]=$.getHours()>0||$.getMinutes()>0||$.getSeconds()>0),n.selectedDates&&(n.selectedDates=n.selectedDates.filter(function(be){return de(be)}),!n.selectedDates.length&&N==="min"&&f($),nr()),n.daysContainer&&(q(),$!==void 0?n.currentYearElement[N]=$.getFullYear().toString():n.currentYearElement.removeAttribute(N),n.currentYearElement.disabled=!!W&&$!==void 0&&W.getFullYear()===$.getFullYear())}}function Q(){var N=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],T=rn(rn({},JSON.parse(JSON.stringify(e.dataset||{}))),t),$={};n.config.parseDate=T.parseDate,n.config.formatDate=T.formatDate,Object.defineProperty(n.config,"enable",{get:function(){return n.config._enable},set:function(ke){n.config._enable=ct(ke)}}),Object.defineProperty(n.config,"disable",{get:function(){return n.config._disable},set:function(ke){n.config._disable=ct(ke)}});var W=T.mode==="time";if(!T.dateFormat&&(T.enableTime||W)){var be=zt.defaultConfig.dateFormat||Hs.dateFormat;$.dateFormat=T.noCalendar||W?"H:i"+(T.enableSeconds?":S":""):be+" H:i"+(T.enableSeconds?":S":"")}if(T.altInput&&(T.enableTime||W)&&!T.altFormat){var Ee=zt.defaultConfig.altFormat||Hs.altFormat;$.altFormat=T.noCalendar||W?"h:i"+(T.enableSeconds?":S K":" K"):Ee+(" h:i"+(T.enableSeconds?":S":"")+" K")}Object.defineProperty(n.config,"minDate",{get:function(){return n.config._minDate},set:te("min")}),Object.defineProperty(n.config,"maxDate",{get:function(){return n.config._maxDate},set:te("max")});var $e=function(ke){return function(st){n.config[ke==="min"?"_minTime":"_maxTime"]=n.parseDate(st,"H:i:S")}};Object.defineProperty(n.config,"minTime",{get:function(){return n.config._minTime},set:$e("min")}),Object.defineProperty(n.config,"maxTime",{get:function(){return n.config._maxTime},set:$e("max")}),T.mode==="time"&&(n.config.noCalendar=!0,n.config.enableTime=!0),Object.assign(n.config,$,T);for(var Ce=0;Ce<N.length;Ce++)n.config[N[Ce]]=n.config[N[Ce]]===!0||n.config[N[Ce]]==="true";kp.filter(function(ke){return n.config[ke]!==void 0}).forEach(function(ke){n.config[ke]=Ip(n.config[ke]||[]).map(s)}),n.isMobile=!n.config.disableMobile&&!n.config.inline&&n.config.mode==="single"&&!n.config.disable.length&&!n.config.enable&&!n.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var Ce=0;Ce<n.config.plugins.length;Ce++){var Pe=n.config.plugins[Ce](n)||{};for(var Oe in Pe)kp.indexOf(Oe)>-1?n.config[Oe]=Ip(Pe[Oe]).map(s).concat(n.config[Oe]):typeof T[Oe]>"u"&&(n.config[Oe]=Pe[Oe])}T.altInputClass||(n.config.altInputClass=ce().className+" "+n.config.altInputClass),Qe("onParseConfig")}function ce(){return n.config.wrap?e.querySelector("[data-input]"):e}function ye(){typeof n.config.locale!="object"&&typeof zt.l10ns[n.config.locale]>"u"&&n.config.errorHandler(new Error("flatpickr: invalid locale "+n.config.locale)),n.l10n=rn(rn({},zt.l10ns.default),typeof n.config.locale=="object"?n.config.locale:n.config.locale!=="default"?zt.l10ns[n.config.locale]:void 0),Sa.D="("+n.l10n.weekdays.shorthand.join("|")+")",Sa.l="("+n.l10n.weekdays.longhand.join("|")+")",Sa.M="("+n.l10n.months.shorthand.join("|")+")",Sa.F="("+n.l10n.months.longhand.join("|")+")",Sa.K="("+n.l10n.amPM[0]+"|"+n.l10n.amPM[1]+"|"+n.l10n.amPM[0].toLowerCase()+"|"+n.l10n.amPM[1].toLowerCase()+")";var N=rn(rn({},t),JSON.parse(JSON.stringify(e.dataset||{})));N.time_24hr===void 0&&zt.defaultConfig.time_24hr===void 0&&(n.config.time_24hr=n.l10n.time_24hr),n.formatDate=SN(n),n.parseDate=zp({config:n.config,l10n:n.l10n})}function Me(N){if(typeof n.config.position=="function")return void n.config.position(n,N);if(n.calendarContainer!==void 0){Qe("onPreCalendarPosition");var T=N||n._positionElement,$=Array.prototype.reduce.call(n.calendarContainer.children,function(QR,GR){return QR+GR.offsetHeight},0),W=n.calendarContainer.offsetWidth,be=n.config.position.split(" "),Ee=be[0],$e=be.length>1?be[1]:null,Ce=T.getBoundingClientRect(),Pe=window.innerHeight-Ce.bottom,Oe=Ee==="above"||Ee!=="below"&&Pe<$&&Ce.top>$,ke=window.pageYOffset+Ce.top+(Oe?-$-2:T.offsetHeight+2);if(cn(n.calendarContainer,"arrowTop",!Oe),cn(n.calendarContainer,"arrowBottom",Oe),!n.config.inline){var st=window.pageXOffset+Ce.left,Tr=!1,Pn=!1;$e==="center"?(st-=(W-Ce.width)/2,Tr=!0):$e==="right"&&(st-=W-Ce.width,Pn=!0),cn(n.calendarContainer,"arrowLeft",!Tr&&!Pn),cn(n.calendarContainer,"arrowCenter",Tr),cn(n.calendarContainer,"arrowRight",Pn);var ko=window.document.body.offsetWidth-(window.pageXOffset+Ce.right),Qs=st+W>window.document.body.offsetWidth,FR=ko+W>window.document.body.offsetWidth;if(cn(n.calendarContainer,"rightMost",Qs),!n.config.static)if(n.calendarContainer.style.top=ke+"px",!Qs)n.calendarContainer.style.left=st+"px",n.calendarContainer.style.right="auto";else if(!FR)n.calendarContainer.style.left="auto",n.calendarContainer.style.right=ko+"px";else{var Hp=j();if(Hp===void 0)return;var BR=window.document.body.offsetWidth,VR=Math.max(0,BR/2-W/2),qR=".flatpickr-calendar.centerMost:before",HR=".flatpickr-calendar.centerMost:after",YR=Hp.cssRules.length,ZR="{left:"+Ce.left+"px;right:auto;}";cn(n.calendarContainer,"rightMost",!1),cn(n.calendarContainer,"centerMost",!0),Hp.insertRule(qR+","+HR+ZR,YR),n.calendarContainer.style.left=VR+"px",n.calendarContainer.style.right="auto"}}}}function j(){for(var N=null,T=0;T<document.styleSheets.length;T++){var $=document.styleSheets[T];if($.cssRules){try{$.cssRules}catch{continue}N=$;break}}return N??R()}function R(){var N=document.createElement("style");return document.head.appendChild(N),N.sheet}function q(){n.config.noCalendar||n.isMobile||(J(),Ea(),X())}function pe(){n._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(n.close,0):n.close()}function fe(N){N.preventDefault(),N.stopPropagation();var T=function(ke){return ke.classList&&ke.classList.contains("flatpickr-day")&&!ke.classList.contains("flatpickr-disabled")&&!ke.classList.contains("notAllowed")},$=wN(Un(N),T);if($!==void 0){var W=$,be=n.latestSelectedDateObj=new Date(W.dateObj.getTime()),Ee=(be.getMonth()<n.currentMonth||be.getMonth()>n.currentMonth+n.config.showMonths-1)&&n.config.mode!=="range";if(n.selectedDateElem=W,n.config.mode==="single")n.selectedDates=[be];else if(n.config.mode==="multiple"){var $e=an(be);$e?n.selectedDates.splice(parseInt($e),1):n.selectedDates.push(be)}else n.config.mode==="range"&&(n.selectedDates.length===2&&n.clear(!1,!1),n.latestSelectedDateObj=be,n.selectedDates.push(be),$n(be,n.selectedDates[0],!0)!==0&&n.selectedDates.sort(function(ke,st){return ke.getTime()-st.getTime()}));if(m(),Ee){var Ce=n.currentYear!==be.getFullYear();n.currentYear=be.getFullYear(),n.currentMonth=be.getMonth(),Ce&&(Qe("onYearChange"),J()),Qe("onMonthChange")}if(Ea(),X(),nr(),!Ee&&n.config.mode!=="range"&&n.config.showMonths===1?D(W):n.selectedDateElem!==void 0&&n.hourElement===void 0&&n.selectedDateElem&&n.selectedDateElem.focus(),n.hourElement!==void 0&&n.hourElement!==void 0&&n.hourElement.focus(),n.config.closeOnSelect){var Pe=n.config.mode==="single"&&!n.config.enableTime,Oe=n.config.mode==="range"&&n.selectedDates.length===2&&!n.config.enableTime;(Pe||Oe)&&pe()}S()}}var ue={locale:[ye,B],showMonths:[Y,l,A],minDate:[p],maxDate:[p],positionElement:[Ie],clickOpens:[function(){n.config.clickOpens===!0?(w(n._input,"focus",n.open),w(n._input,"click",n.open)):(n._input.removeEventListener("focus",n.open),n._input.removeEventListener("click",n.open))}]};function Te(N,T){if(N!==null&&typeof N=="object"){Object.assign(n.config,N);for(var $ in N)ue[$]!==void 0&&ue[$].forEach(function(W){return W()})}else n.config[N]=T,ue[N]!==void 0?ue[N].forEach(function(W){return W()}):kp.indexOf(N)>-1&&(n.config[N]=Ip(T));n.redraw(),nr(!0)}function he(N,T){var $=[];if(N instanceof Array)$=N.map(function(W){return n.parseDate(W,T)});else if(N instanceof Date||typeof N=="number")$=[n.parseDate(N,T)];else if(typeof N=="string")switch(n.config.mode){case"single":case"time":$=[n.parseDate(N,T)];break;case"multiple":$=N.split(n.config.conjunction).map(function(W){return n.parseDate(W,T)});break;case"range":$=N.split(n.l10n.rangeSeparator).map(function(W){return n.parseDate(W,T)});break}else n.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(N)));n.selectedDates=n.config.allowInvalidPreload?$:$.filter(function(W){return W instanceof Date&&de(W,!1)}),n.config.mode==="range"&&n.selectedDates.sort(function(W,be){return W.getTime()-be.getTime()})}function Ze(N,T,$){if(T===void 0&&(T=!1),$===void 0&&($=n.config.dateFormat),N!==0&&!N||N instanceof Array&&N.length===0)return n.clear(T);he(N,$),n.latestSelectedDateObj=n.selectedDates[n.selectedDates.length-1],n.redraw(),p(void 0,T),f(),n.selectedDates.length===0&&n.clear(!1),nr(T),T&&Qe("onChange")}function ct(N){return N.slice().map(function(T){return typeof T=="string"||typeof T=="number"||T instanceof Date?n.parseDate(T,void 0,!0):T&&typeof T=="object"&&T.from&&T.to?{from:n.parseDate(T.from,void 0),to:n.parseDate(T.to,void 0)}:T}).filter(function(T){return T})}function ae(){n.selectedDates=[],n.now=n.parseDate(n.config.now)||new Date;var N=n.config.defaultDate||((n.input.nodeName==="INPUT"||n.input.nodeName==="TEXTAREA")&&n.input.placeholder&&n.input.value===n.input.placeholder?null:n.input.value);N&&he(N,n.config.dateFormat),n._initialDate=n.selectedDates.length>0?n.selectedDates[0]:n.config.minDate&&n.config.minDate.getTime()>n.now.getTime()?n.config.minDate:n.config.maxDate&&n.config.maxDate.getTime()<n.now.getTime()?n.config.maxDate:n.now,n.currentYear=n._initialDate.getFullYear(),n.currentMonth=n._initialDate.getMonth(),n.selectedDates.length>0&&(n.latestSelectedDateObj=n.selectedDates[0]),n.config.minTime!==void 0&&(n.config.minTime=n.parseDate(n.config.minTime,"H:i")),n.config.maxTime!==void 0&&(n.config.maxTime=n.parseDate(n.config.maxTime,"H:i")),n.minDateHasTime=!!n.config.minDate&&(n.config.minDate.getHours()>0||n.config.minDate.getMinutes()>0||n.config.minDate.getSeconds()>0),n.maxDateHasTime=!!n.config.maxDate&&(n.config.maxDate.getHours()>0||n.config.maxDate.getMinutes()>0||n.config.maxDate.getSeconds()>0)}function we(){if(n.input=ce(),!n.input){n.config.errorHandler(new Error("Invalid input element specified"));return}n.input._type=n.input.type,n.input.type="text",n.input.classList.add("flatpickr-input"),n._input=n.input,n.config.altInput&&(n.altInput=Xe(n.input.nodeName,n.config.altInputClass),n._input=n.altInput,n.altInput.placeholder=n.input.placeholder,n.altInput.disabled=n.input.disabled,n.altInput.required=n.input.required,n.altInput.tabIndex=n.input.tabIndex,n.altInput.type="text",n.input.setAttribute("type","hidden"),!n.config.static&&n.input.parentNode&&n.input.parentNode.insertBefore(n.altInput,n.input.nextSibling)),n.config.allowInput||n._input.setAttribute("readonly","readonly"),Ie()}function Ie(){n._positionElement=n.config.positionElement||n._input}function Vt(){var N=n.config.enableTime?n.config.noCalendar?"time":"datetime-local":"date";n.mobileInput=Xe("input",n.input.className+" flatpickr-mobile"),n.mobileInput.tabIndex=1,n.mobileInput.type=N,n.mobileInput.disabled=n.input.disabled,n.mobileInput.required=n.input.required,n.mobileInput.placeholder=n.input.placeholder,n.mobileFormatStr=N==="datetime-local"?"Y-m-d\\TH:i:S":N==="date"?"Y-m-d":"H:i:S",n.selectedDates.length>0&&(n.mobileInput.defaultValue=n.mobileInput.value=n.formatDate(n.selectedDates[0],n.mobileFormatStr)),n.config.minDate&&(n.mobileInput.min=n.formatDate(n.config.minDate,"Y-m-d")),n.config.maxDate&&(n.mobileInput.max=n.formatDate(n.config.maxDate,"Y-m-d")),n.input.getAttribute("step")&&(n.mobileInput.step=String(n.input.getAttribute("step"))),n.input.type="hidden",n.altInput!==void 0&&(n.altInput.type="hidden");try{n.input.parentNode&&n.input.parentNode.insertBefore(n.mobileInput,n.input.nextSibling)}catch{}w(n.mobileInput,"change",function(T){n.setDate(Un(T).value,!1,n.mobileFormatStr),Qe("onChange"),Qe("onClose")})}function xn(N){if(n.isOpen===!0)return n.close();n.open(N)}function Qe(N,T){if(n.config!==void 0){var $=n.config[N];if($!==void 0&&$.length>0)for(var W=0;$[W]&&W<$.length;W++)$[W](n.selectedDates,n.input.value,n,T);N==="onChange"&&(n.input.dispatchEvent(tr("change")),n.input.dispatchEvent(tr("input")))}}function tr(N){var T=document.createEvent("Event");return T.initEvent(N,!0,!0),T}function an(N){for(var T=0;T<n.selectedDates.length;T++){var $=n.selectedDates[T];if($ instanceof Date&&$n($,N)===0)return""+T}return!1}function Na(N){return n.config.mode!=="range"||n.selectedDates.length<2?!1:$n(N,n.selectedDates[0])>=0&&$n(N,n.selectedDates[1])<=0}function Ea(){n.config.noCalendar||n.isMobile||!n.monthNav||(n.yearElements.forEach(function(N,T){var $=new Date(n.currentYear,n.currentMonth,1);$.setMonth(n.currentMonth+T),n.config.showMonths>1||n.config.monthSelectorType==="static"?n.monthElements[T].textContent=ad($.getMonth(),n.config.shorthandCurrentMonth,n.l10n)+" ":n.monthsDropdownContainer.value=$.getMonth().toString(),N.value=$.getFullYear().toString()}),n._hidePrevMonthArrow=n.config.minDate!==void 0&&(n.currentYear===n.config.minDate.getFullYear()?n.currentMonth<=n.config.minDate.getMonth():n.currentYear<n.config.minDate.getFullYear()),n._hideNextMonthArrow=n.config.maxDate!==void 0&&(n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth+1>n.config.maxDate.getMonth():n.currentYear>n.config.maxDate.getFullYear()))}function Zs(N){var T=N||(n.config.altInput?n.config.altFormat:n.config.dateFormat);return n.selectedDates.map(function($){return n.formatDate($,T)}).filter(function($,W,be){return n.config.mode!=="range"||n.config.enableTime||be.indexOf($)===W}).join(n.config.mode!=="range"?n.config.conjunction:n.l10n.rangeSeparator)}function nr(N){N===void 0&&(N=!0),n.mobileInput!==void 0&&n.mobileFormatStr&&(n.mobileInput.value=n.latestSelectedDateObj!==void 0?n.formatDate(n.latestSelectedDateObj,n.mobileFormatStr):""),n.input.value=Zs(n.config.dateFormat),n.altInput!==void 0&&(n.altInput.value=Zs(n.config.altFormat)),N!==!1&&Qe("onValueUpdate")}function ud(N){var T=Un(N),$=n.prevMonthNav.contains(T),W=n.nextMonthNav.contains(T);$||W?L($?-1:1):n.yearElements.indexOf(T)>=0?T.select():T.classList.contains("arrowUp")?n.changeYear(n.currentYear+1):T.classList.contains("arrowDown")&&n.changeYear(n.currentYear-1)}function PR(N){N.preventDefault();var T=N.type==="keydown",$=Un(N),W=$;n.amPM!==void 0&&$===n.amPM&&(n.amPM.textContent=n.l10n.amPM[er(n.amPM.textContent===n.l10n.amPM[0])]);var be=parseFloat(W.getAttribute("min")),Ee=parseFloat(W.getAttribute("max")),$e=parseFloat(W.getAttribute("step")),Ce=parseInt(W.value,10),Pe=N.delta||(T?N.which===38?1:-1:0),Oe=Ce+$e*Pe;if(typeof W.value<"u"&&W.value.length===2){var ke=W===n.hourElement,st=W===n.minuteElement;Oe<be?(Oe=Ee+Oe+er(!ke)+(er(ke)&&er(!n.amPM)),st&&x(void 0,-1,n.hourElement)):Oe>Ee&&(Oe=W===n.hourElement?Oe-Ee-er(!n.amPM):be,st&&x(void 0,1,n.hourElement)),n.amPM&&ke&&($e===1?Oe+Ce===23:Math.abs(Oe-Ce)>$e)&&(n.amPM.textContent=n.l10n.amPM[er(n.amPM.textContent===n.l10n.amPM[0])]),W.value=Sn(Oe)}}return i(),n}function Ys(e,t){for(var n=Array.prototype.slice.call(e).filter(function(s){return s instanceof HTMLElement}),r=[],i=0;i<n.length;i++){var a=n[i];try{if(a.getAttribute("data-fp-omit")!==null)continue;a._flatpickr!==void 0&&(a._flatpickr.destroy(),a._flatpickr=void 0),a._flatpickr=tR(a,t||{}),r.push(a._flatpickr)}catch(s){console.error(s)}}return r.length===1?r[0]:r}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return Ys(this,e)},HTMLElement.prototype.flatpickr=function(e){return Ys([this],e)});var zt=function(e,t){return typeof e=="string"?Ys(window.document.querySelectorAll(e),t):e instanceof Node?Ys([e],t):Ys(e,t)};zt.defaultConfig={},zt.l10ns={en:rn({},To),default:rn({},To)},zt.localize=function(e){zt.l10ns.default=rn(rn({},zt.l10ns.default),e)},zt.setDefaults=function(e){zt.defaultConfig=rn(rn({},zt.defaultConfig),e)},zt.parseDate=zp({}),zt.formatDate=SN({}),zt.compareDates=$n,typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(e){return Ys(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof e=="string"?parseInt(e,10):e))},typeof window<"u"&&(window.flatpickr=zt);var $p={exports:{}};(function(e,t){(function(n,r){r(t)})(dr,function(n){var r=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},i={weekdays:{shorthand:["","","","","","",""],longhand:["","","","","","",""]},months:{shorthand:["","","","","","","","","","","",""],longhand:["","","","","","","","","","","",""]},firstDayOfWeek:1,ordinal:function(){return""},rangeSeparator:"  ",weekAbbreviation:".",scrollTitle:"  ",toggleTitle:"  ",amPM:["",""],yearAriaLabel:"",time_24hr:!0};r.l10ns.ru=i;var a=r.l10ns;n.Russian=i,n.default=a,Object.defineProperty(n,"__esModule",{value:!0})})})($p,$p.exports);var nR=$p.exports;const rR={ru:nR.Russian},NN=e=>{var t;if(Array.isArray(e))return(t=e[0])!=null&&t.length?e[0]:void 0;if(typeof e=="number")return Number.isFinite(e)?String(e):void 0;if(typeof e=="string")return e.length?e:void 0},EN=e=>{if(!e)return;if(e.toLowerCase().startsWith("ru"))return rR.ru},sd=e=>{if(typeof e=="number")return Number.isFinite(e)?String(e):void 0;if(typeof e=="string"&&e.length){if(/^\d{4}-\d{2}-\d{2}$/.test(e)){const[t,n,r]=e.split("-");return new Date(parseInt(t),parseInt(n)-1,parseInt(r))}return e}},iR=(e,t)=>{let n=e.replace(/[^\d.]/g,"");if(!n)return"";const r=t!==void 0&&n.length<t.replace(/[^\d.]/g,"").length,i=n.split(".");let a="";return i[0]&&(a=i[0].slice(0,2)),i.length>1?a+="."+i[1].slice(0,2):a.length>=2&&!r&&(a+="."),i.length>2?a+="."+i[2].slice(0,4):i.length===2&&i[1].length>=2&&!r&&(a+="."),a},DN=e=>{if(!e)return"";const t=e.split(".");if(t.length!==3)return e;const n=t[0]?parseInt(t[0],10):0,r=t[1]?parseInt(t[1],10):0,i=t[2]||"",a=n>0?String(n):"",s=r>0?String(r):"";return!a&&!s&&!i?"":!a&&!s?i:a?s?`${a}.${s}.${i}`:`${a}.${i}`:`${s}-${i}`},Dr=E.forwardRef(function({className:t,icon:n,lang:r="ru",showCalendarIcon:i=!0,useDefaultStyles:a=!0,min:s,max:l,value:o,defaultValue:u,...d},m){const f=E.useRef(null),h=E.useRef(null),g=o!==void 0,w=g?NN(o):void 0,S=a?In("ui-date",t):t,v=E.useRef(!1),p=E.useRef(!1),y=E.useRef(!1),x=E.useRef(!1),C=E.useRef(!1),V=E.useRef(!1),D=E.useRef(0),k=E.useRef(""),M=E.useRef(d.onChange),_=E.useRef(d.onBlur);E.useEffect(()=>{M.current=d.onChange,_.current=d.onBlur},[d.onChange,d.onBlur]);const G=E.useCallback(J=>{f.current=J,m&&(typeof m=="function"?m(J):m.current=J)},[m]);E.useEffect(()=>{var K,ie;if(!f.current)return;const P=typeof document<"u"?(()=>{var Z;let ge=(Z=f.current)==null?void 0:Z.parentElement;for(;ge;){if(ge.classList.contains("osago-scope"))return ge;ge=ge.parentElement}return document.body})():void 0,Y=NN((g?o:u)??((K=f.current)==null?void 0:K.value));b.debug("  flatpickr, initialValue:",Y,"inputValue:",(ie=f.current)==null?void 0:ie.value,"appendTarget:",P==null?void 0:P.className);const I=zt(f.current,{dateFormat:"d.m.Y",disableMobile:!0,allowInput:!0,monthSelectorType:"dropdown",shorthandCurrentMonth:!1,appendTo:P,minDate:sd(s),maxDate:sd(l),locale:EN(r),clickOpens:!0,closeOnSelect:!0,ignoredFocusElements:[],onReady:(ge,Z,de)=>{var me,F;b.debug(" onReady , selectedDates:",ge.length,"inputValue:",(me=f.current)==null?void 0:me.value,"initialValue:",Y);const ve=Y||((F=f.current)==null?void 0:F.value);if(ve){const ee=ve.trim();if(ee)try{const De=ee.split(".");if(De.length===3){const te=parseInt(De[0],10),Q=parseInt(De[1],10)-1,ce=parseInt(De[2],10);if(!isNaN(te)&&!isNaN(Q)&&!isNaN(ce)&&Q>=0&&Q<12){const ye=new Date(ce,Q,te);ye.getFullYear()===ce&&ye.getMonth()===Q&&ye.getDate()===te&&(p.current=!0,de.setDate(ye,!1),b.debug(" onReady:  ",ye,"selectedDates :",de.selectedDates.length),setTimeout(()=>{p.current=!1},0))}}}catch(De){b.error(" onReady:  ",De)}}const re=de.calendarContainer.querySelector(".flatpickr-current-month .numInputWrapper");if(re){const ee=document.createElement("select");ee.className="flatpickr-year-dropdown";const De=de.config.minDate?new Date(de.config.minDate).getFullYear():1900,te=de.config.maxDate?new Date(de.config.maxDate).getFullYear():new Date().getFullYear()+10,Q=ge.length>0?ge[0].getFullYear():new Date().getFullYear();for(let R=te;R>=De;R--){const q=document.createElement("option");q.value=R.toString(),q.textContent=R.toString(),R===Q&&(q.selected=!0),ee.appendChild(q)}const ce=re.querySelector("input"),ye=re.querySelector(".arrowUp"),Me=re.querySelector(".arrowDown"),j=re.querySelectorAll('[class*="arrow"], [class*="Arrow"]');if(ce){ce.style.display="none",ce.style.visibility="hidden",ye&&(ye.style.display="none"),Me&&(Me.style.display="none"),j.forEach(q=>{const pe=q;pe&&(pe.style.display="none")});const R=re;R.style.border="none",R.style.boxShadow="none",R.style.outline="none",ee.style.cssText=ce.style.cssText,ee.style.display="block",ee.style.visibility="visible",ee.style.width="100%",ee.style.border="none",ee.style.background="transparent",ee.style.padding="0",ee.style.margin="0",ee.style.fontSize="inherit",ee.style.fontFamily="inherit",ee.style.color="inherit",ee.style.cursor="pointer",ee.style.outline="none",ee.style.boxShadow="none",ee.style.appearance="none",ee.style.webkitAppearance="none",ee.style.mozAppearance="none",ee.addEventListener("focus",()=>{ee.style.border="none",ee.style.boxShadow="none",ee.style.outline="none",R.style.border="none",R.style.boxShadow="none",R.style.outline="none"}),ee.addEventListener("blur",()=>{ee.style.border="none",ee.style.boxShadow="none",ee.style.outline="none",R.style.border="none",R.style.boxShadow="none",R.style.outline="none"}),re.appendChild(ee),ee.addEventListener("change",q=>{const pe=parseInt(q.target.value),fe=de.selectedDates[0]||new Date;fe.setFullYear(pe),de.setDate(fe,!1)})}}},onDayCreate:(ge,Z,de,ve)=>{const re=me=>{me.stopPropagation(),me.preventDefault(),ve.classList.contains("flatpickr-disabled")||(de.setDate(ve.dateObj,!0),de.close())};ve.addEventListener("mousedown",re,!0)},onChange:(ge,Z,de)=>{var me,F,ee;if(D.current++,D.current>10){D.current=0;return}if(p.current){D.current=0;return}if(!f.current)return;const ve=f.current.value;if(y.current&&ve===Z)return;setTimeout(()=>{D.current=0},100),y.current=!1;const re=(me=de.calendarContainer)==null?void 0:me.querySelector(".flatpickr-year-dropdown");if(re&&ge.length>0){const De=ge[0].getFullYear();re.value=De.toString()}if(Z){v.current=!0;const De=(F=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value"))==null?void 0:F.set;if(De?De.call(f.current,Z):f.current.value=Z,v.current=!1,p.current=!0,M.current){const ce={target:{value:Z||"",name:d.name||""},currentTarget:{value:Z||"",name:d.name||""}};M.current(ce)}const te=new Event("input",{bubbles:!0,cancelable:!0});f.current.dispatchEvent(te);const Q=new Event("change",{bubbles:!0,cancelable:!0});f.current.dispatchEvent(Q),setTimeout(()=>{p.current=!1},50)}else if(!Z&&ve){v.current=!0;const De=(ee=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value"))==null?void 0:ee.set;if(De?De.call(f.current,""):f.current.value="",v.current=!1,p.current=!0,M.current){const ce={target:{value:"",name:d.name||""},currentTarget:{value:"",name:d.name||""}};M.current(ce)}const te=new Event("input",{bubbles:!0,cancelable:!0});f.current.dispatchEvent(te);const Q=new Event("change",{bubbles:!0,cancelable:!0});f.current.dispatchEvent(Q),setTimeout(()=>{p.current=!1},50)}},onOpen:(ge,Z)=>{C.current=!0},onClose:()=>{x.current=!1,C.current=!1}});h.current=I;const O=f.current;if(!O)return()=>{I.destroy(),h.current=null};const A=ge=>{var F,ee;if(v.current||p.current||!h.current)return;x.current=!0;const Z=ge.target,de=Z.value,ve=Z.selectionStart||0,re=k.current,me=iR(de,re);if(k.current=me,me!==de){v.current=!0,p.current=!0;let De=ve;me.length>de.length&&me[ve]==="."&&(De=ve+1),De=Math.max(0,Math.min(De,me.length));const te=(F=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value"))==null?void 0:F.set;te?te.call(Z,me):Z.value=me,Z.setSelectionRange(De,De),v.current=!1,p.current=!1}if(me&&me.replace(/\D/g,"").length===8){const De=DN(me);try{v.current=!0,p.current=!0,h.current.setDate(De,!1);const te=h.current.input.value;if(te&&te!==me){const Q=(ee=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value"))==null?void 0:ee.set;if(Q?Q.call(Z,te):Z.value=te,M.current){const Me={target:{value:te||"",name:d.name||""},currentTarget:{value:te||"",name:d.name||""}};M.current(Me)}const ce=new Event("input",{bubbles:!0,cancelable:!0});Z.dispatchEvent(ce);const ye=new Event("change",{bubbles:!0,cancelable:!0});Z.dispatchEvent(ye)}v.current=!1,setTimeout(()=>{p.current=!1},0)}catch{v.current=!1,p.current=!1}}else{if(M.current){const De={target:{value:me||"",name:d.name||""},currentTarget:{value:me||"",name:d.name||""}};M.current(De)}setTimeout(()=>{const De=new Event("input",{bubbles:!0,cancelable:!0});Z.dispatchEvent(De);const te=new Event("change",{bubbles:!0,cancelable:!0});Z.dispatchEvent(te)},0)}x.current=!0},B=()=>{var de,ve;if(V.current||v.current||p.current||!h.current||C.current)return;V.current=!0,x.current=!1;const ge=O.value;if(ge){const re=DN(ge);try{v.current=!0,p.current=!0,h.current.setDate(re,!1);const me=h.current.input.value;if(me&&me!==ge){const F=(de=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value"))==null?void 0:de.set;if(F?F.call(O,me):O.value=me,M.current){const te={target:{value:me||"",name:d.name||""},currentTarget:{value:me||"",name:d.name||""}};M.current(te)}const ee=new Event("input",{bubbles:!0,cancelable:!0});O.dispatchEvent(ee);const De=new Event("change",{bubbles:!0,cancelable:!0});O.dispatchEvent(De)}v.current=!1,setTimeout(()=>{p.current=!1},0)}catch{h.current.clear();const F=(ve=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value"))==null?void 0:ve.set;if(F?F.call(O,""):O.value="",M.current){const te={target:{value:"",name:d.name||""},currentTarget:{value:"",name:d.name||""}};M.current(te)}const ee=new Event("input",{bubbles:!0,cancelable:!0});O.dispatchEvent(ee);const De=new Event("change",{bubbles:!0,cancelable:!0});O.dispatchEvent(De),v.current=!1,p.current=!1}}if(setTimeout(()=>{V.current=!1},50),_.current){const re={target:O,currentTarget:O};_.current(re)}const Z=new Event("blur",{bubbles:!0,cancelable:!0});Object.defineProperty(Z,"target",{value:O,writable:!1}),O.dispatchEvent(Z)},U=ge=>{var de;if(v.current||p.current||!h.current)return;const Z=ge.target;if(ge.key==="Backspace"||ge.key==="Delete"){const ve=Z.value,re=Z.selectionStart||0,me=Z.selectionEnd||0;if(re!==me)return;if(ge.key==="Backspace"&&re>0&&ve[re-1]==="."){ge.preventDefault();const F=ve.slice(0,re-2)+ve.slice(re);k.current=ve;const ee=(de=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value"))==null?void 0:de.set;ee?ee.call(Z,F):Z.value=F;const De=Math.max(0,re-2);if(Z.setSelectionRange(De,De),M.current){const ce={target:{value:F||"",name:d.name||""},currentTarget:{value:F||"",name:d.name||""}};M.current(ce)}const te=new Event("input",{bubbles:!0,cancelable:!0});Z.dispatchEvent(te);const Q=new Event("change",{bubbles:!0,cancelable:!0});Z.dispatchEvent(Q),k.current=F}}};O.addEventListener("input",A),O.addEventListener("keydown",U),O.addEventListener("blur",B);let L=O.value;const z=setInterval(()=>{var ge;if(x.current){L=O.value;return}if(p.current||v.current){L=O.value;return}if(C.current){L=O.value;return}if(O.value!==L){const Z=O.value;b.debug("    :",L,"->",Z);const de=L.replace(/-/g,"."),ve=Z.replace(/-/g,".");if(!Z||!Z.trim()){b.debug("  ,  flatpickr"),L=Z,h.current&&h.current.selectedDates.length>0&&(p.current=!0,h.current.clear(),setTimeout(()=>{p.current=!1},0));return}if(de===ve){if(b.debug("    ,  "),L=ve,O.value!==ve){p.current=!0;const re=(ge=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value"))==null?void 0:ge.set;re?re.call(O,ve):O.value=ve,p.current=!1}return}if(L=ve,h.current){const re=h.current.selectedDates[0],me=re?h.current.formatDate(re,"d.m.Y"):"";if(b.debug("     flatpickr:",me," :",ve),me!==ve)try{b.debug("  flatpickr   :",ve),p.current=!0,h.current.setDate(ve,!1),b.debug("  , selectedDates:",h.current.selectedDates.length),setTimeout(()=>{p.current=!1},0)}catch(F){b.error("   :",F),p.current=!1}}}},100);return()=>{clearInterval(z),O.removeEventListener("input",A),O.removeEventListener("keydown",U),O.removeEventListener("blur",B),I.destroy(),h.current=null}},[]),E.useEffect(()=>{h.current&&(h.current.set("locale",EN(r)??void 0),h.current.redraw())},[r]),E.useEffect(()=>{if(b.debug(" useEffect  value, normalizedValue:",w,"isControlled:",g,"flatpickrRef:",!!h.current),!h.current||!g)return;if(p.current){b.debug("   - isInternalUpdateRef");return}const J=w,P=h.current.input.value;if(b.debug("  : targetValue:",J,"currentValue:",P,"selectedDates:",h.current.selectedDates.length),J&&P!==J){b.debug("    flatpickr:",J),v.current=!0,p.current=!0,h.current.setDate(J,!1),b.debug("  , selectedDates:",h.current.selectedDates.length),v.current=!1,requestAnimationFrame(()=>{p.current=!1});return}!J&&P&&(b.debug("    flatpickr"),v.current=!0,p.current=!0,h.current.clear(),v.current=!1,requestAnimationFrame(()=>{p.current=!1}))},[w,g]),E.useEffect(()=>{if(!h.current)return;const J=sd(s);h.current.set("minDate",J??void 0)},[s]),E.useEffect(()=>{if(!h.current)return;const J=sd(l);h.current.set("maxDate",J??void 0)},[l]);const X={type:"text",lang:r,className:S,min:s,max:l,readOnly:!1,inputMode:"numeric",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,...d,placeholder:".."};return o!==void 0&&(X.value=o),o===void 0&&u!==void 0&&(X.defaultValue=u),c.jsxs(c.Fragment,{children:[n&&c.jsx("span",{className:`widget-icon ${n}`}),c.jsx("input",{ref:G,...X}),i&&c.jsx("span",{className:"widget-calendar-icon flaticon-calendar"})]})});function Oo({className:e,label:t,...n}){const r=E.useId(),i=n.id??r;return c.jsxs("div",{className:In("widget-check-box",e),children:[c.jsx("input",{type:"checkbox",id:i,...n}),c.jsx("label",{htmlFor:i,children:t})]})}function aR({id:e,value:t,onChange:n,onSelect:r,models:i,placeholder:a="    ",icon:s="flaticon-cog",error:l,disabled:o=!1,className:u="","aria-invalid":d,"aria-describedby":m,isLoading:f=!1}){const[h,g]=E.useState([]),[w,S]=E.useState(!1),[v,p]=E.useState(-1),y=E.useRef(null),x=E.useRef(null),C=E.useRef(!1);E.useEffect(()=>{if(!C.current)if(t.length>0){const k=i.filter(M=>M.name.toLowerCase().includes(t.toLowerCase()));g(k),k.length>0&&document.activeElement===y.current?S(!0):k.length===0&&S(!1)}else g(i),i.length>0&&document.activeElement===y.current&&S(!0)},[t,i]);const V=(k,M)=>{M&&(M.preventDefault(),M.stopPropagation()),C.current=!0,n(k.name),r(k),S(!1),p(-1),setTimeout(()=>{C.current=!1},300)},D=k=>{if(!w||h.length===0){k.key==="ArrowDown"&&h.length>0&&(k.preventDefault(),S(!0));return}switch(k.key){case"ArrowDown":k.preventDefault(),p(M=>M<h.length-1?M+1:0);break;case"ArrowUp":k.preventDefault(),p(M=>M>0?M-1:h.length-1);break;case"Enter":k.preventDefault(),v>=0&&v<h.length&&V(h[v]);break;case"Escape":S(!1),p(-1);break}};return E.useEffect(()=>{if(v>=0&&x.current){const k=x.current.children[v];k&&k.scrollIntoView({block:"nearest",behavior:"smooth"})}},[v]),E.useEffect(()=>{const k=M=>{y.current&&!y.current.contains(M.target)&&x.current&&!x.current.contains(M.target)&&S(!1)};if(w)return document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[w]),c.jsxs("div",{className:`widget-model-autocomplete ${u}`,style:{position:"relative"},children:[s&&c.jsx("span",{className:`widget-icon ${s}`}),c.jsxs("div",{className:"widget-model-autocomplete-input-wrapper",style:{position:"relative"},children:[c.jsx("input",{ref:y,id:e,type:"text",value:t,onChange:k=>n(k.target.value),onKeyDown:D,onFocus:()=>{h.length>0&&S(!0)},onBlur:k=>{if(C.current)return;const M=k.relatedTarget;x.current&&x.current.contains(M)||setTimeout(()=>{var _;C.current||document.activeElement!==y.current&&!((_=x.current)!=null&&_.contains(document.activeElement))&&S(!1)},200)},placeholder:a,disabled:o,className:`widget-ui-input widget-model-autocomplete-input ${l?"widget-is-invalid":""} ${d?"is-invalid":""}`,"aria-invalid":d,"aria-describedby":m,autoComplete:"off"}),f&&c.jsx("div",{className:"widget-model-autocomplete-loading",children:c.jsx("div",{className:"widget-spinner"})})]}),l&&c.jsx("div",{className:"widget-model-autocomplete-error",role:"alert",children:l}),w&&h.length>0&&c.jsx("ul",{ref:x,className:"widget-model-autocomplete-list",children:h.map((k,M)=>c.jsx("li",{className:`widget-model-autocomplete-item ${M===v?"highlighted":""}`,onMouseDown:_=>{_.preventDefault(),V(k,_)},onMouseEnter:()=>p(M),children:c.jsx("div",{className:"widget-model-autocomplete-item-name",children:k.name})},k.id))})]})}function sR({id:e,value:t,onChange:n,onSelect:r,brands:i,placeholder:a="    ",icon:s="flaticon-car",error:l,disabled:o=!1,className:u="","aria-invalid":d,"aria-describedby":m,isLoading:f=!1}){const[h,g]=E.useState([]),[w,S]=E.useState(!1),[v,p]=E.useState(-1),y=E.useRef(null),x=E.useRef(null),C=E.useRef(!1);E.useEffect(()=>{if(!C.current)if(t.length>0){const k=i.filter(M=>M.name.toLowerCase().includes(t.toLowerCase()));g(k),k.length>0&&document.activeElement===y.current?S(!0):k.length===0&&S(!1)}else g(i),i.length>0&&document.activeElement===y.current&&S(!0)},[t,i]);const V=(k,M)=>{M&&(M.preventDefault(),M.stopPropagation()),C.current=!0,n(k.name),r(k),S(!1),p(-1),setTimeout(()=>{C.current=!1},300)},D=k=>{if(!w||h.length===0){k.key==="ArrowDown"&&h.length>0&&(k.preventDefault(),S(!0));return}switch(k.key){case"ArrowDown":k.preventDefault(),p(M=>M<h.length-1?M+1:0);break;case"ArrowUp":k.preventDefault(),p(M=>M>0?M-1:h.length-1);break;case"Enter":k.preventDefault(),v>=0&&v<h.length&&V(h[v]);break;case"Escape":S(!1),p(-1);break}};return E.useEffect(()=>{if(v>=0&&x.current){const k=x.current.children[v];k&&k.scrollIntoView({block:"nearest",behavior:"smooth"})}},[v]),E.useEffect(()=>{const k=M=>{y.current&&!y.current.contains(M.target)&&x.current&&!x.current.contains(M.target)&&S(!1)};if(w)return document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[w]),c.jsxs("div",{className:`widget-brand-autocomplete ${u}`,style:{position:"relative"},children:[s&&c.jsx("span",{className:`widget-icon ${s}`}),c.jsxs("div",{className:"widget-brand-autocomplete-input-wrapper",style:{position:"relative"},children:[c.jsx("input",{ref:y,id:e,type:"text",value:t,onChange:k=>n(k.target.value),onKeyDown:D,onFocus:()=>{h.length>0&&S(!0)},onBlur:k=>{if(C.current)return;const M=k.relatedTarget;x.current&&x.current.contains(M)||setTimeout(()=>{var _;C.current||document.activeElement!==y.current&&!((_=x.current)!=null&&_.contains(document.activeElement))&&S(!1)},200)},placeholder:a,disabled:o,className:`widget-ui-input widget-brand-autocomplete-input ${l?"widget-is-invalid":""} ${d?"is-invalid":""}`,"aria-invalid":d,"aria-describedby":m,autoComplete:"off"}),f&&c.jsx("div",{className:"widget-brand-autocomplete-loading",children:c.jsx("div",{className:"widget-spinner"})})]}),l&&c.jsx("div",{className:"widget-brand-autocomplete-error",role:"alert",children:l}),w&&h.length>0&&c.jsx("ul",{ref:x,className:"widget-brand-autocomplete-list",children:h.map((k,M)=>c.jsx("li",{className:`widget-brand-autocomplete-item ${M===v?"highlighted":""}`,onMouseDown:_=>{_.preventDefault(),V(k,_)},onMouseEnter:()=>p(M),children:c.jsx("div",{className:"widget-brand-autocomplete-item-name",children:k.name})},k.id))})]})}const ld=[{path:"/",label:""},{path:"/vehicle",label:""},{path:"/policyholder",label:""},{path:"/drivers",label:""},{path:"/options",label:""},{path:"/offers",label:""},{path:"/payment",label:""},{path:"/success",label:""}],$i=E.memo(function(){const t=ps(),n=Yr(),{vehicle:r,policyholder:i,owner:a,drivers:s,unlimitedDrivers:l,options:o,selectedOffer:u,agreementAccepted:d}=or(),m=p=>{const y=p.replace(/\/+$/,"");return y===""?"/":y},f="/osago",g=m((p=>{const y=m(f);return y==="/"?p:p.startsWith(y)?p.slice(y.length)||"/":p})(t.pathname)),w=ld.reduce((p,y,x)=>{const C=m(y.path),V=g===C,D=C!=="/"&&g.startsWith(`${C}/`);return V||D?x:p},0),S=p=>{const y=!!r.brand&&!!r.model,x=!!i.lastName&&!!i.firstName&&!!i.birthDate&&(!!i.address||!!i.addressText)&&!!i.documentType&&!!i.documentSeries&&!!i.documentNumber&&!!i.documentIssueDate&&!!i.email&&!!i.phone,C=i.isOwner!==!1?!0:!!a.lastName&&!!a.firstName&&!!a.birthDate&&(!!a.address||!!a.addressText)&&!!a.phone&&!!a.documentType&&!!a.documentSeries&&!!a.documentNumber&&!!a.documentIssueDate,V=l?!0:s.length>0&&s.every(D=>{var k,M,_,G;return!!D.lastName&&!!D.firstName&&!!D.birthDate&&!!((k=D.drivingLicense)!=null&&k.type)&&!!((M=D.drivingLicense)!=null&&M.series)&&!!((_=D.drivingLicense)!=null&&_.number)&&!!((G=D.drivingLicense)!=null&&G.issueDate)&&!!D.firstLicenseDate});switch(p){case 0:return!0;case 1:return!0;case 2:return y&&x&&d;case 3:return x&&C&&d;case 4:return x&&C&&V&&d;case 5:return!!o.startDate&&d;case 6:return!!(u!=null&&u.id)&&d;case 7:return!1;default:return!1}},v=p=>{const y=p<w;S(p)||y?n(ld[p].path):p>1&&!d&&alert("                .")};return c.jsx("nav",{className:"widget-breadcrumbs",role:"navigation","aria-label":"  ",children:ld.map((p,y)=>{const x=S(y),C=y<w,V=(x||C)&&y!==w;return c.jsxs("div",{className:"widget-breadcrumbs__container",children:[c.jsx("span",{className:`widget-breadcrumbs__item ${y===w?"widget-is-active":""} ${V?"widget-is-clickable":""} ${C?"widget-is-completed":""} ${y===w?"":!x&&!C?"widget-is-disabled":""}`,role:V?"button":void 0,tabIndex:V?0:-1,"aria-current":y===w?"step":void 0,"aria-disabled":y===w?!1:!x&&!C,"aria-label":`${p.label}${C?" ()":""}${!x&&!C?" ()":""}`,title:!x&&!C?"       ":void 0,onKeyDown:D=>{(D.key==="Enter"||D.key===" ")&&V&&v(y)},onClick:()=>V&&v(y),children:p.label}),y<ld.length-1&&c.jsx("span",{className:"widget-breadcrumbs__separator","aria-hidden":!0,children:"/"})]},p.path)})})}),Tt=e=>({rfPassport:{series:"9999",number:"999999"},foreignPassportRf:{series:"99",number:"9999999"},rfDrivingLicense:{series:"99",number:"999999"},registrationCertificate:{series:null,number:"9999999999999"},vehiclePassport:{series:"99",number:"999999"},selfPropelledVehiclePassport:{series:"",number:"999999"},vehicleElectronicPassport:{series:null,number:"999999999999999"},vehicleRegistrationCertificate:{series:"99",number:"999999"}})[e]||{series:null,number:null},Lt=e=>({rfPassport:{series:"1234",number:"123456"},foreignPassportRf:{series:"12",number:"1234567"},rfDrivingLicense:{series:"77  7711",number:"123456"},registrationCertificate:{series:" ",number:"1234567890123"},vehiclePassport:{series:"77",number:"123456"},selfPropelledVehiclePassport:{series:"",number:"123456"},vehicleElectronicPassport:{series:" ",number:"123456789012345"},vehicleRegistrationCertificate:{series:"77",number:"123456"}})[e]||{series:" ",number:" "};function lR(){const e="https://wiki.brokerapp.ru/privacy";try{const t=window.WIDGET_PRIVACY_POLICY_URL;if(t&&typeof t=="string"&&t.trim()!=="")return t}catch{}return e}const oR=Oi({brand:Ne().min(1," "),model:Ne().min(1," "),year:Xj,power:Kj,plate:Ne().optional(),vin:Wj.optional().or(om("")),documentType:Ne().min(1,"  "),documentSeries:dm,documentNumber:fm,documentIssueDate:hm}).refine(e=>e.documentType==="rfPassport"?Jj.safeParse(e.documentSeries).success:!0,{message:"       4 ",path:["documentSeries"]}).refine(e=>e.documentType==="rfPassport"?aA.safeParse(e.documentNumber).success:!0,{message:"       6 ",path:["documentNumber"]}).refine(e=>e.documentType==="foreignPassportRf"?eA.safeParse(e.documentSeries).success:!0,{message:"       2 ",path:["documentSeries"]}).refine(e=>e.documentType==="foreignPassportRf"?sA.safeParse(e.documentNumber).success:!0,{message:"       7 ",path:["documentNumber"]}).refine(e=>e.documentType==="rfDrivingLicense"?tA.safeParse(e.documentSeries).success:!0,{message:"   : 2  + 2  (   )",path:["documentSeries"]}).refine(e=>e.documentType==="rfDrivingLicense"?lA.safeParse(e.documentNumber).success:!0,{message:"       6 ",path:["documentNumber"]}).refine(e=>e.documentType==="registrationCertificate"?oA.safeParse(e.documentNumber).success:!0,{message:"       13 ",path:["documentNumber"]}).refine(e=>e.documentType==="vehiclePassport"?nA.safeParse(e.documentSeries).success:!0,{message:"  : 2  + 2  ",path:["documentSeries"]}).refine(e=>e.documentType==="vehiclePassport"?cA.safeParse(e.documentNumber).success:!0,{message:"      6 ",path:["documentNumber"]}).refine(e=>e.documentType==="selfPropelledVehiclePassport"?rA.safeParse(e.documentSeries).success:!0,{message:"   : 2  (  )",path:["documentSeries"]}).refine(e=>e.documentType==="selfPropelledVehiclePassport"?uA.safeParse(e.documentNumber).success:!0,{message:"       6 ",path:["documentNumber"]}).refine(e=>e.documentType==="vehicleElectronicPassport"?dA.safeParse(e.documentNumber).success:!0,{message:"       15 ",path:["documentNumber"]}).refine(e=>e.documentType==="vehicleRegistrationCertificate"?iA.safeParse(e.documentSeries).success:!0,{message:" : 2  + 2  (   )",path:["documentSeries"]}).refine(e=>e.documentType==="vehicleRegistrationCertificate"?fA.safeParse(e.documentNumber).success:!0,{message:"     6 ",path:["documentNumber"]});function cR(){var ee,De;const e=Yr(),{vehicle:t,setVehicle:n,isNewCalculation:r,setNewCalculationFlag:i,policyholder:a,owner:s,drivers:l,unlimitedDrivers:o,options:u,agreementAccepted:d,setAgreementAccepted:m}=or(),[f,h]=E.useState([]),[g,w]=E.useState([]),[S,v]=E.useState([]),[p,y]=E.useState(!1),[x,C]=E.useState(!1),[V,D]=E.useState(!1),[k,M]=E.useState(null),[_,G]=E.useState(null),[X,J]=E.useState(""),[P,Y]=E.useState(!1),[I,O]=E.useState(""),[,A]=E.useState(!1),[B,U]=E.useState(!1),{register:L,handleSubmit:le,setValue:z,watch:K,formState:{errors:ie,isSubmitting:ge}}=Ss({resolver:xs(oR),defaultValues:{brand:"",model:"",year:"",power:"",plate:t.plate||"",vin:"",documentType:t.documentType||"",documentSeries:"",documentNumber:"",documentIssueDate:""}}),Z=K("brand"),de=K("documentType"),ve=te=>{const Q=String(te??"").trim();if(!Q)return"";const ce=f.find(j=>String(j.id)===Q);if(ce)return String(ce.id);const ye=Q.toLowerCase(),Me=f.find(j=>j.name.trim().toLowerCase()===ye);return Me?String(Me.id):""},re=(te,Q)=>{const ce=String(te??"").trim();if(!ce)return"";const ye=Q.find(R=>String(R.id)===ce);if(ye)return String(ye.id);const Me=ce.toLowerCase(),j=Q.find(R=>R.name.trim().toLowerCase()===Me);return j?String(j.id):""};E.useEffect(()=>{if(!B)return;if(t.brand&&!K("brand")){const ce=ve(t.brand)||String(t.brand);b.debug("    store:",{raw:t.brand,normalizedBrandId:ce}),z("brand",ce)}t.model&&!K("model")&&(b.debug("    store:",t.model),z("model",String(t.model)));const te=t.year||(t.yearOfManufacture?String(t.yearOfManufacture):void 0);te&&!K("year")&&(b.debug("    store:",te),z("year",te));const Q=t.power||t.enginePower;Q&&!K("power")&&(b.debug("    store:",Q),z("power",String(Q))),t.plate&&!K("plate")&&(b.debug("    store:",t.plate),z("plate",String(t.plate))),t.vin&&!K("vin")&&(b.debug("  VIN  store:",t.vin),z("vin",String(t.vin))),t.documentType&&!K("documentType")&&z("documentType",String(t.documentType)),t.documentSeries&&!K("documentSeries")&&(b.debug("     store:",t.documentSeries),z("documentSeries",String(t.documentSeries))),t.documentNumber&&!K("documentNumber")&&(b.debug("     store:",t.documentNumber),z("documentNumber",String(t.documentNumber))),t.documentIssueDate&&!K("documentIssueDate")&&(b.debug("     store:",t.documentIssueDate),z("documentIssueDate",String(t.documentIssueDate)))},[B,z,K,t,f]),E.useEffect(()=>{if(!B)return;if(t.brand&&t.brand!==K("brand")){const ce=ve(t.brand);ce&&ce!==String(t.brand)&&(b.debug("    store (name->id):",{raw:t.brand,normalizedBrandId:ce}),n({...t,brand:ce})),b.debug("  :",{raw:t.brand,normalizedBrandId:ce||String(t.brand)}),z("brand",ce||String(t.brand))}t.model&&t.model!==K("model")&&(b.debug("  :",t.model),z("model",String(t.model)));const te=t.year||(t.yearOfManufacture?String(t.yearOfManufacture):void 0);te&&te!==K("year")&&(b.debug("  :",te),z("year",te));const Q=t.power||t.enginePower;Q&&String(Q)!==K("power")&&(b.debug("  :",Q),z("power",String(Q))),t.plate&&t.plate!==K("plate")&&(b.debug("  :",t.plate),z("plate",String(t.plate))),t.vin&&t.vin!==K("vin")&&(b.debug("  VIN:",t.vin),z("vin",String(t.vin))),t.documentType&&t.documentType!==K("documentType")&&z("documentType",String(t.documentType)),t.documentSeries&&t.documentSeries!==K("documentSeries")&&(b.debug("   :",t.documentSeries),z("documentSeries",String(t.documentSeries))),t.documentNumber&&t.documentNumber!==K("documentNumber")&&(b.debug("   :",t.documentNumber),z("documentNumber",String(t.documentNumber))),t.documentIssueDate&&t.documentIssueDate!==K("documentIssueDate")&&(b.debug("   :",t.documentIssueDate),z("documentIssueDate",String(t.documentIssueDate)))},[t,B,z,K,f,n]),E.useEffect(()=>{if(B)return;(async()=>{try{C(!0),M(null);const[Q,ce]=await Promise.allSettled([Do(),qs("vehicle")]);Q.status==="fulfilled"?(h(Q.value),b.log("  :",Q.value.length)):(b.error("   :",Q.reason),M("    .")),ce.status==="fulfilled"?(v(ce.value),b.log("   :",ce.value.length)):(b.error("    :",ce.reason),v([{id:"1",name:"",code:"STS"},{id:"2",name:"",code:"PTS"}])),b.debug("  :",{brands:Q.status==="fulfilled"?Q.value.length:0,documentTypes:ce.status==="fulfilled"?ce.value.length:2})}catch(Q){b.error("    :",Q),M("   .   .")}finally{C(!1)}if(t.plate&&(t.brand||t.model||t.year||t.power)&&!r){if(t.brand){const Me=ve(t.brand);b.debug("  :",{raw:t.brand,normalizedBrandId:Me}),Me?(z("brand",Me),Me!==String(t.brand)&&n({...t,brand:Me})):z("brand",String(t.brand)),setTimeout(()=>{const j=Me||String(t.brand||"");z("brand",j),b.debug("   :",j),setTimeout(()=>{const R=K("brand");b.debug("     :",R),R!==(Me||String(t.brand))&&(b.warn("    ,   "),z("brand",Me||String(t.brand||"")))},200)},100);try{D(!0),G(null);const j=Me||String(t.brand),R=await Vs(j);if(b.debug("  :",R),w(R),t.model){const q=re(t.model,R),pe=q||String(t.model);b.debug("  :",{raw:t.model,normalizedModelId:q}),z("model",pe);const fe=R.find(ue=>String(ue.id)===String(pe));fe?(O(fe.name),A(!0),b.debug("     modelQuery:",fe.name),q&&q!==String(t.model)&&n({...t,model:q})):b.warn("      :",t.model," :",R.map(ue=>({id:ue.id,name:ue.name}))),setTimeout(()=>{z("model",pe||""),b.debug("   :",pe||"")},100)}}catch(j){b.error("   :",j),G("      .")}finally{D(!1)}}const Q=t.year||(t.yearOfManufacture?String(t.yearOfManufacture):void 0);Q&&z("year",Q);const ce=t.power||t.enginePower;ce&&z("power",String(ce)),t.vin&&z("vin",t.vin),t.documentSeries&&z("documentSeries",t.documentSeries),t.documentNumber&&z("documentNumber",t.documentNumber),t.documentIssueDate&&z("documentIssueDate",t.documentIssueDate);const ye={brand:t.brand||"",model:t.model||"",year:t.year||"",power:t.power||"",plate:t.plate||"",vin:t.vin||"",documentType:t.documentType||"",documentSeries:t.documentSeries||"",documentNumber:t.documentNumber||"",documentIssueDate:t.documentIssueDate||""};n(ye)}U(!0)})()},[]),E.useEffect(()=>{if(f.length>0&&t.brand&&!P){const te=f.find(Q=>Q.id===t.brand)||f.find(Q=>Q.name.trim().toLowerCase()===String(t.brand).trim().toLowerCase());te&&(J(te.name),Y(!0),b.debug("     brandQuery:",te.name))}},[f,t.brand,P]),E.useEffect(()=>{if(g.length>0&&t.model&&!I){const te=g.find(Q=>String(Q.id)===String(t.model));te?(O(te.name),A(!0),b.debug("     modelQuery (useEffect):",te.name)):b.warn("      useEffect:",t.model," :",g.length)}},[g,t.model,I]),E.useEffect(()=>{const te=K(Q=>{n(Q),r&&i(!1)});return()=>te.unsubscribe()},[K,n,r,i]),E.useEffect(()=>{const te=K();(te.brand||te.model||te.year||te.power)&&n(te)},[n]),E.useEffect(()=>{if(S.length===0)return;t.documentType?(z("documentType",t.documentType),n({...t,documentType:t.documentType})):t.plate?yN(t.plate).then(Q=>{Q!=null&&Q.documentType?(z("documentType",Q.documentType),n({...t,documentType:Q.documentType})):te()}).catch(Q=>{b.error("    :",Q),te()}):!r||!t.documentType?te():t.documentType&&z("documentType",t.documentType);function te(){const Q=Me=>(Me||"").trim().toLowerCase().replace(/\s+/g,""),ce=["vehicleregistrationcertificate","sts","vehicle_registration_certificate"],ye=S.find(Me=>ce.includes(Q(Me.code)));ye?(z("documentType",ye.id),n({...t,documentType:ye.id})):S.length>0&&(z("documentType",S[0].id),n({...t,documentType:S[0].id}))}},[S,t.documentType,t.plate,z,n]),E.useEffect(()=>{if(B)return;(async()=>{y(!0);try{const[Q,ce]=await Promise.allSettled([Do(),qs("vehicle")]);if(Q.status==="fulfilled"?h(Q.value):b.error("   :",Q.reason),ce.status==="fulfilled"){const ye=[...ce.value].sort((Me,j)=>Me.name.localeCompare(j.name,"ru",{sensitivity:"base"}));if(v(ye),r&&ye.length>0){const Me=q=>(q||"").trim().toLowerCase().replace(/\s+/g,""),j=["vehicleregistrationcertificate","sts","vehicle_registration_certificate"],R=ye.find(q=>j.includes(Me(q.code))||q.id==="vehicleRegistrationCertificate");R?(z("documentType",R.id),n({...t,documentType:R.id})):z("documentType",ye[0].id)}}else{b.error("    :",ce.reason);const ye=[{id:"1",name:"",code:"STS"},{id:"2",name:"",code:"PTS"}];v(ye),r&&ye.length>0&&z("documentType",ye[0].id)}}catch(Q){b.error("    :",Q)}finally{y(!1)}})()},[z,B,r]),E.useEffect(()=>{Z?(async()=>{try{D(!0),G(null);const Q=await Vs(Z);if(w(Q),t.model){const ce=re(t.model,Q),ye=ce?Q.find(Me=>String(Me.id)===ce):null;ce&&ce!==String(t.model)?(z("model",ce),ye&&(O(ye.name),A(!0)),n({...t,model:ce})):!K("model")&&ce&&(z("model",ce),ye&&(O(ye.name),A(!0)))}else z("model",""),O("");b.log("    :",Z,Q.length)}catch(Q){b.error("   :",Q),G("      ."),w([])}finally{D(!1)}})():(w([]),G(null),O(""))},[Z,t.model,z]);const me=E.useRef(null);E.useEffect(()=>{var Me;b.debug("     :"),b.debug("   vehicle.plate:",t.plate),b.debug("   vehicle.brand:",t.brand),b.debug("   vehicle.model:",t.model),b.debug("   vehicle.year:",t.year),b.debug("   vehicle.power:",t.power),b.debug("   brands.length:",f.length);const te=((Me=t.plate)==null?void 0:Me.trim())||null,Q=te&&me.current!==te;if(Q&&!f.length){b.debug("  :     ");return}const ce=!!(t.year||t.yearOfManufacture),ye=!!(t.power||t.enginePower);Q&&!t.brand&&!t.model&&!ce&&!ye?(async()=>{var R,q,pe,fe,ue,Te;try{b.debug("    "),b.debug("   :",t.plate),b.debug("  :",f.length,""),me.current=te;const he=await yN(t.plate);if(b.debug("   :",he),he){b.debug("    :"),b.debug("     API:",he.brand||" "),b.debug("     API:",he.model||" "),b.debug("   :",he.year),b.debug("   :",he.power),b.debug("      :"),b.debug("    :",he.brand),b.debug("     ( ):",he.brand.toUpperCase()),b.debug("     ( ):",he.brand.toLowerCase()),b.debug("     ( 20):",f.slice(0,20).map(ae=>ae.name)),b.debug("      :",f.length);const Ze=f.filter(ae=>ae.name.toLowerCase().includes(he.brand.toLowerCase())||he.brand.toLowerCase().includes(ae.name.toLowerCase())||ae.name.toLowerCase().replace(/[()]/g,"").includes(he.brand.toLowerCase().replace(/[()]/g,"")));Ze.length>0?b.debug("   :",Ze.map(ae=>ae.name)):b.debug("    ");const ct=f.find(ae=>ae.name===he.brand||ae.name.toUpperCase()===he.brand.toUpperCase()||ae.name.toLowerCase()===he.brand.toLowerCase()||ae.name.toLowerCase().replace(/[()]/g,"").includes(he.brand.toLowerCase().replace(/[()]/g,""))||he.brand.toLowerCase().replace(/[()]/g,"").includes(ae.name.toLowerCase().replace(/[()]/g,"")));if(ct){b.debug("    :",ct.name,"(ID:",ct.id,")"),z("brand",ct.id),J(ct.name),Y(!0),b.debug("    :",ct.name);const ae=await Vs(ct.id);b.debug("  :",ae.length,""),b.debug("  :",ae.map(Ie=>Ie.name)),w(ae),b.debug("     ..."),await new Promise(Ie=>setTimeout(Ie,50)),b.debug("     :"),b.debug("    :",he.model),b.debug("     ( ):",he.model.toUpperCase());const we=ae.find(Ie=>Ie.name===he.model||Ie.name.toUpperCase()===he.model.toUpperCase()||Ie.name.toLowerCase()===he.model.toLowerCase());if(we)b.debug("    :",we.name,"(ID:",we.id,")"),b.debug("   :",{exact:(R=ae.find(Ie=>Ie.name===he.model))==null?void 0:R.name,upper:(q=ae.find(Ie=>Ie.name.toUpperCase()===he.model.toUpperCase()))==null?void 0:q.name,lower:(pe=ae.find(Ie=>Ie.name.toLowerCase()===he.model.toLowerCase()))==null?void 0:pe.name}),b.debug("     :"),b.debug("    model ID:",we.id),b.debug("    :",we.name),z("model",we.id),O(we.name),A(!0),setTimeout(()=>{const Ie=K("model");b.debug("     :"),b.debug("     model  :",Ie),b.debug("    :",we.id),b.debug("    :",Ie===we.id?"":""),Ie!==we.id?(b.warn("   :     !"),b.debug("    ..."),z("model",we.id)):b.debug("     !")},100);else{b.warn("      :",he.model),b.debug("  :",ae.map(Vt=>Vt.name)),b.debug("  :"),b.debug("  -  :",he.model),b.debug("  -  :",he.model.toUpperCase()),b.debug("  -  :",he.model.toLowerCase());const Ie=ae.filter(Vt=>Vt.name.toLowerCase().includes(he.model.toLowerCase())||he.model.toLowerCase().includes(Vt.name.toLowerCase()));Ie.length>0&&b.debug("  :",Ie.map(Vt=>Vt.name))}}else b.warn("      :",he.brand),b.debug("  :",f.map(ae=>ae.name));if(b.debug("   :"),b.debug("    :",he.year.toString()),b.debug("    :",he.power.toString()),b.debug("    VIN:",he.vin),b.debug("     :",he.documentSeries),b.debug("     :",he.documentNumber),b.debug("     :",he.documentIssueDate),b.debug("    :"),b.debug("      API:",he.documentType),b.debug("     :",S.map(ae=>({id:ae.id,name:ae.name,code:ae.code}))),he.documentType&&S.length>0){const ae=S.find(we=>we.id===he.documentType||we.code===he.documentType||we.name.toLowerCase().includes(he.documentType.toLowerCase())||he.documentType.toLowerCase().includes(we.name.toLowerCase()));if(ae)b.debug("     :",ae.name,"(ID:",ae.id,")"),b.debug("   :",{byId:(fe=S.find(we=>we.id===he.documentType))==null?void 0:fe.name,byCode:(ue=S.find(we=>we.code===he.documentType))==null?void 0:ue.name,byName:(Te=S.find(we=>we.name.toLowerCase().includes(he.documentType.toLowerCase())))==null?void 0:Te.name}),z("documentType",ae.id);else{b.warn("       :",he.documentType),b.debug("   :",S.map(Ie=>Ie.name));const we=S.filter(Ie=>Ie.name.toLowerCase().includes(he.documentType.toLowerCase())||he.documentType.toLowerCase().includes(Ie.name.toLowerCase()));we.length>0&&b.debug("   :",we.map(Ie=>Ie.name))}}else b.debug("      API    ");z("year",he.year.toString()),z("power",he.power.toString()),z("vin",he.vin),z("documentSeries",he.documentSeries),z("documentNumber",he.documentNumber),z("documentIssueDate",he.documentIssueDate),setTimeout(()=>{const ae=K();b.debug("      :"),b.debug("   brand:",ae.brand),b.debug("   model:",ae.model),b.debug("   year:",ae.year),b.debug("   power:",ae.power),b.debug("   vin:",ae.vin),b.debug("   documentType:",ae.documentType),b.debug("   documentSeries:",ae.documentSeries),b.debug("   documentNumber:",ae.documentNumber),b.debug("   documentIssueDate:",ae.documentIssueDate),ae.model?b.debug("    :",ae.model):b.warn("   :     !"),ae.documentType?b.debug("     :",ae.documentType):b.warn("   :      !")},200),b.log("   ")}else b.log("    ,  ")}catch(he){b.error("    :",he)}})():(b.debug("   :"),t.plate||b.debug("   :  "),t.brand&&b.debug("   :   :",t.brand),t.model&&b.debug("   :   :",t.model),t.year&&b.debug("   :   :",t.year),t.power&&b.debug("   :   :",t.power))},[t.plate,z,f,g]);const F=le(te=>{n(te);try{ao({vehicle:{...t,...te},policyholder:a,owner:s,drivers:l,unlimitedDrivers:o,options:u})}catch(Q){b.error("   :",Q)}e("/policyholder")});return c.jsx("div",{className:"widget-page-content-wrapper",children:c.jsx("div",{className:"widget-form-column",children:c.jsxs("div",{className:"widget-inner-column",children:[c.jsx($i,{}),c.jsx("h4",{children:" "}),c.jsx("div",{className:"widget-styled-form",children:c.jsxs("form",{onSubmit:F,noValidate:!0,"aria-labelledby":"vehicle-form-title",children:[c.jsx("h2",{id:"vehicle-form-title",style:{position:"absolute",width:1,height:1,overflow:"hidden",clip:"rect(0 0 0 0)",whiteSpace:"nowrap",clipPath:"inset(50%)"},children:"  "}),c.jsxs("div",{className:"widget-form-grid",children:[c.jsxs("div",{className:"widget-form-group",children:[c.jsxs("label",{htmlFor:"brand",children:[" ",x&&c.jsx("span",{style:{color:"#666",fontSize:"12px"},children:"(...)"})]}),c.jsx(sR,{id:"brand",value:X,onChange:te=>{J(te),f.find(ce=>ce.name===te)||(z("brand",""),z("model",""),O(""),Y(!1),A(!1))},onSelect:te=>{const Q=K("brand");z("brand",te.id),Y(!0),J(te.name),Q!==te.id&&(z("model",""),O(""),A(!1))},brands:f,placeholder:"    ",icon:"flaticon-car",disabled:x,isLoading:x,error:((ee=ie.brand)==null?void 0:ee.message)||k||void 0,"aria-invalid":!!ie.brand,"aria-describedby":ie.brand?"brand-error":void 0})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsxs("label",{htmlFor:"model",children:[" ",V&&c.jsx("span",{style:{color:"#666",fontSize:"12px"},children:"(...)"})]}),c.jsx(aR,{id:"model",value:I,onChange:te=>{O(te),g.find(ce=>ce.name===te)||z("model","")},onSelect:te=>{z("model",te.id),A(!0),O(te.name)},models:g,placeholder:Z?"    ":"  ",icon:"flaticon-cog",disabled:!Z||V,isLoading:V,error:((De=ie.model)==null?void 0:De.message)||_||void 0,"aria-invalid":!!ie.model,"aria-describedby":ie.model?"model-error":void 0})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:"year",children:" "}),c.jsx(at,{id:"year",...L("year"),placeholder:" ",type:"number",min:"1990",max:new Date().getFullYear(),icon:"flaticon-clock","aria-invalid":!!ie.year,"aria-describedby":ie.year?"year-error":void 0}),ie.year&&c.jsx("div",{id:"year-error",className:"widget-form-error",role:"alert",children:ie.year.message})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:"power",children:" (..)"}),c.jsx(at,{id:"power",...L("power"),placeholder:" (..)",type:"number",min:"1",icon:"flaticon-bolt","aria-invalid":!!ie.power,"aria-describedby":ie.power?"power-error":void 0}),ie.power&&c.jsx("div",{id:"power-error",className:"widget-form-error",role:"alert",children:ie.power.message})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:"plate",children:""}),c.jsx(at,{id:"plate",...L("plate"),placeholder:"",icon:"flaticon-id-card",disabled:!0})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:"vin",children:"VIN"}),c.jsx(at,{id:"vin",...L("vin"),placeholder:"VIN",maxLength:17,icon:"flaticon-barcode","aria-invalid":!!ie.vin,"aria-describedby":ie.vin?"vin-error":void 0}),ie.vin&&c.jsx("div",{id:"vin-error",className:"widget-form-error",role:"alert",children:ie.vin.message})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:"documentType",children:""}),c.jsx("span",{className:"widget-icon flaticon-file"}),c.jsx("select",{id:"documentType",...L("documentType"),className:"widget-custom-select-box widget-insurence-form-border",disabled:p,"aria-invalid":!!ie.documentType,"aria-describedby":ie.documentType?"documentType-error":void 0,children:S.map(te=>c.jsx("option",{value:te.id,children:te.name},te.id))}),ie.documentType&&c.jsx("div",{id:"documentType-error",className:"widget-form-error",role:"alert",children:ie.documentType.message})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:"documentSeries",children:" "}),Tt(de).series?c.jsx(Rn,{id:"documentSeries",placeholder:Lt(de).series,mask:Tt(de).series,value:K("documentSeries")||"",onChange:te=>z("documentSeries",te.target.value),icon:"flaticon-file-alt","aria-invalid":!!ie.documentSeries,"aria-describedby":ie.documentSeries?"documentSeries-error":void 0}):c.jsx(at,{id:"documentSeries",...L("documentSeries"),placeholder:Lt(de).series,icon:"flaticon-file-alt","aria-invalid":!!ie.documentSeries,"aria-describedby":ie.documentSeries?"documentSeries-error":void 0}),ie.documentSeries&&c.jsx("div",{id:"documentSeries-error",className:"widget-form-error",role:"alert",children:ie.documentSeries.message})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:"documentNumber",children:" "}),Tt(de).number?c.jsx(Rn,{id:"documentNumber",placeholder:Lt(de).number,mask:Tt(de).number,value:K("documentNumber")||"",onChange:te=>z("documentNumber",te.target.value),icon:"flaticon-hashtag","aria-invalid":!!ie.documentNumber,"aria-describedby":ie.documentNumber?"documentNumber-error":void 0}):c.jsx(at,{id:"documentNumber",...L("documentNumber"),placeholder:Lt(de).number,icon:"flaticon-hashtag","aria-invalid":!!ie.documentNumber,"aria-describedby":ie.documentNumber?"documentNumber-error":void 0}),ie.documentNumber&&c.jsx("div",{id:"documentNumber-error",className:"widget-form-error",role:"alert",children:ie.documentNumber.message})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:"documentIssueDate",children:" "}),c.jsx(Dr,{id:"documentIssueDate",...L("documentIssueDate"),placeholder:" ",icon:"flaticon-calendar",max:new Date().toISOString().split("T")[0],"aria-invalid":!!ie.documentIssueDate,"aria-describedby":ie.documentIssueDate?"documentIssueDate-error":void 0}),ie.documentIssueDate&&c.jsx("div",{id:"documentIssueDate-error",className:"widget-form-error",role:"alert",children:ie.documentIssueDate.message})]})]}),c.jsxs("div",{className:"widget-form-agreement",style:{display:"flex",alignItems:"flex-start",gap:"8px"},children:[c.jsx(Oo,{checked:d,onChange:te=>m(te.target.checked)}),c.jsxs("span",{children:["               "," ",c.jsx("a",{href:lR(),target:"_blank",rel:"noopener noreferrer",style:{color:"var(--main-color, #4299e1)"},children:"     "}),"."]})]}),c.jsxs("div",{className:"widget-form-actions",children:[c.jsxs(tt,{variant:"theme",type:"button",onClick:()=>e(-1),children:[" ",c.jsx("i",{className:"fa fa-arrow-circle-left"})]}),c.jsxs(tt,{variant:"theme",type:"submit",disabled:ge||!d,children:[" ",c.jsx("i",{className:"fa fa-arrow-circle-right"})]})]})]})})]})})})}function Co({className:e,invalid:t,icon:n,useNiceSelect:r=!1,children:i,value:a,onChange:s,...l}){const[o,u]=E.useState(!1),[d,m]=E.useState(""),[f,h]=E.useState([]),[g,w]=E.useState({top:0,left:0,width:0}),[S,v]=E.useState(0),p=E.useRef(null),y=E.useRef(null),x=E.useRef(null);E.useEffect(()=>{if(r){if(p.current){const D=p.current.querySelector(`option[value="${a}"]`);if(D){m(D.textContent||"");return}}if(a&&f.length>0){const D=f.find(k=>k.value===a);if(D){m(D.text);return}}m("")}},[a,r,f]),E.useEffect(()=>{if(r&&a){const D=()=>{if(p.current){const k=p.current.querySelector(`option[value="${a}"]`);if(k&&k.textContent)return m(k.textContent),!0}return!1};if(!D()){const k=setTimeout(()=>{if(!D()){const M=setTimeout(D,10);return()=>clearTimeout(M)}},0);return()=>clearTimeout(k)}}else r&&!a&&m("")},[a,r]),E.useEffect(()=>{if(r&&a&&i){const D=()=>{if(p.current){const k=p.current.querySelector(`option[value="${a}"]`);if(k&&k.textContent)return m(k.textContent),!0}return!1};if(!D()){const k=setTimeout(D,0);return()=>clearTimeout(k)}}},[a,r,i]),E.useEffect(()=>{if(r&&a){const D=setTimeout(()=>{if(p.current){const k=p.current.querySelector(`option[value="${a}"]`);k&&k.textContent?m(k.textContent):v(M=>M+1)}},50);return()=>clearTimeout(D)}},[a,r,S]),E.useEffect(()=>{r&&p.current&&a!==void 0&&(p.current.value=String(a))},[a,r]);const C=E.useCallback((D,k)=>{var M;if(m(k),u(!1),s){const _=new Event("change",{bubbles:!0,cancelable:!0}),G={value:D,name:l.name||"",type:"change"};Object.defineProperty(_,"target",{value:G,writable:!1}),Object.defineProperty(_,"currentTarget",{value:G,writable:!1}),s(_)}if(p.current){p.current.value=D;const _=(M=Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value"))==null?void 0:M.set;_&&_.call(p.current,D);const G=new Event("change",{bubbles:!0});p.current.dispatchEvent(G);const X=new Event("input",{bubbles:!0});p.current.dispatchEvent(X);const J=new Event("blur",{bubbles:!0});p.current.dispatchEvent(J)}},[s,l.name]);E.useEffect(()=>{if(!o)return;const D=M=>{const _=M.target;if(x.current&&x.current.contains(_)){const J=_.closest("li.option");if(J){const P=J.getAttribute("data-value"),Y=J.textContent||"";P!==null&&!J.classList.contains("disabled")&&C(P,Y)}return}const G=y.current&&y.current.contains(_),X=x.current&&x.current.contains(_);!G&&!X&&u(!1)},k=setTimeout(()=>{document.addEventListener("click",D,!0)},100);return()=>{clearTimeout(k),document.removeEventListener("click",D,!0)}},[o,C]),E.useEffect(()=>{if(o&&x.current){const D=x.current.style.cssText;x.current.style.cssText=D+"; overflow-y: scroll !important; overflow-x: hidden !important;"}},[o]),E.useEffect(()=>{if(!r)return;(()=>{const M=ze.Children.toArray(i).filter(_=>ze.isValidElement(_)).map(_=>{const G=_.props;return{value:G.value||"",text:G.children||"",disabled:G.disabled||!1}});h(M)})()},[r,i]);const V=()=>{if(y.current){const D=y.current.getBoundingClientRect();w({top:D.bottom+window.scrollY,left:D.left+window.scrollX,width:D.width})}};return r?r?c.jsxs(c.Fragment,{children:[n&&c.jsx("span",{className:`widget-icon ${n}`}),c.jsx("select",{ref:p,className:In("widget-custom-select-box","widget-insurence-form-border","widget-nice-select",{"widget-is-invalid":t},e),style:{display:"none"},value:a,onChange:s,...l,children:i}),c.jsxs("div",{ref:y,className:In("widget-nice-select","widget-custom-select-box","widget-insurence-form-border",{open:o,disabled:l.disabled}),tabIndex:l.disabled?-1:0,style:{position:"relative",zIndex:o?1e4:"auto"},onMouseDown:D=>{D.preventDefault(),D.stopPropagation(),l.disabled||(o?u(!1):(V(),u(!0)))},onKeyDown:D=>{(D.key==="Enter"||D.key===" ")&&(D.preventDefault(),l.disabled||u(!o))},children:[c.jsx("span",{className:"widget-current",children:(()=>{if(r&&a&&p.current){const D=p.current.querySelector(`option[value="${a}"]`);if(D&&D.textContent)return d!==D.textContent&&m(D.textContent),D.textContent}return d||" "})()}),o&&yd.createPortal(c.jsx("ul",{ref:x,className:"widget-list widget-nice-select-dropdown",style:{position:"absolute",top:g.top,left:g.left,width:g.width,backgroundColor:"#fff",border:"1px solid #d8e4f1",borderRadius:"4px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",zIndex:99999,maxHeight:"300px",overflowX:"hidden",overflowY:"scroll",listStyle:"none",padding:0,margin:0,WebkitOverflowScrolling:"touch",pointerEvents:"auto"},onMouseDown:D=>{D.preventDefault(),D.stopPropagation()},children:f.map((D,k)=>c.jsx("li",{className:In("widget-option",{selected:D.value===a,disabled:D.disabled}),"data-value":D.value,style:{padding:"10px 15px",cursor:"pointer",borderBottom:"1px solid #f0f0f0",backgroundColor:D.value===a?"#f0f8ff":"transparent",fontSize:"14px",color:"#333",lineHeight:"1.4",userSelect:"none",pointerEvents:"auto"},onMouseDown:M=>{M.preventDefault(),M.stopPropagation()},children:D.text},D.value||k))}),document.body)]})]}):c.jsxs(c.Fragment,{children:[n&&c.jsx("span",{className:`widget-icon ${n}`}),c.jsx("select",{ref:p,className:In("widget-custom-select-box","widget-insurence-form-border",{"widget-is-invalid":t},e),value:a,onChange:s,...l,children:i})]}):c.jsxs(c.Fragment,{children:[n&&c.jsx("span",{className:`widget-icon ${n}`}),c.jsx("select",{ref:p,className:In("widget-custom-select-box","widget-insurence-form-border",{"widget-is-invalid":t},e),value:a,onChange:s,...l,children:i})]})}const uR=Oi({lastName:Ne().trim().min(1," "),firstName:Ne().trim().min(1," "),middleName:Ne().trim().optional(),birthDate:Ne().min(1," "),documentType:Ne().min(1,"  "),documentSeries:Ne().trim(),documentNumber:Ne().trim().min(1," "),documentIssueDate:Ne().min(1," "),hasPreviousLicense:sm(),previousLastName:Ne().trim().optional(),previousDocumentType:Ne().optional(),previousDocumentSeries:Ne().trim().optional(),previousDocumentNumber:Ne().trim().optional(),previousDocumentIssueDate:Ne().optional(),firstLicenseDate:Ne().min(1," ")}).superRefine((e,t)=>{!!Tt(e.documentType).series&&!e.documentSeries&&t.addIssue({code:ha.custom,path:["documentSeries"],message:" "}),e.hasPreviousLicense&&(e.previousDocumentType||t.addIssue({code:ha.custom,path:["previousDocumentType"],message:"  "}),e.previousDocumentSeries||t.addIssue({code:ha.custom,path:["previousDocumentSeries"],message:" "}),e.previousDocumentNumber||t.addIssue({code:ha.custom,path:["previousDocumentNumber"],message:" "}),e.previousDocumentIssueDate||t.addIssue({code:ha.custom,path:["previousDocumentIssueDate"],message:" "}))});function dR({driver:e,documentTypes:t,isLoading:n,onUpdate:r,onRemove:i,policyholder:a,registerValidator:s,unregisterValidator:l}){var x,C,V,D,k,M,_,G,X,J,P,Y,I,O,A,B;const{register:o,setValue:u,watch:d,reset:m,control:f,trigger:h,formState:{errors:g}}=Ss({resolver:xs(uR),defaultValues:{lastName:e.lastName||"",firstName:e.firstName||"",middleName:e.middleName||"",birthDate:e.birthDate||"",documentType:((x=e.drivingLicense)==null?void 0:x.type)||"",documentSeries:((C=e.drivingLicense)==null?void 0:C.series)||"",documentNumber:((V=e.drivingLicense)==null?void 0:V.number)||"",documentIssueDate:((D=e.drivingLicense)==null?void 0:D.issueDate)||"",hasPreviousLicense:!!e.previousDrivingLicense,previousLastName:e.previousLastName||"",previousDocumentType:((k=e.previousDrivingLicense)==null?void 0:k.type)||"",previousDocumentSeries:((M=e.previousDrivingLicense)==null?void 0:M.series)||"",previousDocumentNumber:((_=e.previousDrivingLicense)==null?void 0:_.number)||"",previousDocumentIssueDate:((G=e.previousDrivingLicense)==null?void 0:G.issueDate)||"",firstLicenseDate:e.firstLicenseDate||""}}),w=E.useRef(!1);E.useEffect(()=>{var U,L,le,z,K,ie,ge,Z;w.current=!0,m({lastName:e.lastName||"",firstName:e.firstName||"",middleName:e.middleName||"",birthDate:e.birthDate||"",documentType:((U=e.drivingLicense)==null?void 0:U.type)||"",documentSeries:((L=e.drivingLicense)==null?void 0:L.series)||"",documentNumber:((le=e.drivingLicense)==null?void 0:le.number)||"",documentIssueDate:((z=e.drivingLicense)==null?void 0:z.issueDate)||"",hasPreviousLicense:!!e.previousDrivingLicense,previousLastName:e.previousLastName||"",previousDocumentType:((K=e.previousDrivingLicense)==null?void 0:K.type)||"",previousDocumentSeries:((ie=e.previousDrivingLicense)==null?void 0:ie.series)||"",previousDocumentNumber:((ge=e.previousDrivingLicense)==null?void 0:ge.number)||"",previousDocumentIssueDate:((Z=e.previousDrivingLicense)==null?void 0:Z.issueDate)||"",firstLicenseDate:e.firstLicenseDate||""}),setTimeout(()=>{w.current=!1},0)},[e.id,e.lastName,e.firstName,e.middleName,e.birthDate,(X=e.drivingLicense)==null?void 0:X.type,(J=e.drivingLicense)==null?void 0:J.series,(P=e.drivingLicense)==null?void 0:P.number,(Y=e.drivingLicense)==null?void 0:Y.issueDate,(I=e.previousDrivingLicense)==null?void 0:I.type,(O=e.previousDrivingLicense)==null?void 0:O.series,(A=e.previousDrivingLicense)==null?void 0:A.number,(B=e.previousDrivingLicense)==null?void 0:B.issueDate,e.firstLicenseDate,e.previousLastName,m]);const S=d("hasPreviousLicense"),v=d("documentType"),p=d("previousDocumentType");E.useEffect(()=>{if(S&&!p&&t.length>0){const U=K=>(K||"").trim().toLowerCase().replace(/\s+/g,""),L="rfdrivinglicense",le=["russian_driver_license","russiandriverlicense","drivinglicenseoftherussianfederation"],z=t.find(K=>U(K.id)===L||le.includes(U(K.code)));z&&u("previousDocumentType",z.id)}},[S,p,t,u]),E.useEffect(()=>{const U=d(L=>{if(w.current)return;const le={lastName:L.lastName,previousLastName:L.previousLastName,firstName:L.firstName,middleName:L.middleName||void 0,birthDate:L.birthDate,drivingLicense:{type:L.documentType,series:L.documentSeries,number:L.documentNumber,issueDate:L.documentIssueDate},previousDrivingLicense:L.hasPreviousLicense?{type:L.previousDocumentType||"",series:L.previousDocumentSeries||"",number:L.previousDocumentNumber||"",issueDate:L.previousDocumentIssueDate}:void 0,firstLicenseDate:L.firstLicenseDate};r(e.id,le)});return()=>U.unsubscribe()},[d,e.id,r]),E.useEffect(()=>{const U=async()=>{var le,z,K,ie,ge,Z,de,ve,re,me,F,ee,De,te;const L=await h();if(!L){const Q=[];(le=g.lastName)!=null&&le.message&&Q.push({field:"lastName",message:g.lastName.message}),(z=g.firstName)!=null&&z.message&&Q.push({field:"firstName",message:g.firstName.message}),(K=g.middleName)!=null&&K.message&&Q.push({field:"middleName",message:g.middleName.message}),(ie=g.birthDate)!=null&&ie.message&&Q.push({field:"birthDate",message:g.birthDate.message}),(ge=g.documentType)!=null&&ge.message&&Q.push({field:"documentType",message:g.documentType.message}),(Z=g.documentSeries)!=null&&Z.message&&Q.push({field:"documentSeries",message:g.documentSeries.message}),(de=g.documentNumber)!=null&&de.message&&Q.push({field:"documentNumber",message:g.documentNumber.message}),(ve=g.documentIssueDate)!=null&&ve.message&&Q.push({field:"documentIssueDate",message:g.documentIssueDate.message}),(re=g.previousLastName)!=null&&re.message&&Q.push({field:"previousLastName",message:g.previousLastName.message}),(me=g.previousDocumentType)!=null&&me.message&&Q.push({field:"previousDocumentType",message:g.previousDocumentType.message}),(F=g.previousDocumentSeries)!=null&&F.message&&Q.push({field:"previousDocumentSeries",message:g.previousDocumentSeries.message}),(ee=g.previousDocumentNumber)!=null&&ee.message&&Q.push({field:"previousDocumentNumber",message:g.previousDocumentNumber.message}),(De=g.previousDocumentIssueDate)!=null&&De.message&&Q.push({field:"previousDocumentIssueDate",message:g.previousDocumentIssueDate.message}),(te=g.firstLicenseDate)!=null&&te.message&&Q.push({field:"firstLicenseDate",message:g.firstLicenseDate.message}),b.warn(`     ${e.id}:`,Q)}return L};return s(e.id,U),()=>{l(e.id)}},[e.id,h,s,l,g.lastName,g.firstName,g.middleName,g.birthDate,g.documentType,g.documentSeries,g.documentNumber,g.documentIssueDate,g.previousLastName,g.previousDocumentType,g.previousDocumentSeries,g.previousDocumentNumber,g.previousDocumentIssueDate,g.firstLicenseDate]);const y=()=>{a&&(u("lastName",a.lastName||""),u("firstName",a.firstName||""),u("middleName",a.middleName||""),u("birthDate",a.birthDate||""))};return c.jsxs("fieldset",{style:{border:"0px solid #e5e7eb",borderRadius:0,paddingTop:24,marginBottom:0},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20},children:[c.jsx("h6",{style:{margin:0,fontSize:18,fontWeight:600,color:"var(--heading-color)"},children:""}),c.jsx(tt,{type:"button",variant:"secondary",onClick:()=>i(e.id),style:{color:"#e31b23",borderColor:"#e31b23"},children:""})]}),c.jsxs("div",{className:"widget-form-grid",children:[a&&c.jsx("div",{className:"widget-form-group",style:{gridColumn:"1 / -1",marginBottom:16},children:c.jsx(tt,{type:"button",variant:"secondary",onClick:y,children:"  "})}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:`dr-lastName-${e.id}`,children:""}),c.jsx(at,{id:`dr-lastName-${e.id}`,placeholder:"",icon:"flaticon-user-2",...o("lastName"),"aria-invalid":!!g.lastName,"aria-describedby":g.lastName?`dr-lastName-error-${e.id}`:void 0}),g.lastName&&c.jsx("div",{id:`dr-lastName-error-${e.id}`,className:"widget-form-error",role:"alert",children:g.lastName.message})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:`dr-firstName-${e.id}`,children:""}),c.jsx(at,{id:`dr-firstName-${e.id}`,placeholder:"",icon:"flaticon-user-2",...o("firstName"),"aria-invalid":!!g.firstName,"aria-describedby":g.firstName?`dr-firstName-error-${e.id}`:void 0}),g.firstName&&c.jsx("div",{id:`dr-firstName-error-${e.id}`,className:"widget-form-error",role:"alert",children:g.firstName.message})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:`dr-middleName-${e.id}`,children:""}),c.jsx(at,{id:`dr-middleName-${e.id}`,placeholder:"",icon:"flaticon-user-2",...o("middleName"),"aria-invalid":!!g.middleName,"aria-describedby":g.middleName?`dr-middleName-error-${e.id}`:void 0}),g.middleName&&c.jsx("div",{id:`dr-middleName-error-${e.id}`,className:"widget-form-error",role:"alert",children:g.middleName.message})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:`dr-birthDate-${e.id}`,children:" "}),c.jsx(Dr,{id:`dr-birthDate-${e.id}`,placeholder:" ",icon:"flaticon-calendar",max:new Date().toISOString().split("T")[0],...o("birthDate"),"aria-invalid":!!g.birthDate,"aria-describedby":g.birthDate?`dr-birthDate-error-${e.id}`:void 0}),g.birthDate&&c.jsx("div",{id:`dr-birthDate-error-${e.id}`,className:"widget-form-error",role:"alert",children:g.birthDate.message})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:`dr-documentType-${e.id}`,children:""}),c.jsx(Lw,{control:f,name:"documentType",render:({field:U})=>c.jsx(Co,{id:`dr-documentType-${e.id}`,icon:"flaticon-file",value:U.value||"",onChange:L=>U.onChange(L.target.value),onBlur:U.onBlur,disabled:n,"aria-invalid":!!g.documentType,"aria-describedby":g.documentType?`dr-documentType-error-${e.id}`:void 0,children:t.map(L=>c.jsx("option",{value:L.id,children:L.name},L.id))})}),g.documentType&&c.jsx("div",{id:`dr-documentType-error-${e.id}`,className:"widget-form-error",role:"alert",children:g.documentType.message})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:`dr-documentSeries-${e.id}`,children:" "}),Tt(v).series?c.jsx(Rn,{id:`dr-documentSeries-${e.id}`,placeholder:Lt(v).series,mask:Tt(v).series,value:d("documentSeries")||"",onChange:U=>u("documentSeries",U.target.value),icon:"flaticon-file-alt","aria-invalid":!!g.documentSeries,"aria-describedby":g.documentSeries?`dr-documentSeries-error-${e.id}`:void 0}):c.jsx(at,{id:`dr-documentSeries-${e.id}`,placeholder:Lt(v).series,icon:"flaticon-file-alt",...o("documentSeries"),"aria-invalid":!!g.documentSeries,"aria-describedby":g.documentSeries?`dr-documentSeries-error-${e.id}`:void 0}),g.documentSeries&&c.jsx("div",{id:`dr-documentSeries-error-${e.id}`,className:"widget-form-error",role:"alert",children:g.documentSeries.message})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:`dr-documentNumber-${e.id}`,children:" "}),Tt(v).number?c.jsx(Rn,{id:`dr-documentNumber-${e.id}`,placeholder:Lt(v).number,mask:Tt(v).number,value:d("documentNumber")||"",onChange:U=>u("documentNumber",U.target.value),icon:"flaticon-hashtag","aria-invalid":!!g.documentNumber,"aria-describedby":g.documentNumber?`dr-documentNumber-error-${e.id}`:void 0}):c.jsx(at,{id:`dr-documentNumber-${e.id}`,placeholder:Lt(v).number,icon:"flaticon-hashtag",...o("documentNumber"),"aria-invalid":!!g.documentNumber,"aria-describedby":g.documentNumber?`dr-documentNumber-error-${e.id}`:void 0}),g.documentNumber&&c.jsx("div",{id:`dr-documentNumber-error-${e.id}`,className:"widget-form-error",role:"alert",children:g.documentNumber.message})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:`dr-documentIssueDate-${e.id}`,children:" "}),c.jsx(Dr,{id:`dr-documentIssueDate-${e.id}`,placeholder:" ",icon:"flaticon-calendar",max:new Date().toISOString().split("T")[0],...o("documentIssueDate"),"aria-invalid":!!g.documentIssueDate,"aria-describedby":g.documentIssueDate?`dr-documentIssueDate-error-${e.id}`:void 0}),g.documentIssueDate&&c.jsx("div",{id:`dr-documentIssueDate-error-${e.id}`,className:"widget-form-error",role:"alert",children:g.documentIssueDate.message})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:`dr-firstLicenseDate-${e.id}`,children:"  "}),c.jsx(Dr,{id:`dr-firstLicenseDate-${e.id}`,placeholder:"  ",icon:"flaticon-calendar",max:new Date().toISOString().split("T")[0],...o("firstLicenseDate"),"aria-invalid":!!g.firstLicenseDate,"aria-describedby":g.firstLicenseDate?`dr-firstLicenseDate-error-${e.id}`:void 0}),g.firstLicenseDate&&c.jsx("div",{id:`dr-firstLicenseDate-error-${e.id}`,className:"widget-form-error",role:"alert",children:g.firstLicenseDate.message})]}),c.jsx("div",{className:"widget-form-group",style:{gridColumn:"1 / -1",marginTop:16},children:c.jsx(Oo,{...o("hasPreviousLicense"),label:"   "})}),S&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:`dr-previousLastName-${e.id}`,children:"  ( )"}),c.jsx(at,{id:`dr-previousLastName-${e.id}`,placeholder:"  ( )",icon:"flaticon-user-2",...o("previousLastName"),"aria-invalid":!!g.previousLastName,"aria-describedby":g.previousLastName?`dr-previousLastName-error-${e.id}`:void 0}),g.previousLastName&&c.jsx("div",{id:`dr-previousLastName-error-${e.id}`,className:"widget-form-error",role:"alert",children:g.previousLastName.message})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:`dr-previousDocumentType-${e.id}`,children:"  "}),c.jsx(Lw,{control:f,name:"previousDocumentType",render:({field:U})=>c.jsx(Co,{id:`dr-previousDocumentType-${e.id}`,icon:"flaticon-file",value:U.value||"",onChange:L=>U.onChange(L.target.value),onBlur:U.onBlur,disabled:n,"aria-invalid":!!g.previousDocumentType,"aria-describedby":g.previousDocumentType?`dr-previousDocumentType-error-${e.id}`:void 0,children:t.map(L=>c.jsx("option",{value:L.id,children:L.name},L.id))})}),g.previousDocumentType&&c.jsx("div",{id:`dr-previousDocumentType-error-${e.id}`,className:"widget-form-error",role:"alert",children:g.previousDocumentType.message})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:`dr-previousDocumentSeries-${e.id}`,children:"  "}),Tt(p||"").series?c.jsx(Rn,{id:`dr-previousDocumentSeries-${e.id}`,placeholder:Lt(p||"").series,mask:Tt(p||"").series,value:d("previousDocumentSeries")||"",onChange:U=>u("previousDocumentSeries",U.target.value),icon:"flaticon-file-alt","aria-invalid":!!g.previousDocumentSeries,"aria-describedby":g.previousDocumentSeries?`dr-previousDocumentSeries-error-${e.id}`:void 0}):c.jsx(at,{id:`dr-previousDocumentSeries-${e.id}`,placeholder:Lt(p||"").series,icon:"flaticon-file-alt",...o("previousDocumentSeries"),"aria-invalid":!!g.previousDocumentSeries,"aria-describedby":g.previousDocumentSeries?`dr-previousDocumentSeries-error-${e.id}`:void 0}),g.previousDocumentSeries&&c.jsx("div",{id:`dr-previousDocumentSeries-error-${e.id}`,className:"widget-form-error",role:"alert",children:g.previousDocumentSeries.message})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:`dr-previousDocumentNumber-${e.id}`,children:"  "}),Tt(p||"").number?c.jsx(Rn,{id:`dr-previousDocumentNumber-${e.id}`,placeholder:Lt(p||"").number,mask:Tt(p||"").number,value:d("previousDocumentNumber")||"",onChange:U=>u("previousDocumentNumber",U.target.value),icon:"flaticon-hashtag","aria-invalid":!!g.previousDocumentNumber,"aria-describedby":g.previousDocumentNumber?`dr-previousDocumentNumber-error-${e.id}`:void 0}):c.jsx(at,{id:`dr-previousDocumentNumber-${e.id}`,placeholder:Lt(p||"").number,icon:"flaticon-hashtag",...o("previousDocumentNumber"),"aria-invalid":!!g.previousDocumentNumber,"aria-describedby":g.previousDocumentNumber?`dr-previousDocumentNumber-error-${e.id}`:void 0}),g.previousDocumentNumber&&c.jsx("div",{id:`dr-previousDocumentNumber-error-${e.id}`,className:"widget-form-error",role:"alert",children:g.previousDocumentNumber.message})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:`dr-previousDocumentIssueDate-${e.id}`,children:"   "}),c.jsx(Dr,{id:`dr-previousDocumentIssueDate-${e.id}`,placeholder:"   ",icon:"flaticon-calendar",max:new Date().toISOString().split("T")[0],...o("previousDocumentIssueDate"),"aria-invalid":!!g.previousDocumentIssueDate,"aria-describedby":g.previousDocumentIssueDate?`dr-previousDocumentIssueDate-error-${e.id}`:void 0}),g.previousDocumentIssueDate&&c.jsx("div",{id:`dr-previousDocumentIssueDate-error-${e.id}`,className:"widget-form-error",role:"alert",children:g.previousDocumentIssueDate.message})]})]})]})]})}function fR(){var Y,I;const e=Yr(),{vehicle:t,policyholder:n,owner:r,drivers:i,unlimitedDrivers:a,setUnlimitedDrivers:s,addDriver:l,updateDriver:o,removeDriver:u,options:d,loadFromHistory:m,isNewCalculation:f}=or(),[h,g]=E.useState([]),[w,S]=E.useState(!1),[v,p]=E.useState(!1),y=E.useRef(!1),x=E.useRef(!1),C=E.useRef(new Map),V=E.useCallback((O,A)=>{C.current.set(O,A)},[]),D=E.useCallback(O=>{C.current.delete(O)},[]),k=E.useCallback(()=>{try{const O=or.getState();ao({vehicle:O.vehicle,policyholder:O.policyholder,owner:O.owner,drivers:O.drivers,unlimitedDrivers:O.unlimitedDrivers,options:O.options})}catch(O){b.error("     :",O)}},[]),M=E.useCallback(async()=>{if(a)return!0;if(i.length===0)return alert('        " "'),!1;const O=Array.from(C.current.values());if(O.length===0||(await Promise.all(O.map(U=>U()))).every(Boolean))return!0;const B=document.querySelector(".form-error");return B&&B.scrollIntoView({behavior:"smooth",block:"center"}),!1},[i.length,a]),_=!!((Y=t==null?void 0:t.plate)!=null&&Y.trim()||(I=t==null?void 0:t.vin)!=null&&I.trim());E.useEffect(()=>{var O,A,B,U,L,le,z;if(f&&!_&&(b.log("      VIN -   "),y.current=!1,x.current=!1),!y.current){if(i.length>0){y.current=!0;return}if(f&&!_){b.log("       VIN -    "),y.current=!0;return}try{const K=lS();if(K){const ie=((O=t==null?void 0:t.plate)==null?void 0:O.trim())&&((B=(A=K.vehicle)==null?void 0:A.plate)==null?void 0:B.trim())===t.plate.trim(),ge=((U=t==null?void 0:t.vin)==null?void 0:U.trim())&&((le=(L=K.vehicle)==null?void 0:L.vin)==null?void 0:le.trim())===t.vin.trim();ie||ge?(m(K),b.log("     :",((z=K.drivers)==null?void 0:z.length)||0)):b.log("  ,  /VIN   ,  ")}}catch(K){b.error("     :",K)}finally{y.current=!0}}},[i.length,t==null?void 0:t.plate,t==null?void 0:t.vin,_,m,f]),E.useEffect(()=>{var A,B,U,L,le,z,K;if(x.current||i.length===0)return;if(f&&!_){b.log("       VIN -     "),x.current=!0;return}if(!_){b.log("    VIN -     "),x.current=!0;return}if(!i.some(ie=>{const ge=ie.drivingLicense;return!(ge!=null&&ge.type)||!(ge!=null&&ge.series)||!(ge!=null&&ge.number)})){x.current=!0;return}try{const ie=lS();if(!((A=ie==null?void 0:ie.drivers)!=null&&A.length)){x.current=!0;return}const ge=((B=t==null?void 0:t.plate)==null?void 0:B.trim())&&((L=(U=ie.vehicle)==null?void 0:U.plate)==null?void 0:L.trim())===t.plate.trim(),Z=((le=t==null?void 0:t.vin)==null?void 0:le.trim())&&((K=(z=ie.vehicle)==null?void 0:z.vin)==null?void 0:K.trim())===t.vin.trim();if(!ge&&!Z){b.log(" /VIN      -   "),x.current=!0;return}i.forEach((de,ve)=>{const re=ie.drivers[ve];if(!(re!=null&&re.drivingLicense))return;const me=de.drivingLicense||{},F=!me.type&&re.drivingLicense.type,ee=!me.series&&re.drivingLicense.series,De=!me.number&&re.drivingLicense.number,te=!me.issueDate&&re.drivingLicense.issueDate;(F||ee||De||te)&&(b.log(`    ${de.id}  `),o(de.id,{drivingLicense:{...me,...re.drivingLicense}}))})}catch(ie){b.error("     :",ie)}finally{x.current=!0}},[i,o,f,t==null?void 0:t.plate,t==null?void 0:t.vin,_]),E.useEffect(()=>{k(),b.log('   " "   ')},[a,k]),E.useEffect(()=>{(async()=>{S(!0);try{const A=await qs("driver");g(A)}catch(A){b.error("  :",A)}finally{S(!1)}})()},[]),E.useEffect(()=>{if(!a&&i.length===0&&h.length>0&&!v){const O=le=>(le||"").trim().toLowerCase().replace(/\s+/g,""),A="rfdrivinglicense",B=["russian_driver_license","russiandriverlicense","drivinglicenseoftherussianfederation"],U=h.find(le=>O(le.id)===A||B.includes(O(le.code))),L={id:Date.now().toString(),lastName:"",firstName:"",middleName:"",birthDate:"",drivingLicense:{type:(U==null?void 0:U.id)||(h.length>0?h[0].id:""),series:"",number:"",issueDate:""},firstLicenseDate:""};b.log("   :",{isNewCalculation:f,hasPlate:!!(t!=null&&t.plate),driver:{...L,drivingLicense:{type:L.drivingLicense.type,series:L.drivingLicense.series||"()",number:L.drivingLicense.number||"()",issueDate:L.drivingLicense.issueDate||"()"}}}),l(L),p(!0),!f||_?(k(),b.log("        ")):b.log("      VIN -    ")}(a||i.length>0)&&p(!1)},[a,i.length,h.length,v,l,t,n,r,d]);const G=()=>{const O=le=>(le||"").trim().toLowerCase().replace(/\s+/g,""),A="rfdrivinglicense",B=["russian_driver_license","russiandriverlicense","drivinglicenseoftherussianfederation"],U=h.find(le=>O(le.id)===A||B.includes(O(le.code))),L={id:Date.now().toString(),lastName:"",firstName:"",middleName:"",birthDate:"",drivingLicense:{type:(U==null?void 0:U.id)||(h.length>0?h[0].id:""),series:"",number:"",issueDate:""},firstLicenseDate:""};l(L),k(),b.log("       ")},X=(O,A)=>{o(O,A),k()},J=O=>{u(O),k(),b.log("       ")},P=async()=>{if(!(a||i.length>0)){alert('        " "');return}if(!await M()){b.warn("    ,     ");return}k(),e("/options")};return c.jsx("div",{className:"widget-page-content-wrapper",children:c.jsx("div",{className:"widget-form-column",children:c.jsxs("div",{className:"widget-inner-column",children:[c.jsx($i,{}),c.jsx("h4",{children:""}),c.jsx("div",{className:"widget-styled-form",children:c.jsxs("form",{noValidate:!0,"aria-labelledby":"drivers-form-title",children:[c.jsx("h2",{id:"drivers-form-title",style:{position:"absolute",width:1,height:1,overflow:"hidden",clip:"rect(0 0 0 0)",whiteSpace:"nowrap",clipPath:"inset(50%)"},children:""}),c.jsx("div",{className:"widget-form-group",style:{marginBottom:24},children:c.jsx(Oo,{checked:a,onChange:O=>s(O.target.checked),label:" "})}),!a&&i.length>0&&c.jsx("div",{style:{marginBottom:24},children:i.map((O,A)=>c.jsx(dR,{driver:O,documentTypes:h,isLoading:w,onUpdate:X,onRemove:J,policyholder:A===0?n:void 0,registerValidator:V,unregisterValidator:D},O.id))}),!a&&c.jsx("div",{className:"widget-form-group",style:{marginBottom:24},children:c.jsx(tt,{type:"button",variant:"secondary",onClick:G,children:" "})}),c.jsxs("div",{className:"widget-form-actions",children:[c.jsxs(tt,{type:"button",variant:"theme",onClick:()=>e(-1),children:[" ",c.jsx("i",{className:"fa fa-arrow-circle-left"})]}),c.jsxs(tt,{type:"button",variant:"theme",onClick:P,disabled:!a&&i.length===0,children:[" ",c.jsx("i",{className:"fa fa-arrow-circle-right"})]})]})]})})]})})})}async function Pp(e,t=20){try{b.log("     addressSuggestions:",e);const{data:n,error:r}=await Kr.query({query:UI,variables:{query:e},errorPolicy:"all"});if(r)throw b.error("    :",r),new Error(`   : ${r.message}`);const i=((n==null?void 0:n.addressSuggestions)||[]).filter(a=>a.value).map((a,s)=>({id:a.fiasId||a.cityFiasId||`address-${s}`,value:a.value,flat:a.flat,block:a.block,cityWithType:a.cityWithType,cityKladrId:a.cityKladrId,country:a.country,countryIsoCode:a.countryIsoCode,areaWithType:a.areaWithType,fiasId:a.fiasId,houseFiasId:a.houseFiasId,house:a.house,settlementWithType:a.settlementWithType,settlementFiasId:a.settlementFiasId,regionWithType:a.regionWithType,regionIsoCode:a.regionIsoCode,street:a.street,postalCode:a.postalCode,kladrId:a.kladrId,streetFiasId:a.streetFiasId,streetKladrId:a.streetKladrId,cityFiasId:a.cityFiasId})).slice(0,t);return b.log(`    addressSuggestions: ${i.length}`),i}catch(n){return b.error("  API searchAddresses:",n),Er("searchAddresses",n,{query:e,size:t}),[]}}function TN({id:e,value:t,onChange:n,onSelect:r,placeholder:i="  ",icon:a="flaticon-map-marker",error:s,disabled:l=!1,className:o="","aria-invalid":u,"aria-describedby":d}){const[m,f]=E.useState([]),[h,g]=E.useState(!1),[w,S]=E.useState(!1),[v,p]=E.useState(-1),y=E.useRef(null),x=E.useRef(null);E.useEffect(()=>{t.length>2?(S(!0),Pp(t).then(D=>{b.debug(" AddressAutocomplete:  :",D.length),f(D),D.length>0&&document.activeElement===y.current&&g(!0)}).catch(D=>{b.error("   :",D),f([]),g(!1)}).finally(()=>{S(!1)})):(f([]),g(!1))},[t]);const C=D=>{n(D.value),r&&r(D),g(!1),p(-1)},V=D=>{if(h)switch(D.key){case"ArrowDown":D.preventDefault(),p(k=>k<m.length-1?k+1:0);break;case"ArrowUp":D.preventDefault(),p(k=>k>0?k-1:m.length-1);break;case"Enter":D.preventDefault(),v>=0&&v<m.length&&C(m[v]);break;case"Escape":g(!1),p(-1);break}};return E.useEffect(()=>{if(v>=0&&x.current){const D=x.current.children[v];D&&D.scrollIntoView({block:"nearest",behavior:"smooth"})}},[v]),E.useEffect(()=>{const D=k=>{y.current&&!y.current.contains(k.target)&&x.current&&!x.current.contains(k.target)&&g(!1)};if(h)return document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[h]),c.jsxs("div",{className:`widget-city-autocomplete ${o}`,style:{position:"relative"},children:[a&&c.jsx("span",{className:`widget-icon ${a}`}),c.jsxs("div",{className:"widget-city-autocomplete-input-wrapper",style:{position:"relative"},children:[c.jsx("input",{ref:y,id:e,type:"text",value:t,onChange:D=>n(D.target.value),onKeyDown:V,onFocus:()=>{b.debug(" AddressAutocomplete: , :",m.length),m.length>0&&g(!0)},onBlur:()=>{setTimeout(()=>g(!1),150)},placeholder:i,disabled:l,className:`widget-ui-input widget-city-autocomplete-input ${s?"error":""} ${u?"widget-is-invalid":""}`,"aria-invalid":u,"aria-describedby":d,autoComplete:"off"}),w&&c.jsx("div",{className:"widget-city-autocomplete-loading",children:c.jsx("div",{className:"widget-spinner"})}),h&&m.length>0&&c.jsx("ul",{ref:x,className:"widget-city-autocomplete-list",onMouseDown:D=>D.preventDefault(),children:m.map((D,k)=>c.jsx("li",{className:`widget-city-autocomplete-item ${k===v?"highlighted":""}`,onMouseDown:M=>{M.preventDefault(),C(D)},onMouseEnter:()=>p(k),children:c.jsx("div",{className:"widget-city-autocomplete-item-name",children:D.value})},D.id))})]}),s&&c.jsx("div",{className:"widget-city-autocomplete-error",role:"alert",children:s})]})}const _N=["yandex.ru","mail.ru","list.ru","rambler.ru","ya.ru"];function hR({id:e,value:t,onChange:n,placeholder:r=" ",icon:i="flaticon-envelope",error:a,disabled:s=!1,className:l="",name:o,onBlur:u,inputRef:d,"aria-invalid":m,"aria-describedby":f}){const[h,g]=E.useState(!1),[w,S]=E.useState(-1),[v,p]=E.useState(null),y=E.useRef(null),x=E.useRef(null),C=E.useMemo(()=>{const M=t.trim();if(!M)return[];if(M.includes("@")){const[_,G]=M.split("@");if(!_)return[];const X=_N.filter(J=>J.startsWith(G.toLowerCase()));return X.length===1&&X[0]===G.toLowerCase()?[]:X.map(J=>`${_}@${J}`)}return _N.map(_=>`${M}@${_}`)},[t]);E.useEffect(()=>{if(C.length>0&&document.activeElement===y.current){if(g(!0),S(-1),y.current){const M=y.current.getBoundingClientRect();p({top:M.bottom+4,left:M.left,width:M.width})}}else C.length===0&&(g(!1),S(-1))},[C]),E.useEffect(()=>{if(w>=0&&x.current){const M=x.current.children[w];M==null||M.scrollIntoView({block:"nearest",behavior:"smooth"})}},[w]),E.useEffect(()=>{const M=()=>{if(y.current&&h){const _=y.current.getBoundingClientRect();p({top:_.bottom+4,left:_.left,width:_.width})}};if(h&&y.current)return M(),window.addEventListener("scroll",M,!0),window.addEventListener("resize",M),()=>{window.removeEventListener("scroll",M,!0),window.removeEventListener("resize",M)}},[h,C.length]),E.useEffect(()=>{const M=_=>{y.current&&!y.current.contains(_.target)&&x.current&&!x.current.contains(_.target)&&g(!1)};if(h)return document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}},[h]);const V=M=>{n(M),g(!1),S(-1)},D=M=>{if(!(!h||C.length===0))switch(M.key){case"ArrowDown":M.preventDefault(),S(_=>_<C.length-1?_+1:0);break;case"ArrowUp":M.preventDefault(),S(_=>_>0?_-1:C.length-1);break;case"Enter":M.preventDefault(),w>=0&&w<C.length&&V(C[w]);break;case"Escape":g(!1),S(-1);break}},k=M=>{y.current=M,d&&d(M)};return c.jsxs("div",{className:In("widget-city-autocomplete",l),style:{position:"relative",zIndex:h?10001:"auto"},children:[i&&c.jsx("span",{className:`widget-icon ${i}`}),c.jsx("div",{className:"widget-city-autocomplete-input-wrapper",style:{position:"relative",zIndex:h?10001:"auto"},children:c.jsx("input",{ref:k,id:e,name:o,type:"email",value:t,onChange:M=>n(M.target.value),onKeyDown:D,onFocus:()=>{C.length>0&&g(!0)},onBlur:M=>{setTimeout(()=>g(!1),150),u==null||u(M)},placeholder:r,disabled:s,className:`widget-ui-input widget-city-autocomplete-input ${a?"error":""} ${m?"widget-is-invalid":""}`,"aria-invalid":m,"aria-describedby":f,autoComplete:"off"})}),h&&C.length>0&&v&&yd.createPortal(c.jsx("ul",{ref:x,className:"widget-city-autocomplete-list",style:{position:"fixed",top:`${v.top}px`,left:`${v.left}px`,width:`${v.width}px`,zIndex:10002,background:"#fff",border:"1px solid #e0e0e0",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",margin:0,padding:"4px 0",listStyle:"none",maxHeight:"200px",overflowY:"auto"},children:C.map((M,_)=>c.jsx("li",{style:{padding:"10px 16px",cursor:"pointer",backgroundColor:_===w?"#f0f0f0":"transparent"},onClick:()=>V(M),onMouseEnter:()=>S(_),children:c.jsx("div",{style:{fontSize:"14px",color:"#333"},children:M})},M))}),document.body)]})}const mR=Oi({lastName:Ne().trim().min(1," "),firstName:Ne().trim().min(1," "),middleName:Ne().trim().optional(),birthDate:Ne().trim().min(1," "),address:Ne().trim().min(1," "),documentType:Ne().min(1,"  "),documentSeries:dm,documentNumber:fm,documentIssueDate:hm,isOwner:sm(),email:Cw,phone:um}),pR=Oi({lastName:Ne().trim().min(1," "),firstName:Ne().trim().min(1," "),middleName:Ne().trim().optional(),birthDate:Ne().trim().min(1," "),address:Ne().trim().min(1," "),phone:um,email:Cw,documentType:Ne().min(1,"  "),documentSeries:dm,documentNumber:fm,documentIssueDate:hm});function gR(){var ve,re,me;const e=Yr(),{vehicle:t,policyholder:n,owner:r,drivers:i,unlimitedDrivers:a,options:s,setPolicyholder:l,setOwner:o}=or(),[u,d]=E.useState([]),[m,f]=E.useState(!1),h=E.useRef({addressText:n.addressText,addressData:n.addressData}),g=E.useRef({addressText:r.addressText,addressData:r.addressData});E.useEffect(()=>{h.current={addressText:n.addressText,addressData:n.addressData}},[n.addressText,n.addressData]),E.useEffect(()=>{g.current={addressText:r.addressText,addressData:r.addressData}},[r.addressText,r.addressData]);const w=F=>/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(F),[S,v]=E.useState(()=>n.addressText?n.addressText:n.address&&!w(n.address)?n.address:""),[p,y]=E.useState(()=>r.addressText?r.addressText:r.address&&!w(r.address)?r.address:""),{register:x,handleSubmit:C,setValue:V,watch:D,setError:k,clearErrors:M,formState:{errors:_}}=Ss({resolver:xs(mR),mode:"onBlur",defaultValues:{lastName:n.lastName||"",firstName:n.firstName||"",middleName:n.middleName||"",birthDate:n.birthDate||"",address:n.address||"",documentType:n.documentType||"",documentSeries:n.documentSeries||"",documentNumber:n.documentNumber||"",documentIssueDate:n.documentIssueDate||"",isOwner:n.isOwner??!0,email:n.email||"",phone:n.phone||""}}),{register:G,handleSubmit:X,setValue:J,watch:P,trigger:Y,setError:I,clearErrors:O,formState:{errors:A}}=Ss({resolver:xs(pR),mode:"onBlur",defaultValues:{lastName:r.lastName||"",firstName:r.firstName||"",middleName:r.middleName||"",birthDate:r.birthDate||"",address:r.address||"",phone:r.phone||"",email:r.email||"",documentType:r.documentType||"",documentSeries:r.documentSeries||"",documentNumber:r.documentNumber||"",documentIssueDate:r.documentIssueDate||""}}),B=D("documentType"),U=P("documentType"),L=D("isOwner"),le=D("email")||"",{ref:z,onBlur:K,name:ie}=x("email");E.useEffect(()=>{if(n.documentType&&(V("documentType",n.documentType),b.debug("    :",n.documentType)),r.documentType&&(J("documentType",r.documentType),b.debug("    :",r.documentType)),n.address||n.addressText){b.debug("     :",{address:n.address,addressText:n.addressText,hasAddressData:!!n.addressData});const F=n.addressText||(w(n.address||"")?"":n.address)||"";F?(v(F),V("address",n.address||F),h.current={addressText:n.addressText,addressData:n.addressData},b.debug("   :",F)):b.debug("    -  UUID,      ")}if(r.address||r.addressText){b.debug("     :",{address:r.address,addressText:r.addressText,hasAddressData:!!r.addressData});const F=r.addressText||(w(r.address||"")?"":r.address)||"";F?(y(F),J("address",r.address||F),g.current={addressText:r.addressText,addressData:r.addressData},b.debug("   :",F)):b.debug("    -  UUID,      ")}},[]),E.useEffect(()=>{const F=D(ee=>{(ee.email||ee.phone)&&b.log("   EMAIL/PHONE  STORE (policyholder):",{email:ee.email||"",phone:ee.phone||"",hasEmail:!!ee.email,hasPhone:!!ee.phone}),l({...ee,addressText:h.current.addressText,addressData:h.current.addressData})});return()=>F.unsubscribe()},[D,l]),E.useEffect(()=>{const F=P(ee=>{(ee.email||ee.phone)&&b.log("   EMAIL/PHONE  STORE (owner):",{email:ee.email||"",phone:ee.phone||"",hasEmail:!!ee.email,hasPhone:!!ee.phone}),o({...ee,addressText:g.current.addressText,addressData:g.current.addressData})});return()=>F.unsubscribe()},[P,o]),E.useEffect(()=>{(async()=>{f(!0);try{b.log("       ...");const ee=await qs("personPolicyholder");d(ee),b.log("     :",ee.length),b.debug("   ( 10):",ee.slice(0,10).map(ye=>({id:ye.id,code:ye.code,name:ye.name})));const De=ye=>(ye||"").trim().toLowerCase().replace(/\s+/g,""),te="rfPassport",Q=["passportofacitizenoftherussianfederation"],ce=ee.find(ye=>De(ye.id)===te||Q.includes(De(ye.code)));b.debug("   :",{targetId:te,targetCodeVariants:Q,availableDocs:ee.map(ye=>({id:ye.id,code:ye.code,name:ye.name})),foundDoc:ce?{id:ce.id,code:ce.code,name:ce.name}:null}),b.debug("     rfPassport:",{found:!!ce,defaultId:(ce==null?void 0:ce.id)||null,defaultCode:(ce==null?void 0:ce.code)||null}),n.documentType?(b.debug("       ,   :",n.documentType),V("documentType",n.documentType)):(b.debug("         "),ce?(V("documentType",ce.id),l({...n,documentType:ce.id}),b.debug("   :",ce.id)):ee.length>0&&(V("documentType",ee[0].id),l({...n,documentType:ee[0].id}),b.debug("    :",ee[0].id))),r.documentType?(b.debug("       ,   :",r.documentType),J("documentType",r.documentType)):(b.debug("         "),ce?(J("documentType",ce.id),o({...r,documentType:ce.id}),b.debug("   :",ce.id)):ee.length>0&&(J("documentType",ee[0].id),o({...r,documentType:ee[0].id}),b.debug("    :",ee[0].id)))}catch(ee){b.error("  :",ee)}finally{f(!1)}})()},[V,J,l,o,n.documentType,r.documentType]),E.useEffect(()=>{u.length!==0&&(b.debug(" Retry   ( ):",{documentTypesCount:u.length,currentPolicyholderDoc:B||null,currentOwnerDoc:U||null}),n.documentType&&(V("documentType",n.documentType),b.debug(" (retry)     :",n.documentType)),r.documentType&&(J("documentType",r.documentType),b.debug(" (retry)     :",r.documentType)))},[u,n.documentType,r.documentType,V,J]),E.useEffect(()=>{S&&S!==n.addressText&&l({addressText:S})},[S,n.addressText,l]),E.useEffect(()=>{p&&p!==r.addressText&&o({addressText:p})},[p,r.addressText,o]);const ge=async F=>{const ee=h.current.addressData,De=(ee==null?void 0:ee.fiasId)||(w(F||"")?F:null);if(De)return M("address"),{fiasId:De,addressText:h.current.addressText||S||F||""};const te=(S||h.current.addressText||F||"").trim();if(!te)throw k("address",{type:"manual",message:"       "}),new Error("     ");try{const[Q]=await Pp(te,1);if(Q!=null&&Q.fiasId)return h.current={addressText:Q.value,addressData:Q},v(Q.value),V("address",Q.fiasId),l({address:Q.fiasId,addressText:Q.value,addressData:Q}),M("address"),{fiasId:Q.fiasId,addressText:Q.value}}catch(Q){throw b.error("    :",Q),k("address",{type:"manual",message:"   ,     "}),Q}throw k("address",{type:"manual",message:"   ,     "}),new Error("FIAS   ")},Z=async F=>{const ee=g.current.addressData,De=(ee==null?void 0:ee.fiasId)||(w(F||"")?F:null);if(De)return O("address"),{fiasId:De,addressText:g.current.addressText||p||F||""};const te=(p||g.current.addressText||F||"").trim();if(!te)throw I("address",{type:"manual",message:"       "}),new Error("     ");try{const[Q]=await Pp(te,1);if(Q!=null&&Q.fiasId)return g.current={addressText:Q.value,addressData:Q},y(Q.value),J("address",Q.fiasId),o({address:Q.fiasId,addressText:Q.value,addressData:Q}),O("address"),{fiasId:Q.fiasId,addressText:Q.value}}catch(Q){throw b.error("    :",Q),I("address",{type:"manual",message:"   ,     "}),Q}throw I("address",{type:"manual",message:"   ,     "}),new Error("FIAS   ")},de=C(async F=>{try{await ge(F.address)}catch(ee){b.warn(" :     ",ee);return}if(l(F),F.isOwner){b.log("     POLICYHOLDER  OWNER (isOwner=true):",{policyholderEmail:F.email||"",policyholderPhone:F.phone||"",currentOwnerEmail:r.email||"",currentOwnerPhone:r.phone||""});const ee={lastName:F.lastName,firstName:F.firstName,middleName:F.middleName,birthDate:F.birthDate,address:F.address,addressText:h.current.addressText||F.address,addressData:h.current.addressData,phone:F.phone||r.phone||"",email:F.email||r.email||"",documentType:F.documentType,documentSeries:F.documentSeries,documentNumber:F.documentNumber,documentIssueDate:F.documentIssueDate};b.log("  ownerData:",{email:ee.email||"",phone:ee.phone||"",emailSource:r.email?"owner ()":F.email?"policyholderData":"",phoneSource:r.phone?"owner ()":F.phone?"policyholderData":""}),o(ee);try{ao({vehicle:t,policyholder:{...F,isOwner:!0,addressText:h.current.addressText||F.address,addressData:h.current.addressData},owner:ee,drivers:i,unlimitedDrivers:a,options:s})}catch(De){b.error("   :",De)}e("/drivers")}else try{await X(async ee=>{await Z(ee.address),o(ee);try{ao({vehicle:t,policyholder:{...F,addressText:h.current.addressText||F.address,addressData:h.current.addressData},owner:ee,drivers:i,unlimitedDrivers:a,options:s})}catch(De){b.error("   :",De)}e("/drivers")})()}catch(ee){b.warn(" :     ",ee);return}});return c.jsx("div",{className:"widget-page-content-wrapper",children:c.jsx("div",{className:"widget-form-column",children:c.jsxs("div",{className:"widget-inner-column",children:[c.jsx($i,{}),c.jsx("h4",{children:"  "}),c.jsx("div",{className:"widget-styled-form",children:c.jsxs("form",{onSubmit:de,noValidate:!0,"aria-labelledby":"policyholder-form-title",children:[c.jsx("h2",{id:"policyholder-form-title",style:{position:"absolute",width:1,height:1,overflow:"hidden",clip:"rect(0 0 0 0)",whiteSpace:"nowrap",clipPath:"inset(50%)"},children:"  "}),c.jsxs("fieldset",{children:[c.jsx("h6",{style:{marginBottom:20,fontSize:18,fontWeight:600,color:"var(--heading-color)"},children:""}),c.jsxs("div",{className:"widget-form-grid",children:[c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:"ph-lastName",children:""}),c.jsx(at,{id:"ph-lastName",placeholder:"",icon:"flaticon-user-2",...x("lastName"),"aria-invalid":!!_.lastName,"aria-describedby":_.lastName?"ph-lastName-error":void 0}),_.lastName&&c.jsx("div",{id:"ph-lastName-error",className:"widget-form-error",role:"alert",children:_.lastName.message})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:"ph-firstName",children:""}),c.jsx(at,{id:"ph-firstName",placeholder:"",icon:"flaticon-user-2",...x("firstName"),"aria-invalid":!!_.firstName,"aria-describedby":_.firstName?"ph-firstName-error":void 0}),_.firstName&&c.jsx("div",{id:"ph-firstName-error",className:"widget-form-error",role:"alert",children:_.firstName.message})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:"ph-middleName",children:""}),c.jsx(at,{id:"ph-middleName",placeholder:"",icon:"flaticon-user-2",...x("middleName")})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:"ph-birthDate",children:" "}),c.jsx(Dr,{id:"ph-birthDate",placeholder:" ",icon:"flaticon-calendar",max:new Date().toISOString().split("T")[0],...x("birthDate"),"aria-invalid":!!_.birthDate,"aria-describedby":_.birthDate?"ph-birthDate-error":void 0}),_.birthDate&&c.jsx("div",{id:"ph-birthDate-error",className:"widget-form-error",role:"alert",children:_.birthDate.message})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:"ph-address",children:""}),c.jsx(TN,{id:"ph-address",placeholder:"  ",icon:"flaticon-map-marker",value:S,onChange:F=>{v(F),V("address",F),l({address:F,addressText:F,addressData:{value:F}}),_.address&&M("address")},onSelect:F=>{v(F.value),h.current={addressText:F.value,addressData:F},V("address",F.fiasId||F.value),l({address:F.fiasId||F.value,addressText:F.value,addressData:F}),M("address")},error:(ve=_.address)==null?void 0:ve.message,"aria-invalid":!!_.address})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:"ph-documentType",children:""}),c.jsx(Co,{id:"ph-documentType",icon:"flaticon-file",...x("documentType"),disabled:m,"aria-invalid":!!_.documentType,"aria-describedby":_.documentType?"ph-documentType-error":void 0,children:u.map(F=>c.jsx("option",{value:F.id,children:F.name},F.id))}),_.documentType&&c.jsx("div",{id:"ph-documentType-error",className:"widget-form-error",role:"alert",children:_.documentType.message})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:"ph-documentSeries",children:" "}),Tt(B).series?c.jsx(Rn,{id:"ph-documentSeries",placeholder:Lt(B).series,mask:Tt(B).series,value:D("documentSeries")||"",onChange:F=>V("documentSeries",F.target.value),icon:"flaticon-file-alt","aria-invalid":!!_.documentSeries,"aria-describedby":_.documentSeries?"ph-documentSeries-error":void 0}):c.jsx(at,{id:"ph-documentSeries",placeholder:Lt(B).series,icon:"flaticon-file-alt",...x("documentSeries"),"aria-invalid":!!_.documentSeries,"aria-describedby":_.documentSeries?"ph-documentSeries-error":void 0}),_.documentSeries&&c.jsx("div",{id:"ph-documentSeries-error",className:"widget-form-error",role:"alert",children:_.documentSeries.message})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:"ph-documentNumber",children:" "}),Tt(B).number?c.jsx(Rn,{id:"ph-documentNumber",placeholder:Lt(B).number,mask:Tt(B).number,value:D("documentNumber")||"",onChange:F=>V("documentNumber",F.target.value),icon:"flaticon-hashtag","aria-invalid":!!_.documentNumber,"aria-describedby":_.documentNumber?"ph-documentNumber-error":void 0}):c.jsx(at,{id:"ph-documentNumber",placeholder:Lt(B).number,icon:"flaticon-hashtag",...x("documentNumber"),"aria-invalid":!!_.documentNumber,"aria-describedby":_.documentNumber?"ph-documentNumber-error":void 0}),_.documentNumber&&c.jsx("div",{id:"ph-documentNumber-error",className:"widget-form-error",role:"alert",children:_.documentNumber.message})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:"ph-documentIssueDate",children:" "}),c.jsx(Dr,{id:"ph-documentIssueDate",placeholder:" ",icon:"flaticon-calendar",max:new Date().toISOString().split("T")[0],...x("documentIssueDate"),"aria-invalid":!!_.documentIssueDate,"aria-describedby":_.documentIssueDate?"ph-documentIssueDate-error":void 0}),_.documentIssueDate&&c.jsx("div",{id:"ph-documentIssueDate-error",className:"widget-form-error",role:"alert",children:_.documentIssueDate.message})]}),c.jsx("div",{style:{gridColumn:"1 / -1",marginTop:24},children:c.jsx("h6",{style:{marginBottom:20,fontSize:18,fontWeight:600,color:"var(--heading-color)"},children:" "})}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:"ph-email",children:" "}),c.jsx(hR,{id:"ph-email",name:ie,placeholder:" ",icon:"flaticon-envelope",value:le,inputRef:z,onChange:F=>{V("email",F,{shouldValidate:!1}),_.email&&M("email")},onBlur:F=>{K(F)},error:(re=_.email)==null?void 0:re.message,"aria-invalid":!!_.email,"aria-describedby":_.email?"ph-email-error":void 0}),_.email&&c.jsx("div",{id:"ph-email-error",className:"widget-form-error",role:"alert",children:_.email.message})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:"ph-phone",children:" "}),c.jsx(Rn,{mask:"phone",id:"ph-phone",icon:"flaticon-phone-call",value:D("phone")||"",onChange:F=>{_.phone&&M("phone"),V("phone",F.target.value,{shouldValidate:!1})},onBlur:()=>{const F=D("phone")||"";um.safeParse(F).success?M("phone"):k("phone",{type:"manual",message:" +7(999)999-99-99"})},"aria-invalid":!!_.phone}),_.phone&&c.jsx("div",{className:"widget-form-error",role:"alert",children:_.phone.message})]})]})]}),c.jsx("div",{className:"widget-form-group margin",children:c.jsx(Oo,{...x("isOwner"),label:"  "})}),!L&&c.jsxs("fieldset",{children:[c.jsx("h6",{style:{marginBottom:20,fontSize:18,fontWeight:600,color:"var(--heading-color)"},children:""}),c.jsxs("div",{className:"widget-form-grid",children:[c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:"own-lastName",children:""}),c.jsx(at,{id:"own-lastName",placeholder:"",icon:"flaticon-user-2",...G("lastName"),"aria-invalid":!!A.lastName,"aria-describedby":A.lastName?"own-lastName-error":void 0}),A.lastName&&c.jsx("div",{id:"own-lastName-error",className:"widget-form-error",role:"alert",children:A.lastName.message})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:"own-firstName",children:""}),c.jsx(at,{id:"own-firstName",placeholder:"",icon:"flaticon-user-2",...G("firstName"),"aria-invalid":!!A.firstName,"aria-describedby":A.firstName?"own-firstName-error":void 0}),A.firstName&&c.jsx("div",{id:"own-firstName-error",className:"widget-form-error",role:"alert",children:A.firstName.message})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:"own-middleName",children:""}),c.jsx(at,{id:"own-middleName",placeholder:"",icon:"flaticon-user-2",...G("middleName")})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:"own-birthDate",children:" "}),c.jsx(Dr,{id:"own-birthDate",placeholder:" ",icon:"flaticon-calendar",max:new Date().toISOString().split("T")[0],...G("birthDate"),"aria-invalid":!!A.birthDate,"aria-describedby":A.birthDate?"own-birthDate-error":void 0}),A.birthDate&&c.jsx("div",{id:"own-birthDate-error",className:"widget-form-error",role:"alert",children:A.birthDate.message})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:"own-address",children:""}),c.jsx(TN,{id:"own-address",placeholder:"  ",icon:"flaticon-map-marker",value:p,onChange:F=>{y(F),J("address",F),o({address:F,addressText:F,addressData:{value:F}}),A.address&&O("address")},onSelect:F=>{y(F.value),g.current={addressText:F.value,addressData:F},J("address",F.fiasId||F.value),o({address:F.fiasId||F.value,addressText:F.value,addressData:F}),O("address")},error:(me=A.address)==null?void 0:me.message,"aria-invalid":!!A.address})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:"own-phone",children:" "}),c.jsx(Rn,{mask:"phone",id:"own-phone",icon:"flaticon-phone-call",value:P("phone"),onChange:F=>{J("phone",F.target.value,{shouldValidate:!0})},onBlur:()=>{Y("phone")},"aria-invalid":!!A.phone,"aria-describedby":A.phone?"own-phone-error":void 0}),A.phone&&c.jsx("div",{id:"own-phone-error",className:"widget-form-error",role:"alert",children:A.phone.message})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:"own-documentType",children:""}),c.jsx(Co,{id:"own-documentType",icon:"flaticon-file",...G("documentType"),disabled:m,"aria-invalid":!!A.documentType,"aria-describedby":A.documentType?"own-documentType-error":void 0,children:u.map(F=>c.jsx("option",{value:F.id,children:F.name},F.id))}),A.documentType&&c.jsx("div",{id:"own-documentType-error",className:"widget-form-error",role:"alert",children:A.documentType.message})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:"own-documentSeries",children:" "}),Tt(U).series?c.jsx(Rn,{id:"own-documentSeries",placeholder:Lt(U).series,mask:Tt(U).series,value:P("documentSeries")||"",onChange:F=>J("documentSeries",F.target.value),icon:"flaticon-file-alt","aria-invalid":!!A.documentSeries,"aria-describedby":A.documentSeries?"own-documentSeries-error":void 0}):c.jsx(at,{id:"own-documentSeries",placeholder:Lt(U).series,icon:"flaticon-file-alt",...G("documentSeries"),"aria-invalid":!!A.documentSeries,"aria-describedby":A.documentSeries?"own-documentSeries-error":void 0}),A.documentSeries&&c.jsx("div",{id:"own-documentSeries-error",className:"widget-form-error",role:"alert",children:A.documentSeries.message})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:"own-documentNumber",children:" "}),Tt(U).number?c.jsx(Rn,{id:"own-documentNumber",placeholder:Lt(U).number,mask:Tt(U).number,value:P("documentNumber")||"",onChange:F=>J("documentNumber",F.target.value),icon:"flaticon-hashtag","aria-invalid":!!A.documentNumber,"aria-describedby":A.documentNumber?"own-documentNumber-error":void 0}):c.jsx(at,{id:"own-documentNumber",placeholder:Lt(U).number,icon:"flaticon-hashtag",...G("documentNumber"),"aria-invalid":!!A.documentNumber,"aria-describedby":A.documentNumber?"own-documentNumber-error":void 0}),A.documentNumber&&c.jsx("div",{id:"own-documentNumber-error",className:"widget-form-error",role:"alert",children:A.documentNumber.message})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:"own-documentIssueDate",children:" "}),c.jsx(Dr,{id:"own-documentIssueDate",placeholder:" ",icon:"flaticon-calendar",max:new Date().toISOString().split("T")[0],...G("documentIssueDate"),"aria-invalid":!!A.documentIssueDate,"aria-describedby":A.documentIssueDate?"own-documentIssueDate-error":void 0}),A.documentIssueDate&&c.jsx("div",{id:"own-documentIssueDate-error",className:"widget-form-error",role:"alert",children:A.documentIssueDate.message})]})]})]}),c.jsxs("div",{className:"widget-form-actions",children:[c.jsxs(tt,{variant:"theme",type:"button",onClick:()=>e(-1),children:[" ",c.jsx("i",{className:"fa fa-arrow-circle-left"})]}),c.jsxs(tt,{variant:"theme",type:"submit",disabled:Object.keys(_).length>0||!L&&Object.keys(A).length>0,children:[" ",c.jsx("i",{className:"fa fa-arrow-circle-right"})]})]})]})})]})})})}function jo({className:e,children:t,...n}){return c.jsx("div",{className:In("widget-ui-card",e),...n,children:t})}const vR=Oi({startDate:Gj,term:Ne().min(1,"  "),hasPreviousPolicy:sm(),previousPolicySeries:hA.optional().or(om("")),previousPolicyNumber:mA.optional().or(om(""))}).superRefine((e,t)=>{var n,r;e.hasPreviousPolicy&&((n=e.previousPolicySeries)!=null&&n.trim()||t.addIssue({code:ha.custom,message:"   ",path:["previousPolicySeries"]}),(r=e.previousPolicyNumber)!=null&&r.trim()||t.addIssue({code:ha.custom,message:"   ",path:["previousPolicyNumber"]}))});function yR(){var L,le;const e=Yr(),{options:t,setOptions:n,vehicle:r,policyholder:i,owner:a,drivers:s,unlimitedDrivers:l}=or(),[o,u]=E.useState(!1),[d,m]=E.useState(null),[f,h]=E.useState(null),[g,w]=E.useState(""),[S,v]=E.useState(""),[p,y]=E.useState([]),[x,C]=E.useState(!1),V=E.useRef(!1),D=z=>z<10?`0${z}`:`${z}`,k=z=>`${D(z.getDate())}.${D(z.getMonth()+1)}.${z.getFullYear()}`,M=()=>{const z=new Date;return z.setDate(z.getDate()+1),k(z)},{register:_,setValue:G,watch:X,trigger:J,formState:{errors:P}}=Ss({resolver:xs(vR),mode:"onBlur",defaultValues:{startDate:t.startDate||M(),term:t.term||"1 ",hasPreviousPolicy:t.hasPreviousPolicy||!1,previousPolicySeries:t.previousPolicySeries||"",previousPolicyNumber:t.previousPolicyNumber||""}}),Y=X("hasPreviousPolicy"),I=X(),O=z=>{G("hasPreviousPolicy",z),z||(G("previousPolicySeries",""),G("previousPolicyNumber",""),J("previousPolicySeries"),J("previousPolicyNumber"),V.current=!0)};E.useEffect(()=>{const z=X(K=>{n(K)});return()=>z.unsubscribe()},[X,n]),E.useEffect(()=>{t.startDate||G("startDate",M())},[t.startDate,G]),E.useEffect(()=>{var z,K;(z=r.previousPolicy)!=null&&z.series&&((K=r.previousPolicy)!=null&&K.number)&&!V.current&&!t.hasPreviousPolicy&&(b.log("      vehicle,   "),G("hasPreviousPolicy",!0),G("previousPolicySeries",r.previousPolicy.series),G("previousPolicyNumber",r.previousPolicy.number),n({...t,hasPreviousPolicy:!0,previousPolicySeries:r.previousPolicy.series,previousPolicyNumber:r.previousPolicy.number,previousPolicyInsurer:r.previousPolicy.insurer}),b.log("       vehicle:",{hasPreviousPolicy:!0,previousPolicySeries:r.previousPolicy.series,previousPolicyNumber:r.previousPolicy.number,previousPolicyInsurer:r.previousPolicy.insurer}),V.current=!0)},[r.previousPolicy,G,n,t]),E.useEffect(()=>{const z=X(K=>{n(K)});return()=>z.unsubscribe()},[X,n]),E.useEffect(()=>{const z=!!(I.startDate&&I.term&&i.email&&i.phone);C(z)},[I,i.email,i.phone]),E.useEffect(()=>{(async()=>{if(r.brand&&r.model)try{const ie=(await Do()).find(ge=>ge.id===r.brand);if(ie){w(ie.name);const Z=(await Vs(r.brand)).find(de=>de.id===r.model);Z&&v(Z.name)}}catch(K){b.error("  :",K)}})()},[r.brand,r.model]),E.useEffect(()=>{(async()=>{try{const K=await qs();y(K)}catch(K){b.error("   :",K)}})()},[]),E.useEffect(()=>{const z=X(K=>{n(K)});return()=>z.unsubscribe()},[X,n]);const A=async()=>{h(null),m(null);const z=await J();if(!I.startDate||!I.term){h("   :        ");return}if(!i.email||!i.phone){h('     "": Email   ');return}if(!z){h("    ");return}const K=X();n(K),ji("summary_calculate_click"),u(!0),m(null);try{ao({vehicle:r,policyholder:i,owner:a,drivers:s,unlimitedDrivers:l,options:{...t,...K}}),ji("calculation_saved_to_history")}catch(ie){b.error("   :",ie)}e("/offers")},B=z=>Tw(z),U=z=>{if(!z)return" ";const K=p.find(ie=>ie.id===z);return(K==null?void 0:K.name)||" "};return c.jsx("div",{className:"widget-page-content-wrapper",children:c.jsx("div",{className:"widget-form-column",children:c.jsxs("div",{className:"widget-inner-column",children:[c.jsx($i,{}),c.jsx("h4",{children:""}),c.jsxs("div",{className:"widget-styled-form",children:[c.jsxs("form",{noValidate:!0,"aria-labelledby":"policy-form-title",children:[c.jsx("h2",{id:"policy-form-title",style:{position:"absolute",width:1,height:1,overflow:"hidden",clip:"rect(0 0 0 0)",whiteSpace:"nowrap",clipPath:"inset(50%)"},children:"  "}),c.jsxs("div",{className:"widget-form-grid",children:[c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:"opt-startDate",children:"   "}),c.jsx(Dr,{id:"opt-startDate",icon:"flaticon-calendar",min:new Date(Date.now()+24*60*60*1e3).toISOString().split("T")[0],..._("startDate"),placeholder:"   ","aria-invalid":!!P.startDate,"aria-describedby":P.startDate?"opt-startDate-error":void 0}),P.startDate&&c.jsx("div",{id:"opt-startDate-error",className:"widget-form-error",role:"alert",children:P.startDate.message})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:"opt-term",children:"  "}),c.jsxs(Co,{id:"opt-term",icon:"flaticon-clock",..._("term"),"aria-invalid":!!P.term,"aria-describedby":P.term?"opt-term-error":void 0,children:[c.jsx("option",{value:"",children:"  "}),c.jsx("option",{value:"1 ",children:"1 "}),c.jsx("option",{value:"6 ",children:"6 "}),c.jsx("option",{value:"3 ",children:"3 "})]}),P.term&&c.jsx("div",{id:"opt-term-error",className:"widget-form-error",role:"alert",children:P.term.message})]}),c.jsx("div",{className:"widget-form-group",style:{gridColumn:"1 / -1",marginTop:16},children:c.jsx(Oo,{..._("hasPreviousPolicy",{onChange:z=>O(z.target.checked)}),label:"  "})}),Y&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:"opt-previousPolicySeries",children:"  "}),c.jsx(at,{id:"opt-previousPolicySeries",placeholder:"  ",icon:"flaticon-file-alt",..._("previousPolicySeries"),"aria-invalid":!!P.previousPolicySeries,"aria-describedby":P.previousPolicySeries?"opt-previousPolicySeries-error":void 0}),P.previousPolicySeries&&c.jsx("div",{id:"opt-previousPolicySeries-error",className:"widget-form-error",role:"alert",children:P.previousPolicySeries.message})]}),c.jsxs("div",{className:"widget-form-group",children:[c.jsx("label",{htmlFor:"opt-previousPolicyNumber",children:"  "}),c.jsx(at,{id:"opt-previousPolicyNumber",placeholder:"  ",icon:"flaticon-hashtag",..._("previousPolicyNumber"),"aria-invalid":!!P.previousPolicyNumber,"aria-describedby":P.previousPolicyNumber?"opt-previousPolicyNumber-error":void 0}),P.previousPolicyNumber&&c.jsx("div",{id:"opt-previousPolicyNumber-error",className:"widget-form-error",role:"alert",children:P.previousPolicyNumber.message})]})]})]})]}),f&&c.jsxs("div",{style:{backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:8,padding:16,marginTop:24,color:"#dc2626"},children:[c.jsx("strong",{children:":"})," ",f]}),x&&c.jsx("div",{style:{marginTop:32},children:c.jsxs(jo,{style:{marginBottom:24},children:[c.jsx("h3",{style:{margin:"0 0 24px 0",fontSize:20,fontWeight:600},children:" "}),c.jsxs("div",{className:"widget-check-wrapper",children:[c.jsxs("div",{className:"widget-check-item-wrapper",children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[c.jsx("h4",{style:{margin:0,fontSize:16,fontWeight:600},children:""}),c.jsx(tt,{variant:"secondary",onClick:()=>e("/vehicle"),style:{minWidth:"auto",fontSize:12,padding:"4px 12px"},children:" "})]}),c.jsxs("div",{className:"widget-data-table",children:[c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:g||r.brand||" "})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:S||r.model||" "})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:r.year||" "})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:r.power?`${r.power} ..`:" "})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:r.plate||" "})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:"VIN"}),c.jsx("div",{className:"widget-data-table-value",children:r.vin||" "})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:U(r.documentType)})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:r.documentSeries||" "})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:r.documentNumber||" "})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:" "}),c.jsx("div",{className:"widget-data-table-value",children:B(r.documentIssueDate)})]})]})]}),c.jsxs("div",{className:"widget-check-item-wrapper",children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[c.jsx("h4",{style:{margin:0,fontSize:16,fontWeight:600},children:""}),c.jsx(tt,{variant:"secondary",onClick:()=>e("/policyholder"),style:{minWidth:"auto",fontSize:12,padding:"4px 12px"},children:" "})]}),c.jsxs("div",{className:"widget-data-table",children:[c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsxs("div",{className:"widget-data-table-value",children:[i.lastName," ",i.firstName," ",i.middleName]})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:" "}),c.jsx("div",{className:"widget-data-table-value",children:B(i.birthDate)})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:((L=i.addressData)==null?void 0:L.value)||i.addressText||(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(i.address||"")?"":i.address)||" "})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:U(i.documentType)})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:i.documentSeries||" "})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:i.documentNumber||" "})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:"Email"}),c.jsx("div",{className:"widget-data-table-value",children:i.email||" "})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:i.phone||" "})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:" "}),c.jsx("div",{className:"widget-data-table-value",children:i.isOwner?"":""})]})]})]}),!i.isOwner&&c.jsxs("div",{className:"widget-check-item-wrapper",children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[c.jsx("h4",{style:{margin:0,fontSize:16,fontWeight:600},children:""}),c.jsx(tt,{variant:"secondary",onClick:()=>e("/policyholder"),style:{minWidth:"auto",fontSize:12,padding:"4px 12px"},children:" "})]}),c.jsxs("div",{className:"widget-data-table",children:[c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsxs("div",{className:"widget-data-table-value",children:[a.lastName," ",a.firstName," ",a.middleName]})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:" "}),c.jsx("div",{className:"widget-data-table-value",children:B(a.birthDate)})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:((le=a.addressData)==null?void 0:le.value)||a.addressText||(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(a.address||"")?"":a.address)||" "})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:a.phone||" "})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:U(a.documentType)})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:a.documentSeries||" "})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:a.documentNumber||" "})]})]})]}),c.jsxs("div",{className:"widget-check-item-wrapper",children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[c.jsx("h4",{style:{margin:0,fontSize:16,fontWeight:600},children:""}),c.jsx(tt,{variant:"secondary",onClick:()=>e("/drivers"),style:{minWidth:"auto",fontSize:12,padding:"4px 12px"},children:" "})]}),l?c.jsx("div",{style:{padding:"12px",backgroundColor:"#f9fafb",borderRadius:8},children:c.jsx("strong",{children:" "})}):s.length>0?c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:16},children:s.map((z,K)=>{var ie,ge,Z,de,ve,re;return c.jsxs("div",{children:[c.jsxs("h5",{style:{margin:"0 0 8px 0",fontSize:14,fontWeight:600},children:[" ",K+1,": ",z.lastName," ",z.firstName," ",z.middleName]}),c.jsxs("div",{className:"widget-data-table",children:[c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:" "}),c.jsx("div",{className:"widget-data-table-value",children:B(z.birthDate)})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:" "}),c.jsx("div",{className:"widget-data-table-value",children:(ie=z.drivingLicense)!=null&&ie.type?((ge=p.find(me=>{var F;return me.id===((F=z.drivingLicense)==null?void 0:F.type)}))==null?void 0:ge.name)||((Z=z.drivingLicense)==null?void 0:Z.type):" "})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsxs("div",{className:"widget-data-table-value",children:[(de=z.drivingLicense)==null?void 0:de.series," ",(ve=z.drivingLicense)==null?void 0:ve.number]})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:" "}),c.jsx("div",{className:"widget-data-table-value",children:B((re=z.drivingLicense)==null?void 0:re.issueDate)})]}),z.firstLicenseDate&&c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:"  "}),c.jsx("div",{className:"widget-data-table-value",children:B(z.firstLicenseDate)})]}),z.previousDrivingLicense&&c.jsxs(c.Fragment,{children:[z.previousLastName&&c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:" "}),c.jsx("div",{className:"widget-data-table-value",children:z.previousLastName})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:" "}),c.jsxs("div",{className:"widget-data-table-value",children:[z.previousDrivingLicense.series," ",z.previousDrivingLicense.number]})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:"   "}),c.jsx("div",{className:"widget-data-table-value",children:B(z.previousDrivingLicense.issueDate)})]})]})]})]},z.id)})}):c.jsx("div",{style:{padding:"12px",backgroundColor:"#f9fafb",borderRadius:8},children:"  "})]}),c.jsxs("div",{className:"widget-check-item-wrapper",children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[c.jsx("h4",{style:{margin:0,fontSize:16,fontWeight:600},children:" "}),c.jsx(tt,{variant:"secondary",onClick:()=>C(!1),style:{minWidth:"auto",fontSize:12,padding:"4px 12px"},children:" "})]}),c.jsxs("div",{className:"widget-data-table",children:[c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:" "}),c.jsx("div",{className:"widget-data-table-value",children:B(t.startDate)})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:" "}),c.jsx("div",{className:"widget-data-table-value",children:t.term||" "})]}),t.hasPreviousPolicy&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:" "}),c.jsx("div",{className:"widget-data-table-value",children:""})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:t.previousPolicySeries||" "})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:t.previousPolicyNumber||" "})]})]})]})]}),d&&c.jsxs("div",{style:{backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:8,padding:16,marginBottom:24,color:"#dc2626"},children:[c.jsx("strong",{children:" :"})," ",d]}),c.jsxs("div",{className:"widget-form-actions",style:{marginTop:24},children:[c.jsxs(tt,{variant:"theme",onClick:()=>e(-1),children:[" ",c.jsx("i",{className:"fa fa-arrow-circle-left"})]}),c.jsxs(tt,{variant:"theme",onClick:A,disabled:o,children:[o?" ...":" "," ",c.jsx("i",{className:"fa fa-calculator"})]})]})]})]})})]})]})})})}async function bR(e){var t;try{b.log("    :",e),b.debug("  GraphQL:",JSON.stringify({osagoPolicyInput:e},null,2));const n=await Kr.mutate({mutation:FI,variables:{osagoPolicyInput:e},errorPolicy:"all"});b.debug("    :",JSON.stringify(n,null,2));const r=n.errors||[];if(r.length>0){const a=r.map(s=>{var u;const l=(s==null?void 0:s.message)||"GraphQL error",o=(u=s==null?void 0:s.extensions)!=null&&u.code?` [code: ${s.extensions.code}]`:"";return`${l}${o}`}).join("; ");throw new Error(`  : ${a}`)}const i=(t=n.data)==null?void 0:t.buyOsagoPolicy;if(!(i!=null&&i.policyId)){const a=JSON.stringify((n==null?void 0:n.data)??{},null,2),s=JSON.stringify(n,null,2);throw new Error(`  .  :
    ( vehicle, owner, policyholder)
   
    

 : ${a}
 : ${s}`)}return b.log("  :",i),{policyId:i.policyId,paymentUrl:void 0}}catch(n){throw b.error("   :",n),new Error((n==null?void 0:n.message)||"    ")}}async function wR(e){var t,n;try{const r=await Kr.mutate({mutation:BI,variables:{policyId:e},errorPolicy:"all"}),i=r.errors||[];if(i.length>0){const s=i.map(l=>{var d;const o=(l==null?void 0:l.message)||"GraphQL error",u=(d=l==null?void 0:l.extensions)!=null&&d.code?` [code: ${l.extensions.code}]`:"";return`${o}${u}`}).join("; ");throw new Error(` : ${s}`)}const a=(n=(t=r.data)==null?void 0:t.generatePaymentLink)==null?void 0:n.paymentLink;if(!a){const s=JSON.stringify((r==null?void 0:r.data)??{},null,2),l=JSON.stringify(r,null,2);throw new Error(`    .  :
   ID "${e}"   (PolicyNotFoundException)
   policyId
     

 : ${s}
 : ${l}`)}return a}catch(r){const i=r==null?void 0:r.networkError,a=r==null?void 0:r.graphQLErrors;if(i){const s=i.statusCode?` (HTTP ${i.statusCode})`:"",l=i!=null&&i.result?`; body: ${JSON.stringify(i.result)}`:"";throw new Error(` ${s}: ${i.message||"unknown"}${l}`)}if(Array.isArray(a)&&a.length>0){const s=a.map(l=>(l==null?void 0:l.message)||"GraphQL error").join("; ");throw new Error(` GraphQL: ${s}`)}throw new Error((r==null?void 0:r.message)||"      ")}}const Fp=[{name:"",aliases:[" ","","","Alfa Insurance","ALFA"],logoPath:"https://wiki.brokerapp.ru/widget/images/clients/1.png"},{name:"",aliases:["","Soglasie","SOGLASIE"],logoPath:"https://wiki.brokerapp.ru/widget/images/clients/2.png"},{name:"  ",aliases:["  "," ","Renaissance","RENAISSANCE"],logoPath:"https://wiki.brokerapp.ru/widget/images/clients/3.png"},{name:" ",aliases:["","","Ingosstrakh","Ingos","INGOSSTRAKH"],logoPath:"https://wiki.brokerapp.ru/widget/images/clients/4.png"},{name:" ",aliases:["EUROINS"],logoPath:"https://wiki.brokerapp.ru/widget/images/clients/6.png"},{name:"",aliases:["SOGAZ"],logoPath:"https://wiki.brokerapp.ru/widget/images/clients/sogaz.png"},{name:"",aliases:["","Yugoria","UGORIA"],logoPath:"https://wiki.brokerapp.ru/widget/images/clients/5.png"}];function od(e){return e?e.trim().toLowerCase().replace(/[\s'"\-]/g,""):null}const Bp=new Map;Fp.forEach(e=>{var n;const t=od(e.name);t&&Bp.set(t,e),(n=e.aliases)==null||n.forEach(r=>{const i=od(r);i&&Bp.set(i,e)})});function ON(e){if(!e)return null;const t=od(e);if(!t)return null;const n=Bp.get(t);if(n)return n;for(const r of Fp){const i=od(r.name);if(i&&(i.includes(t)||t.includes(i)))return r}return null}function Vp(e){const t=ON(e);return t?t.logoPath:SR()}function SR(){var e;return((e=Fp[0])==null?void 0:e.logoPath)||"images/clients/1.png"}function CN(e){return ON(e)}const xR=()=>!1;function NR(){const e=Yr(),{setSelectedOffer:t,vehicle:n,policyholder:r,owner:i,drivers:a,unlimitedDrivers:s,options:l}=or(),[o,u]=E.useState([]),[d,m]=E.useState([]),[f,h]=E.useState(!0),[g,w]=E.useState(null),[S,v]=E.useState(!1),[p,y]=E.useState(null),[x,C]=E.useState(null),[V,D]=E.useState(!1),[k,M]=E.useState(null),[_,G]=E.useState(null),[X,J]=E.useState(null),[P,Y]=E.useState(0),[I,O]=E.useState(0),[A,B]=E.useState(null),U=xR(),L=["    ","     ","    ","    ","    ","    ","    ","       ","       ","       ","       ","       ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    "," ","     "],le=["       ","    ","       "];E.useEffect(()=>{if(!f)return;const Z=setInterval(()=>{Y(de=>(de+1)%L.length)},5e3);return()=>clearInterval(Z)},[f,L.length]),E.useEffect(()=>{if(!V||I>=le.length-1)return;const Z=setTimeout(()=>{O(de=>Math.min(de+1,le.length-1))},5e3);return()=>clearTimeout(Z)},[V,I,le.length]),E.useEffect(()=>{(async()=>{var de,ve,re,me,F,ee,De,te,Q;h(!0),Y(0),w(null);try{const ce=ae=>{const we=eo(ae);return we?we.format("YYYY-MM-DD"):""},ye=(ae,we)=>ae&&String(ae).trim()!==""?String(ae).trim():we,Me={registrationPlate:ye(n.plate,""),category:"b",brand:ye(n.brand,""),model:ye(n.model,""),yearOfManufacture:Number(n.year)||0,enginePower:Number(n.power)||0,document:{series:ye(n.documentSeries,""),number:ye(n.documentNumber,""),type:"vehicleRegistrationCertificate",issueDate:ce(n.documentIssueDate)},vin:ye(n.vin,"")},j=ae=>{const we=(ae==null?void 0:ae.addressData)||{};return{areaWithType:we.areaWithType,block:we.block,cityFiasId:we.cityFiasId,cityKladrId:we.cityKladrId,cityWithType:we.cityWithType,country:we.country||" ",countryIsoCode:we.countryIsoCode||"RU",fiasId:we.fiasId,flat:we.flat,house:we.house,houseFiasId:we.houseFiasId,kladrId:we.kladrId,postalCode:we.postalCode,regionIsoCode:we.regionIsoCode,regionWithType:we.regionWithType,settlementFiasId:we.settlementFiasId,settlementWithType:we.settlementWithType,street:we.street,streetFiasId:we.streetFiasId,streetKladrId:we.streetKladrId,value:we.value||(ae==null?void 0:ae.addressText)||(ae==null?void 0:ae.address)||""}};b.log("    STORE (email  phone):",{policyholder:{email:r.email||"",phone:r.phone||"",hasEmail:!!r.email,hasPhone:!!r.phone},owner:{email:i.email||"",phone:i.phone||"",hasEmail:!!i.email,hasPhone:!!i.phone},options:{email:(l==null?void 0:l.email)||"",phone:(l==null?void 0:l.phone)||"",hasEmail:!!(l!=null&&l.email),hasPhone:!!(l!=null&&l.phone)},policyholderIsOwner:!!r.isOwner});const R={lastName:ye(i.lastName,""),firstName:ye(i.firstName,""),middleName:i.middleName||void 0,birthDate:ce(i.birthDate),passport:{type:ye(i.documentType||r.documentType,"passport"),series:ye(i.passportSeries||i.documentSeries,""),number:ye(i.passportNumber||i.documentNumber,""),issueDate:ce(i.passportIssueDate||i.documentIssueDate)},address:j(i),phone:ye(r.isOwner?r.phone||(l==null?void 0:l.phone)||i.phone:i.phone||r.phone||(l==null?void 0:l.phone),"").replace(/\D/g,""),email:ye(r.isOwner?r.email||(l==null?void 0:l.email)||i.email:i.email||r.email||(l==null?void 0:l.email),"")},q={lastName:ye(r.lastName,""),firstName:ye(r.firstName,""),middleName:r.middleName||void 0,birthDate:ce(r.birthDate),passport:{type:ye(r.documentType,"passport"),series:ye(r.documentSeries,""),number:ye(r.documentNumber,""),issueDate:ce(r.documentIssueDate)},address:j(r),phone:ye(r.phone||(l==null?void 0:l.phone),"").replace(/\D/g,""),email:ye(r.email||(l==null?void 0:l.email),"")};b.log("     (policyholderInput):",q),b.log("        (email  phone):",{ownerInput:{email:R.email||"",phone:R.phone||"",emailSource:i.email?"owner":l!=null&&l.email?"options":"",phoneSource:i.phone?"owner":l!=null&&l.phone?"options":""},policyholderInput:{email:q.email||"",phone:q.phone||"",emailSource:r.email?"policyholder":l!=null&&l.email?"options":"",phoneSource:r.phone?"policyholder":l!=null&&l.phone?"options":""}});const pe=(s?[]:a).map(ae=>{var Qe,tr,an,Na,Ea,Zs,nr,ud;const we=ce(ae.birthDate),Ie=ce((Qe=ae.drivingLicense)==null?void 0:Qe.issueDate),xn=ce(ae.firstLicenseDate)||Ie||we;return{lastName:ye(ae.lastName,""),previousLastName:ae.previousLastName||void 0,firstName:ye(ae.firstName,""),middleName:ae.middleName||void 0,birthDate:we,drivingLicense:{type:(tr=ae.drivingLicense)==null?void 0:tr.type,series:ye((an=ae.drivingLicense)==null?void 0:an.series,""),number:ye((Na=ae.drivingLicense)==null?void 0:Na.number,""),issueDate:Ie},previousDrivingLicense:ae.previousDrivingLicense?{type:(Ea=ae.previousDrivingLicense)==null?void 0:Ea.type,series:ye((Zs=ae.previousDrivingLicense)==null?void 0:Zs.series,""),number:ye((nr=ae.previousDrivingLicense)==null?void 0:nr.number,""),issueDate:ce((ud=ae.previousDrivingLicense)==null?void 0:ud.issueDate)}:void 0,firstLicenseDate:xn}});let fe;if(l!=null&&l.hasPreviousPolicy){b.log('  "  " ');const ae=((de=l.previousPolicySeries)==null?void 0:de.trim())||((ve=n.previousPolicy)==null?void 0:ve.series),we=((re=l.previousPolicyNumber)==null?void 0:re.trim())||((me=n.previousPolicy)==null?void 0:me.number),Ie=(F=n.previousPolicy)==null?void 0:F.series,Vt=(ee=n.previousPolicy)==null?void 0:ee.number,xn=(De=l.previousPolicySeries)==null?void 0:De.trim(),Qe=(te=l.previousPolicyNumber)==null?void 0:te.trim(),tr=!!Ie&&!!Vt&&(xn!==Ie||Qe!==Vt);let an;tr?b.warn("       - insurer  "):an=l.previousPolicyInsurer||((Q=n.previousPolicy)==null?void 0:Q.insurer),b.log("   :",{series:ae,number:we,insurer:an,hasInsurer:!!an,originalSeries:Ie,originalNumber:Vt,currentSeries:xn,currentNumber:Qe,fieldsChanged:tr}),ae&&we?(fe={series:ae,number:we,...an?{insurer:an}:{}},b.log(an?"        ( insurer  API,   ):":"     insurer (   insurer    API)",fe)):(b.warn("     . : series, number. :",{series:ae,number:we,insurer:an}),b.warn("  previousPolicy     "))}else b.log('  "  "   - previousPolicy   ');const ue={vehicle:Me,multidrive:s===!0,owner:R,policyholder:q,policyholderIsOwner:!!r.isOwner,startDate:ce(l==null?void 0:l.startDate),monthDuration:(l==null?void 0:l.term)==="1 "?12:6,drivers:pe,previousPolicy:fe};U&&(b.log("   variablesForDisplay:",JSON.stringify(ue,null,2)),y(ue));const Te=await qI(Me,ue.multidrive,R,q,ue.policyholderIsOwner,ue.startDate,ue.monthDuration,pe,fe);U&&C(Te),b.log("   :",Te);const he=Te.filter(ae=>ae.success&&typeof ae.totalPremium=="number"&&ae.calculationId),Ze=Te.filter(ae=>!ae.success||!ae.calculationId);b.log(`  : ${he.length}`),b.log(` : ${Ze.length}`),Te.forEach((ae,we)=>{ae.calculationId||b.warn(`   ${we+1} (${ae.insurer})   calculationId`)});const ct=he.map(ae=>{const we=CN(ae.insurer),Ie=we?we.name:ae.insurer||" ",Vt=ae.insurer||" ",xn=ae.additionalProducts||[];return{id:`${ae.calculationId}_${ae.insurer}`,calculationId:ae.calculationId,companyName:Ie,companyNameOriginal:Vt,companyLogo:Vp(ae.insurer),price:ae.totalPremium,currency:"RUB",hasAdditionalInsurance:xn.length>0,additionalInsuranceTypes:xn.map(Qe=>Qe.name),additionalProducts:xn}});u(ct),m(Ze.map(ae=>{const we=ae.insurer||" ",Ie=CN(we);return{name:Ie?Ie.name:we,originalName:we,logoPath:Vp(we)}})),ct.length===0&&Ze.length>0&&w("      ")}catch{w("  ")}finally{h(!1)}})()},[n,r,i,a,s,l]);const z=async Z=>{t({id:Z.id,companyName:Z.companyName,price:Z.price,hasAdditionalInsurance:Z.hasAdditionalInsurance}),await K(Z)},K=async Z=>{D(!0),M(Z.id),O(0),w(null);try{if(b.log("    :",Z),!Z.calculationId)throw new Error(" ID . ,   .");b.log(" ID :",Z.calculationId,":",Z.calculationId.length,":",typeof Z.calculationId),b.log("  :",Z.companyName);const ve={calculationId:/^\d+$/.test(Z.calculationId)?parseInt(Z.calculationId,10):Z.calculationId,insurer:Z.companyNameOriginal||Z.companyName};if(b.log("    :",JSON.stringify(ve,null,2)),U){const me={mutation:"BuyOsagoPolicy",variables:{osagoPolicyInput:ve},fullRequest:{query:"mutation BuyOsagoPolicy($osagoPolicyInput: OsagoPolicyInput!) { buyOsagoPolicy(osagoPolicyInput: $osagoPolicyInput) { policyId } }",variables:{osagoPolicyInput:ve}}};b.log("  CreatePolicy:",JSON.stringify(me,null,2)),G(me)}const re=await bR(ve);U&&J(re),b.log("  :",re),or.getState().setPolicyData({policyId:re.policyId,paymentUrl:re.paymentUrl,selectedOffer:{id:Z.id,companyName:Z.companyName,price:Z.price,hasAdditionalInsurance:Z.hasAdditionalInsurance}}),e("/payment")}catch(de){b.error("   :",de),w((de==null?void 0:de.message)||"  "),U&&J({error:(de==null?void 0:de.message)||" ",fullError:de})}finally{D(!1),M(null)}},ie=Z=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0}).format(Z),ge=Z=>{B(de=>de===Z?null:Z)};return f?c.jsx("div",{className:"widget-page-content-wrapper",children:c.jsx("div",{className:"widget-form-column",children:c.jsxs("div",{className:"widget-inner-column",children:[c.jsx("div",{className:"widget-loading-window-outer",children:c.jsxs("div",{className:"widget-loading-window",children:[c.jsxs("div",{className:"widget-car",children:[c.jsx("div",{className:"strike"}),c.jsx("div",{className:"strike strike2"}),c.jsx("div",{className:"strike strike3"}),c.jsx("div",{className:"strike strike4"}),c.jsx("div",{className:"strike strike5"}),c.jsx("div",{className:"widget-car-detail spoiler"}),c.jsx("div",{className:"widget-car-detail back"}),c.jsx("div",{className:"widget-car-detail center"}),c.jsx("div",{className:"widget-car-detail center1"}),c.jsx("div",{className:"widget-car-detail front"}),c.jsx("div",{className:"widget-car-detail wheel"}),c.jsx("div",{className:"widget-car-detail wheel wheel2"})]}),c.jsxs("div",{className:"widget-text",children:[c.jsx("span",{children:L[P]}),c.jsx("span",{className:"dots",children:"..."})]})]})}),c.jsx($i,{}),c.jsx("h4",{children:""}),c.jsx("div",{className:"widget-styled-form"})]})})}):g?c.jsx("div",{className:"widget-page-content-wrapper",children:c.jsx("div",{className:"widget-form-column",children:c.jsxs("div",{className:"widget-inner-column",children:[c.jsx($i,{}),c.jsx("h4",{children:""}),c.jsxs("div",{className:"widget-styled-form",children:[c.jsxs("div",{style:{backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:8,padding:16,marginBottom:24,color:"#dc2626"},children:[c.jsx("strong",{children:":"})," ",g]}),c.jsx(tt,{onClick:()=>window.location.reload(),children:" "})]})]})})}):c.jsx("div",{className:"widget-page-content-wrapper",children:c.jsx("div",{className:"widget-form-column",children:c.jsxs("div",{className:"widget-inner-column",children:[V&&c.jsx("div",{className:"widget-loading-window-outer",children:c.jsxs("div",{className:"widget-loading-window",children:[c.jsxs("div",{className:"widget-car",children:[c.jsx("div",{className:"strike"}),c.jsx("div",{className:"strike strike2"}),c.jsx("div",{className:"strike strike3"}),c.jsx("div",{className:"strike strike4"}),c.jsx("div",{className:"strike strike5"}),c.jsx("div",{className:"widget-car-detail spoiler"}),c.jsx("div",{className:"widget-car-detail back"}),c.jsx("div",{className:"widget-car-detail center"}),c.jsx("div",{className:"widget-car-detail center1"}),c.jsx("div",{className:"widget-car-detail front"}),c.jsx("div",{className:"widget-car-detail wheel"}),c.jsx("div",{className:"widget-car-detail wheel wheel2"})]}),c.jsxs("div",{className:"widget-text",children:[c.jsx("span",{children:le[I]}),c.jsx("span",{className:"dots",children:"..."})]})]})}),c.jsx($i,{}),c.jsx("h4",{children:""}),c.jsxs("div",{className:"widget-styled-form",children:[U&&(p||x||_||X)&&c.jsx("div",{className:"widget-offers__controls",children:c.jsx(tt,{variant:"secondary",onClick:()=>v(!S),children:S?" API ":" API "})}),U&&_&&c.jsxs(jo,{style:{marginBottom:24,backgroundColor:"#fef3c7",border:"1px solid #f59e0b"},children:[c.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:c.jsx("h3",{style:{margin:0,fontSize:16,fontWeight:600,color:"#92400e"},children:"   "})}),c.jsx("div",{style:{backgroundColor:"#fffbeb",border:"1px solid #f59e0b",borderRadius:8,padding:12,fontFamily:"monospace",fontSize:12,overflow:"auto"},children:c.jsx("pre",{style:{margin:0,whiteSpace:"pre-wrap",wordBreak:"break-word"},children:JSON.stringify(_,null,2)})})]}),U&&X&&c.jsxs(jo,{style:{marginBottom:24,backgroundColor:X.error?"#fef2f2":"#f0f9ff",border:X.error?"1px solid #fecaca":"1px solid #bae6fd"},children:[c.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:c.jsx("h3",{style:{margin:0,fontSize:16,fontWeight:600,color:X.error?"#dc2626":"#0369a1"},children:X.error?"    ()":"   "})}),c.jsx("div",{style:{backgroundColor:X.error?"#fef2f2":"#f0f9ff",border:X.error?"1px solid #fecaca":"1px solid #bae6fd",borderRadius:8,padding:12,fontFamily:"monospace",fontSize:12,overflow:"auto"},children:c.jsx("pre",{style:{margin:0,whiteSpace:"pre-wrap",wordBreak:"break-word"},children:JSON.stringify(X,null,2)})})]}),U&&S&&c.jsxs(jo,{style:{marginBottom:24},children:[c.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:c.jsx("h3",{style:{margin:0,fontSize:16,fontWeight:600},children:"API "})}),c.jsxs("div",{style:{display:"grid",gap:12},children:[p&&c.jsxs("div",{children:[c.jsx("div",{style:{fontWeight:600,color:"#374151",marginBottom:6},children:"Variables"}),c.jsx("div",{style:{backgroundColor:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:8,padding:12,fontFamily:"monospace",fontSize:12,overflow:"auto"},children:c.jsx("pre",{style:{margin:0,whiteSpace:"pre-wrap",wordBreak:"break-word"},children:JSON.stringify(p,null,2)})})]}),x&&c.jsxs("div",{children:[c.jsx("div",{style:{fontWeight:600,color:"#374151",marginBottom:6},children:"Response"}),c.jsx("div",{style:{backgroundColor:"#f0f9ff",border:"1px solid #bae6fd",borderRadius:8,padding:12,fontFamily:"monospace",fontSize:12,overflow:"auto"},children:c.jsx("pre",{style:{margin:0,whiteSpace:"pre-wrap",wordBreak:"break-word"},children:JSON.stringify(x,null,2)})})]}),_&&c.jsxs("div",{children:[c.jsx("div",{style:{fontWeight:600,color:"#374151",marginBottom:6},children:"CreatePolicy Request"}),c.jsx("div",{style:{backgroundColor:"#fef3c7",border:"1px solid #f59e0b",borderRadius:8,padding:12,fontFamily:"monospace",fontSize:12,overflow:"auto"},children:c.jsx("pre",{style:{margin:0,whiteSpace:"pre-wrap",wordBreak:"break-word"},children:JSON.stringify(_,null,2)})})]}),!_&&c.jsxs("div",{children:[c.jsx("div",{style:{fontWeight:600,color:"#374151",marginBottom:6},children:"Debug: createPolicyRequest"}),c.jsx("div",{style:{color:"#dc2626"},children:"createPolicyRequest is null/undefined"})]}),X&&c.jsxs("div",{children:[c.jsx("div",{style:{fontWeight:600,color:"#374151",marginBottom:6},children:"CreatePolicy Response"}),c.jsx("div",{style:{backgroundColor:X.error?"#fef2f2":"#f0f9ff",border:X.error?"1px solid #fecaca":"1px solid #bae6fd",borderRadius:8,padding:12,fontFamily:"monospace",fontSize:12,overflow:"auto"},children:c.jsx("pre",{style:{margin:0,whiteSpace:"pre-wrap",wordBreak:"break-word"},children:JSON.stringify(X,null,2)})})]})]})]}),o.length>0&&c.jsxs("div",{style:{marginBottom:24},children:[c.jsx("h3",{style:{marginBottom:16,fontSize:18,fontWeight:600},children:" "}),c.jsx("div",{className:"widget-offers__list",children:o.map(Z=>{const de=Z.hasAdditionalInsurance&&!!Z.additionalProducts&&Z.additionalProducts.length>0,ve=A===Z.id;return c.jsxs(jo,{className:"widget-offer-card","data-expanded":ve,"data-expandable":de,role:de?"button":void 0,tabIndex:de?0:-1,onClick:de?re=>{const me=re.target;me.closest(".widget-offer-card__actions")||me.closest("button")||ge(Z.id)}:void 0,onKeyDown:de?re=>{if(re.key==="Enter"||re.key===" "){re.preventDefault();const me=re.target;if(me.closest(".widget-offer-card__actions")||me.closest("button"))return;ge(Z.id)}}:void 0,children:[c.jsxs("div",{className:"widget-offer-card__header",children:[c.jsxs("div",{className:"widget-offer-card__info",children:[c.jsxs("div",{className:"widget-offer-card__logo-wrapper",children:[c.jsx("img",{src:Z.companyLogo,alt:Z.companyName,className:"widget-offer-card__logo-img",onError:re=>{const me=re.target;me.style.display="none";const F=me.nextElementSibling;F&&(F.style.display="flex")}}),c.jsx("div",{className:"widget-offer-card__logo-fallback",style:{display:"none"},children:Z.companyName.charAt(0)})]}),c.jsxs("div",{className:"widget-offer-card__company-info",children:[c.jsx("div",{className:"widget-offer-card__company",children:Z.companyName}),Z.hasAdditionalInsurance&&c.jsx("div",{className:"widget-offer-card__badge",children:"  "})]})]}),c.jsxs("div",{className:"widget-offer-card__price",children:[c.jsx("div",{className:"widget-offer-card__price-value",children:ie(Z.price)}),c.jsx("div",{className:"widget-offer-card__price-sub",children:" "})]}),c.jsxs("div",{className:"widget-offer-card__actions",children:[c.jsx(tt,{onClick:re=>{re.stopPropagation(),z(Z)},disabled:V,style:{flex:1},children:k===Z.id?" ...":""}),U&&c.jsx(tt,{variant:"secondary",onClick:re=>{re.stopPropagation();const me={mutation:"BuyOsagoPolicy",variables:{osagoPolicyInput:{calculationId:Z.calculationId,insurer:Z.companyName}},fullRequest:{query:"mutation BuyOsagoPolicy($osagoPolicyInput: OsagoPolicyInput!) { buyOsagoPolicy(osagoPolicyInput: $osagoPolicyInput) { policyId } }",variables:{osagoPolicyInput:{calculationId:Z.calculationId,insurer:Z.companyName}}}};G(me),b.log("   BuyOsagoPolicy:",me)},style:{minWidth:"auto",padding:"8px 12px"},title:"   ",children:""})]}),de?c.jsx("div",{className:`widget-offer-card__chevron ${ve?"is-open":""}`,role:"button",tabIndex:0,onClick:re=>{re.stopPropagation(),ge(Z.id)},onKeyDown:re=>{(re.key==="Enter"||re.key===" ")&&(re.preventDefault(),re.stopPropagation(),ge(Z.id))},"aria-label":ve?"  ":"   ","aria-expanded":ve,children:c.jsx("span",{})}):c.jsx("div",{className:"widget-offer-card__chevron-placeholder"})]}),de&&ve&&c.jsxs("div",{className:"widget-offer-card__details",children:[c.jsx("div",{className:"widget-offer-card__details-title",children:" "}),c.jsx("div",{className:"widget-offer-card__addons-list",children:(Z.additionalProducts??[]).map((re,me)=>c.jsxs("div",{className:"widget-offer-card__addon-row",children:[c.jsxs("div",{className:"widget-offer-card__addon-info",children:[c.jsx("div",{className:"widget-offer-card__addon-name",children:re.name}),c.jsx("div",{className:"widget-offer-card__addon-note",children:"      ."})]}),c.jsx("div",{className:"widget-offer-card__addon-price",children:ie(re.price)})]},`${re.name}-${me}`))})]})]},Z.id)})})]}),d.length>0&&c.jsxs("div",{className:"widget-offers__failed",children:[c.jsx("h3",{className:"widget-offers__failed-title",children:"      :"}),c.jsx("div",{className:"widget-offers__failed-list",children:d.map((Z,de)=>c.jsxs("div",{className:"widget-offers__failed-item",children:[c.jsxs("div",{className:"widget-offer-card__logo-wrapper",style:{width:48,height:48},children:[c.jsx("img",{src:Z.logoPath,alt:Z.name,className:"widget-offer-card__logo-img",onError:ve=>{const re=ve.target;re.style.display="none";const me=re.nextElementSibling;me&&(me.style.display="flex")}}),c.jsx("div",{className:"widget-offer-card__logo-fallback",style:{display:"none"},children:Z.name.charAt(0)})]}),c.jsx("div",{style:{display:"flex",flexDirection:"column"},children:c.jsx("span",{style:{color:"#dc2626",fontWeight:600},children:Z.name})})]},de))})]}),c.jsx("div",{className:"widget-form-actions",children:c.jsxs(tt,{variant:"theme",onClick:()=>e(-1),children:[" ",c.jsx("i",{className:"fa fa-arrow-circle-left"})]})})]})]})})})}function ER(){var X,J;const e=Yr(),{vehicle:t,policyholder:n,owner:r,drivers:i,unlimitedDrivers:a,options:s,selectedOffer:l,policyData:o}=or(),[u,d]=E.useState(!1),[m,f]=E.useState(null),[h,g]=E.useState(null),[w,S]=E.useState(""),[v,p]=E.useState(""),[y,x]=E.useState([]),[C,V]=E.useState(!1);E.useEffect(()=>{(async()=>{if(t.brand&&t.model)try{const I=(await Do()).find(O=>O.id===t.brand);if(I){S(I.name);const A=(await Vs(t.brand)).find(B=>B.id===t.model);A&&p(A.name)}}catch(Y){b.error("  :",Y)}})()},[t.brand,t.model]),E.useEffect(()=>{(async()=>{try{const Y=await qs();x(Y)}catch(Y){b.error("   :",Y)}})()},[]);const D=E.useCallback(async()=>{if(!(o!=null&&o.policyId)){f("ID   ");return}d(!0),f(null),g(null);try{const P=await wR(o.policyId);g(P)}catch(P){f((P==null?void 0:P.message)||"    ")}finally{d(!1)}},[o==null?void 0:o.policyId]);E.useEffect(()=>{o!=null&&o.paymentUrl?g(o.paymentUrl):o!=null&&o.policyId?D():f("   .    .")},[o,D]);const k=()=>{if(h){const I=(window.screen.width-800)/2,O=(window.screen.height-700)/2,A=window.open(h,"payment",`width=800,height=700,left=${I},top=${O},toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes`);if(A){A.focus(),V(!0);const B=setInterval(()=>{A.closed&&(clearInterval(B),V(!1),b.log("   "),e("/success"))},500)}else f("    . ,   .")}else f("     ")},M=P=>P?new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0}).format(P):" ",_=P=>Tw(P),G=P=>{if(!P)return" ";const Y=y.find(I=>I.id===P);return(Y==null?void 0:Y.name)||" "};return c.jsx("div",{className:"widget-page-content-wrapper",children:c.jsx("div",{className:"widget-form-column",children:c.jsxs("div",{className:"widget-inner-column",children:[c.jsx($i,{}),c.jsx("h4",{children:""}),c.jsx("p",{style:{marginBottom:32},children:",     .  ( )        ."}),c.jsxs("div",{className:"widget-styled-form",children:[c.jsxs("div",{className:"widget-check-wrapper",children:[o&&c.jsxs("div",{className:"widget-check-item-wrapper",children:[c.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:c.jsx("h4",{style:{margin:0,fontSize:16,fontWeight:600},children:" "})}),c.jsxs("div",{className:"widget-data-table",children:[c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:"ID "}),c.jsx("div",{className:"widget-data-table-value",children:o.policyId})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:o.paymentUrl?"  ":""})]})]})]}),c.jsxs("div",{className:"widget-check-item-wrapper",children:[c.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:c.jsx("h4",{style:{margin:0,fontSize:16,fontWeight:600},children:" "})}),(()=>{const P=l.companyLogo||Vp(l.companyName);return P?c.jsx("div",{className:"widget-company-logo-full-width-wrapper",children:c.jsx("img",{src:P,alt:l.companyName||"",className:"widget-company-logo-full-width",onError:Y=>{const I=Y.target;I.style.display="none"}})}):null})(),c.jsxs("div",{className:"widget-data-table",children:[c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:l.companyName||" "})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value widget-payment-price",children:M(l.price)})]})]})]}),c.jsxs("div",{className:"widget-check-item-wrapper",children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[c.jsx("h4",{style:{margin:0,fontSize:16,fontWeight:600},children:""}),c.jsx(tt,{variant:"secondary",onClick:()=>e("/vehicle"),style:{minWidth:"auto",fontSize:12,padding:"4px 12px"},children:" "})]}),c.jsxs("div",{className:"widget-data-table",children:[c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:w||t.brand||" "})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:v||t.model||" "})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:t.year||" "})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:t.power?`${t.power} ..`:" "})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:t.plate||" "})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:"VIN"}),c.jsx("div",{className:"widget-data-table-value",children:t.vin||" "})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:G(t.documentType)})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:t.documentSeries||" "})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:t.documentNumber||" "})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:" "}),c.jsx("div",{className:"widget-data-table-value",children:_(t.documentIssueDate)})]})]})]}),c.jsxs("div",{className:"widget-check-item-wrapper",children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[c.jsx("h4",{style:{margin:0,fontSize:16,fontWeight:600},children:""}),c.jsx(tt,{variant:"secondary",onClick:()=>e("/policyholder"),style:{minWidth:"auto",fontSize:12,padding:"4px 12px"},children:" "})]}),c.jsxs("div",{className:"widget-data-table",children:[c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsxs("div",{className:"widget-data-table-value",children:[n.lastName," ",n.firstName," ",n.middleName]})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:" "}),c.jsx("div",{className:"widget-data-table-value",children:_(n.birthDate)})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:((X=n.addressData)==null?void 0:X.value)||n.addressText||(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(n.address||"")?"":n.address)||" "})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:G(n.documentType)})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:n.documentSeries||" "})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:n.documentNumber||" "})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:" "}),c.jsx("div",{className:"widget-data-table-value",children:_(n.documentIssueDate)})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:" "}),c.jsx("div",{className:"widget-data-table-value",children:n.isOwner?"":""})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:"Email"}),c.jsx("div",{className:"widget-data-table-value",children:n.email||" "})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:n.phone||" "})]})]})]}),!n.isOwner&&c.jsxs("div",{className:"widget-check-item-wrapper",children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[c.jsx("h4",{style:{margin:0,fontSize:16,fontWeight:600},children:""}),c.jsx(tt,{variant:"secondary",onClick:()=>e("/policyholder"),style:{minWidth:"auto",fontSize:12,padding:"4px 12px"},children:" "})]}),c.jsxs("div",{className:"widget-data-table",children:[c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsxs("div",{className:"widget-data-table-value",children:[r.lastName," ",r.firstName," ",r.middleName]})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:" "}),c.jsx("div",{className:"widget-data-table-value",children:_(r.birthDate)})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:((J=r.addressData)==null?void 0:J.value)||r.addressText||(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(r.address||"")?"":r.address)||" "})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:r.phone||" "})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:G(r.documentType)})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:r.documentSeries||" "})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:r.documentNumber||" "})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:" "}),c.jsx("div",{className:"widget-data-table-value",children:_(r.documentIssueDate)})]})]})]}),c.jsxs("div",{className:"widget-check-item-wrapper",children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[c.jsx("h4",{style:{margin:0,fontSize:16,fontWeight:600},children:""}),c.jsx(tt,{variant:"secondary",onClick:()=>e("/drivers"),style:{minWidth:"auto",fontSize:12,padding:"4px 12px"},children:" "})]}),a?c.jsx("div",{style:{padding:"12px",backgroundColor:"#f9fafb",borderRadius:8},children:c.jsx("strong",{children:" "})}):i.length>0?c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:16},children:i.map((P,Y)=>{var I,O,A,B,U,L;return c.jsxs("div",{children:[c.jsxs("h5",{style:{margin:"0 0 8px 0",fontSize:14,fontWeight:600},children:[" ",Y+1,": ",P.lastName," ",P.firstName," ",P.middleName]}),c.jsxs("div",{className:"widget-data-table",children:[c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:" "}),c.jsx("div",{className:"widget-data-table-value",children:_(P.birthDate)})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:" "}),c.jsx("div",{className:"widget-data-table-value",children:(I=P.drivingLicense)!=null&&I.type?((O=y.find(le=>{var z;return le.id===((z=P.drivingLicense)==null?void 0:z.type)}))==null?void 0:O.name)||((A=P.drivingLicense)==null?void 0:A.type):" "})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsxs("div",{className:"widget-data-table-value",children:[(B=P.drivingLicense)==null?void 0:B.series," ",(U=P.drivingLicense)==null?void 0:U.number]})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:" "}),c.jsx("div",{className:"widget-data-table-value",children:_((L=P.drivingLicense)==null?void 0:L.issueDate)})]}),P.firstLicenseDate&&c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:"  "}),c.jsx("div",{className:"widget-data-table-value",children:_(P.firstLicenseDate)})]}),P.previousDrivingLicense&&c.jsxs(c.Fragment,{children:[P.previousLastName&&c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:" "}),c.jsx("div",{className:"widget-data-table-value",children:P.previousLastName})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:" "}),c.jsxs("div",{className:"widget-data-table-value",children:[P.previousDrivingLicense.series," ",P.previousDrivingLicense.number]})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:"   "}),c.jsx("div",{className:"widget-data-table-value",children:_(P.previousDrivingLicense.issueDate)})]})]})]})]},P.id)})}):c.jsx("div",{style:{padding:"12px",backgroundColor:"#f9fafb",borderRadius:8},children:"  "})]}),c.jsxs("div",{className:"widget-check-item-wrapper",children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[c.jsx("h4",{style:{margin:0,fontSize:16,fontWeight:600},children:" "}),c.jsx(tt,{variant:"secondary",onClick:()=>e("/options"),style:{minWidth:"auto",fontSize:12,padding:"4px 12px"},children:" "})]}),c.jsxs("div",{className:"widget-data-table",children:[c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:" "}),c.jsx("div",{className:"widget-data-table-value",children:_(s.startDate)})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:" "}),c.jsx("div",{className:"widget-data-table-value",children:s.term||" "})]}),s.hasPreviousPolicy&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:" "}),c.jsx("div",{className:"widget-data-table-value",children:""})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:s.previousPolicySeries||" "})]}),c.jsxs("div",{className:"widget-data-table-row",children:[c.jsx("div",{className:"widget-data-table-label",children:""}),c.jsx("div",{className:"widget-data-table-value",children:s.previousPolicyNumber||" "})]})]})]})]})]}),m&&c.jsxs("div",{style:{backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:8,padding:16,marginBottom:24,color:"#dc2626"},children:[c.jsx("strong",{children:":"})," ",m]}),h&&!C&&c.jsxs("div",{style:{backgroundColor:"#f0f9ff",border:"1px solid #bae6fd",borderRadius:8,padding:16,marginBottom:24,color:"#0369a1"},children:[c.jsx("div",{style:{fontWeight:600,marginBottom:8},children:"   "}),c.jsx("div",{children:'   " , "      .          email.'})]}),C&&c.jsxs("div",{style:{backgroundColor:"#fef3c7",border:"1px solid #fbbf24",borderRadius:8,padding:16,marginBottom:24,color:"#92400e"},children:[c.jsx("div",{style:{fontWeight:600,marginBottom:8},children:"   "}),c.jsx("div",{children:",     .           ."})]}),c.jsxs("div",{className:"widget-form-actions",children:[c.jsxs(tt,{variant:"theme",onClick:()=>e(-1),children:[" ",c.jsx("i",{className:"fa fa-arrow-circle-left"})]}),!h&&c.jsx(tt,{variant:"theme",onClick:D,disabled:u,children:u?" ...":"   "}),h&&c.jsxs(tt,{variant:"theme",onClick:k,disabled:u,children:[" ,  ",c.jsx("i",{className:"fa fa-credit-card"})]})]})]})]})})})}function DR(){const{policyholder:e,options:t}=or(),n=e.email||t.email;return c.jsx("div",{className:"widget-page-content-wrapper",children:c.jsxs("div",{className:"success-widget-page-content-wrapper",children:[c.jsx("h2",{children:"  "}),c.jsxs("p",{children:["   ,        ",n?`"${n}"`:""]})]})})}const jN=["customBg","customText","customPrimary","customBorder","customBorderStyle","customPadding","customMargin","customShadow","customOpacity","customTransition","customTransform","customResponsiveWidth","customResponsiveHeight","customFontSize","customBorderRadius","customSpacing"];function TR(){let e=new URLSearchParams(window.location.search);if(!e.has("customBg")&&document.referrer)try{const t=new URL(document.referrer);t.searchParams.has("customBg")&&(e=t.searchParams,b.log("Found custom styles in referrer URL"))}catch{b.warn("Could not parse referrer URL")}if(!e.has("customBg")){const t=localStorage.getItem("widget-custom-styles");if(t)try{const n=JSON.parse(t);e=new URLSearchParams(n),b.log("Found custom styles in localStorage")}catch{b.warn("Could not parse saved styles")}}return e}function _R(e){const t=e.get("theme");t&&(b.log("    URL:",t),localStorage.setItem("theme",t))}function OR(e){return jN.some(t=>e.has(t))}function CR(e){const t=n=>e.get(n);return`
    :root {
      ${t("customBg")?`--bg: ${t("customBg")};`:""}
      ${t("customText")?`--text: ${t("customText")};`:""}
      ${t("customPrimary")?`--primary: ${t("customPrimary")};`:""}
      ${t("customBorder")?`--border: ${t("customBorder")};`:""}
      ${t("customBorderStyle")?`--border-style: ${t("customBorderStyle")};`:""}
      ${t("customPadding")?`--padding: ${t("customPadding")};`:""}
      ${t("customMargin")?`--margin: ${t("customMargin")};`:""}
      ${t("customShadow")?`--shadow: ${t("customShadow")};`:""}
      ${t("customOpacity")?`--opacity: ${parseInt(t("customOpacity")||"100")/100};`:""}
      ${t("customTransition")?`--transition: ${t("customTransition")};`:""}
      ${t("customTransform")?`--transform: ${t("customTransform")};`:""}
      ${t("customResponsiveWidth")?`--responsive-width: ${t("customResponsiveWidth")};`:""}
      ${t("customResponsiveHeight")?`--responsive-height: ${t("customResponsiveHeight")};`:""}
      ${t("customFontSize")?`--font-size: ${t("customFontSize")};`:""}
      ${t("customBorderRadius")?`--border-radius: ${t("customBorderRadius")};`:""}
      ${t("customSpacing")?`--spacing: ${t("customSpacing")};`:""}
    }
    
    body {
      ${t("customBg")?`background-color: ${t("customBg")};`:""}
      ${t("customText")?`color: ${t("customText")};`:""}
      ${t("customFontSize")?`font-size: ${t("customFontSize")};`:""}
      ${t("customPadding")?`padding: ${t("customPadding")};`:""}
      ${t("customMargin")?`margin: ${t("customMargin")};`:""}
      ${t("customShadow")?`box-shadow: ${t("customShadow")};`:""}
      ${t("customOpacity")?`opacity: ${parseInt(t("customOpacity")||"100")/100};`:""}
      ${t("customTransition")?`transition: ${t("customTransition")};`:""}
      ${t("customTransform")?`transform: ${t("customTransform")};`:""}
    }
    
    .btn-primary {
      ${t("customPrimary")?`background-color: ${t("customPrimary")};`:""}
      ${t("customPrimary")?`border-color: ${t("customPrimary")};`:""}
    }
    
    .border-primary {
      ${t("customBorder")?`border-color: ${t("customBorder")};`:""}
      ${t("customBorderStyle")?`border-style: ${t("customBorderStyle")};`:""}
    }
    
    @media (max-width: 768px) {
      body {
        ${t("customResponsiveWidth")?`width: ${t("customResponsiveWidth")};`:""}
        ${t("customResponsiveHeight")?`height: ${t("customResponsiveHeight")};`:""}
      }
    }
  `}function jR(e){let t=document.getElementById("custom-widget-styles");t||(t=document.createElement("style"),t.id="custom-widget-styles",document.head.appendChild(t)),t.textContent=e}function AR(e){const t={};jN.forEach(n=>{t[n]=e.get(n)}),b.debug("Custom styles URL params:",t)}function MR(){if(typeof window>"u")return;const e=window.location.href;b.debug("Current URL:",e);const t=TR();if(_R(t),AR(t),OR(t)){b.log("Applying custom styles...");const n=CR(t);jR(n),b.log("Custom styles applied successfully")}else b.debug("No custom styles found")}function kR({forcedTheme:e}={}){return E.useEffect(()=>{MR()},[]),c.jsx(AT,{forcedTheme:e,children:c.jsx(MT,{children:c.jsx(zT,{children:c.jsx("div",{className:"widget-main-homepage",children:c.jsxs("div",{className:"widget-page-wrapper",children:[c.jsx(RT,{}),c.jsx("section",{className:"widget-insurance-page-section-widget",id:"insurance-page-section",children:c.jsx("div",{children:c.jsx("div",{className:"widget-inner-container",children:c.jsx(IT,{children:c.jsxs(_T,{children:[c.jsx(yr,{path:"/",element:c.jsx(GI,{})}),c.jsx(yr,{path:"/vehicle",element:c.jsx(cR,{})}),c.jsx(yr,{path:"/drivers",element:c.jsx(fR,{})}),c.jsx(yr,{path:"/policyholder",element:c.jsx(gR,{})}),c.jsx(yr,{path:"/options",element:c.jsx(yR,{})}),c.jsx(yr,{path:"/offers",element:c.jsx(NR,{})}),c.jsx(yr,{path:"/payment",element:c.jsx(ER,{})}),c.jsx(yr,{path:"/success",element:c.jsx(DR,{})}),c.jsx(yr,{path:"*",element:c.jsx(DT,{to:"/",replace:!0})})]})})})})})]})})})})})}const xa=new Map,IR="https://test4.teamsite.ru/osago/index.html",AN="osago-scope",MN=(e,t=!0)=>{if(e instanceof HTMLElement)return e;if(typeof e=="string"){const r=document.querySelector(e);if(r instanceof HTMLElement)return r}if(!t)return null;const n=document.createElement("div");return n.id=`osago-widget-${Date.now().toString(36)}`,n.style.width="100%",n.style.maxWidth="1080px",n.style.margin="0 auto",n.classList.add(AN),document.body.appendChild(n),n},RR=(e,t)=>{const n=new URLSearchParams;t&&n.set("theme",t),Object.entries(e||{}).forEach(([i,a])=>{a!=null&&n.set(i,String(a))});const r=n.toString();return r?`?${r}`:""},zR=(e="/",t,n)=>`${e.startsWith("/")?e:`/${e}`}${RR(t,n)}`,kN=()=>{if(typeof document>"u")return null;const t=Array.from(document.getElementsByTagName("script")).find(n=>(n.src||"").includes("osago-widget"));if(!t||!t.src)return null;try{const n=new URL(t.src,window.location.href);return n.pathname=n.pathname.replace(/\/[^/]*$/,""),n.toString().replace(/\/$/,"")}catch{return null}},IN=()=>{if(typeof document>"u")return;if(document.querySelector('link[href*="osago-widget.css"]')){b.debug(" OsagoWidget: CSS  ");return}const n=Array.from(document.getElementsByTagName("script")).find(r=>(r.src||"").includes("osago-widget"));if(!n||!n.src){b.warn("  OsagoWidget:      CSS,   ");return}try{const r=new URL(n.src,window.location.href);r.pathname=r.pathname.replace(/\/[^/]*\.js$/,"/osago-widget.css");const i=r.toString(),a=document.createElement("link");a.rel="stylesheet",a.href=i,a.id="osago-widget-stylesheet";const s=document.head||document.getElementsByTagName("head")[0];s?(s.appendChild(a),b.info(" OsagoWidget: CSS  :",i)):b.warn("  OsagoWidget:    <head>   CSS")}catch(r){b.error(" OsagoWidget:    CSS:",r)}},LR=e=>{const t=e||kN();return t&&(globalThis.__OSAGO_ASSET_BASE=t),t},UR=e=>{const t=LR(e);if(!t)return;const n=[{re:/url\((['"]?)(\/images\/)/g,prefix:`url($1${t}/images/`},{re:/url\((['"]?)(\/fonts\/)/g,prefix:`url($1${t}/fonts/`}];Array.from(document.querySelectorAll("style")).forEach(i=>{const a=i.textContent;if(!a)return;let s=a;n.forEach(({re:l,prefix:o})=>{s=s.replace(l,o)}),s!==a&&(i.textContent=s)})},RN=(e,t,n,r,i)=>{b.debug(" renderApp:  ",{entry:t,forcedTheme:r,assetBase:i});const a=document.documentElement,s=document.body;a.classList.add("osago-embed"),s.classList.add("osago-embed"),e.classList.add(AN);const l=I1.createRoot(e);if(l.render(c.jsx(E.StrictMode,{children:c.jsx(ET,{initialEntries:[t],children:c.jsx(kR,{forcedTheme:r})})})),UR(i),r)try{b.debug(" renderApp:  ",r),e.setAttribute("data-theme",r),document.body.setAttribute("data-theme",r),localStorage.setItem("osago-widget-theme",r)}catch(o){b.error(" renderApp:   ",o)}return typeof n=="function"&&n(),l},cd=(e={})=>{IN();const{target:t,params:n,theme:r,path:i,onReady:a,assetBase:s}=e,l=MN(t);if(!l)throw new Error("OsagoWidget:      ");const o=zR(i||"/",n,r);if(xa.has(l)){const f=xa.get(l);return f.root.unmount(),f.root=RN(l,o,a,r,s),f}const u=RN(l,o,a,r,s),m={root:u,host:l,cleanup:()=>{u.unmount(),xa.delete(l)}};return xa.set(l,m),m},qp=e=>{const t=MN(e,!1);if(!t)return;const n=xa.get(t);n&&(n.cleanup(),t.innerHTML=""),xa.size===0&&(document.documentElement.classList.remove("osago-embed"),document.body.classList.remove("osago-embed"))},zN=()=>{IN();const e=document.querySelectorAll("[data-osago-widget], #osago-container");if(e.length===0){b.debug(" OsagoWidget:      ");return}b.debug(" OsagoWidget:    :",e.length),e.forEach(t=>{if(!(t instanceof HTMLElement))return;if(xa.has(t)){b.debug(" OsagoWidget:   , ");return}const n=t.dataset.osagoTheme||t.dataset.theme,r=t.dataset.osagoPath||t.dataset.path||"/",i=t.dataset.osagoAssetBase||t.dataset.assetBase||kN()||void 0;b.info(" OsagoWidget: ",{id:t.id,theme:n,path:r,assetBase:i,dataset:Object.fromEntries(Object.entries(t.dataset))});const a={};Object.keys(t.dataset).forEach(s=>{if(s.startsWith("osagoParam")||s.startsWith("param")){const l=s.replace(/^(osago)?[Pp]aram/,"").replace(/^[A-Z]/,o=>o.toLowerCase());a[l]=t.dataset[s]||void 0}});try{cd({target:t,theme:n,path:r,assetBase:i,params:Object.keys(a).length>0?a:void 0,onReady:()=>{b.info("     ",t.id||t.className," :",n||"default")}})}catch(s){b.error("    :",s)}})};typeof globalThis<"u"&&(globalThis.OsagoWidget={mount:cd,unmount:qp,defaultUrl:IR,version:"2.0.0"},typeof document<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",zN):zN()));const $R={mount:cd,unmount:qp};un.default=$R,un.mount=cd,un.unmount=qp,Object.defineProperties(un,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
